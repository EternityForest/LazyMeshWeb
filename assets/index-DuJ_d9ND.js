var Sh=Object.defineProperty;var Aa=e=>{throw TypeError(e)};var Ah=(e,t,r)=>t in e?Sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ie=(e,t,r)=>Ah(e,typeof t!="symbol"?t+"":t,r),qi=(e,t,r)=>t.has(e)||Aa("Cannot "+r);var q=(e,t,r)=>(qi(e,t,"read from private field"),r?r.call(e):t.get(e)),je=(e,t,r)=>t.has(e)?Aa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ue=(e,t,r,s)=>(qi(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),ke=(e,t,r)=>(qi(e,t,"access private method"),r);var qn=(e,t,r,s)=>({set _(l){Ue(e,t,l,r)},get _(){return q(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ko(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ve={},cn=[],zt=()=>{},Th=()=>!1,Ti=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zo=e=>e.startsWith("onUpdate:"),yt=Object.assign,Go=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Ih=Object.prototype.hasOwnProperty,We=(e,t)=>Ih.call(e,t),Le=Array.isArray,hn=e=>Ii(e)==="[object Map]",Ll=e=>Ii(e)==="[object Set]",Ne=e=>typeof e=="function",rt=e=>typeof e=="string",Ur=e=>typeof e=="symbol",et=e=>e!==null&&typeof e=="object",Nl=e=>(et(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),jl=Object.prototype.toString,Ii=e=>jl.call(e),xh=e=>Ii(e).slice(8,-1),Dl=e=>Ii(e)==="[object Object]",Yo=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xn=Ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xi=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},kh=/-(\w)/g,Or=xi(e=>e.replace(kh,(t,r)=>r?r.toUpperCase():"")),Ch=/\B([A-Z])/g,Mr=xi(e=>e.replace(Ch,"-$1").toLowerCase()),Fl=xi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vi=xi(e=>e?`on${Fl(e)}`:""),kr=(e,t)=>!Object.is(e,t),ti=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Wl=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},ps=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ta;const ki=()=>Ta||(Ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qo(e){if(Le(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],l=rt(s)?Uh(s):Qo(s);if(l)for(const n in l)t[n]=l[n]}return t}else if(rt(e)||et(e))return e}const Oh=/;(?![^(]*\))/g,Ph=/:([^]+)/,Rh=/\/\*[^]*?\*\//g;function Uh(e){const t={};return e.replace(Rh,"").split(Oh).forEach(r=>{if(r){const s=r.split(Ph);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ci(e){let t="";if(rt(e))t=e;else if(Le(e))for(let r=0;r<e.length;r++){const s=Ci(e[r]);s&&(t+=s+" ")}else if(et(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Mh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bh=Ko(Mh);function Hl(e){return!!e||e===""}const $l=e=>!!(e&&e.__v_isRef===!0),Nt=e=>rt(e)?e:e==null?"":Le(e)||et(e)&&(e.toString===jl||!Ne(e.toString))?$l(e)?Nt(e.value):JSON.stringify(e,ql,2):String(e),ql=(e,t)=>$l(t)?ql(e,t.value):hn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,l],n)=>(r[Ki(s,n)+" =>"]=l,r),{})}:Ll(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ki(r))}:Ur(t)?Ki(t):et(t)&&!Le(t)&&!Dl(t)?String(t):t,Ki=(e,t="")=>{var r;return Ur(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class Lh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!t&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Tt;try{return Tt=this,t()}finally{Tt=r}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Nh(){return Tt}let ze;const zi=new WeakSet;class Vl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zi.has(this)&&(zi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ia(this),Gl(this);const t=ze,r=jt;ze=this,jt=!0;try{return this.fn()}finally{Yl(this),ze=t,jt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zo(t);this.deps=this.depsTail=void 0,Ia(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gs(this)&&this.run()}get dirty(){return gs(this)}}let Kl=0,kn,Cn;function zl(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=kn,kn=e}function Jo(){Kl++}function Xo(){if(--Kl>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;kn;){let t=kn;for(kn=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function Gl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yl(e){let t,r=e.depsTail,s=r;for(;s;){const l=s.prevDep;s.version===-1?(s===r&&(r=l),Zo(s),jh(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=l}e.deps=t,e.depsTail=r}function gs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ql(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ql(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Bn)||(e.globalVersion=Bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!gs(e))))return;e.flags|=2;const t=e.dep,r=ze,s=jt;ze=e,jt=!0;try{Gl(e);const l=e.fn(e._value);(t.version===0||kr(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{ze=r,jt=s,Yl(e),e.flags&=-3}}function Zo(e,t=!1){const{dep:r,prevSub:s,nextSub:l}=e;if(s&&(s.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)Zo(n,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function jh(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let jt=!0;const Jl=[];function cr(){Jl.push(jt),jt=!1}function hr(){const e=Jl.pop();jt=e===void 0?!0:e}function Ia(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=ze;ze=void 0;try{t()}finally{ze=r}}}let Bn=0;class Dh{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ea{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ze||!jt||ze===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ze)r=this.activeLink=new Dh(ze,this),ze.deps?(r.prevDep=ze.depsTail,ze.depsTail.nextDep=r,ze.depsTail=r):ze.deps=ze.depsTail=r,Xl(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ze.depsTail,r.nextDep=void 0,ze.depsTail.nextDep=r,ze.depsTail=r,ze.deps===r&&(ze.deps=s)}return r}trigger(t){this.version++,Bn++,this.notify(t)}notify(t){Jo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Xo()}}}function Xl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Xl(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ms=new WeakMap,Qr=Symbol(""),ys=Symbol(""),Ln=Symbol("");function pt(e,t,r){if(jt&&ze){let s=ms.get(e);s||ms.set(e,s=new Map);let l=s.get(r);l||(s.set(r,l=new ea),l.map=s,l.key=r),l.track()}}function ar(e,t,r,s,l,n){const i=ms.get(e);if(!i){Bn++;return}const a=o=>{o&&o.trigger()};if(Jo(),t==="clear")i.forEach(a);else{const o=Le(e),u=o&&Yo(r);if(o&&r==="length"){const h=Number(s);i.forEach((d,m)=>{(m==="length"||m===Ln||!Ur(m)&&m>=h)&&a(d)})}else switch((r!==void 0||i.has(void 0))&&a(i.get(r)),u&&a(i.get(Ln)),t){case"add":o?u&&a(i.get("length")):(a(i.get(Qr)),hn(e)&&a(i.get(ys)));break;case"delete":o||(a(i.get(Qr)),hn(e)&&a(i.get(ys)));break;case"set":hn(e)&&a(i.get(Qr));break}}Xo()}function nn(e){const t=Fe(e);return t===e?t:(pt(t,"iterate",Ln),Mt(e)?t:t.map(lt))}function Oi(e){return pt(e=Fe(e),"iterate",Ln),e}const Fh={__proto__:null,[Symbol.iterator](){return Gi(this,Symbol.iterator,lt)},concat(...e){return nn(this).concat(...e.map(t=>Le(t)?nn(t):t))},entries(){return Gi(this,"entries",e=>(e[1]=lt(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,r=>r.map(lt),arguments)},find(e,t){return Jt(this,"find",e,t,lt,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,lt,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Yi(this,"includes",e)},indexOf(...e){return Yi(this,"indexOf",e)},join(e){return nn(this).join(e)},lastIndexOf(...e){return Yi(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return vn(this,"pop")},push(...e){return vn(this,"push",e)},reduce(e,...t){return xa(this,"reduce",e,t)},reduceRight(e,...t){return xa(this,"reduceRight",e,t)},shift(){return vn(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return vn(this,"splice",e)},toReversed(){return nn(this).toReversed()},toSorted(e){return nn(this).toSorted(e)},toSpliced(...e){return nn(this).toSpliced(...e)},unshift(...e){return vn(this,"unshift",e)},values(){return Gi(this,"values",lt)}};function Gi(e,t,r){const s=Oi(e),l=s[t]();return s!==e&&!Mt(e)&&(l._next=l.next,l.next=()=>{const n=l._next();return n.value&&(n.value=r(n.value)),n}),l}const Wh=Array.prototype;function Jt(e,t,r,s,l,n){const i=Oi(e),a=i!==e&&!Mt(e),o=i[t];if(o!==Wh[t]){const d=o.apply(e,n);return a?lt(d):d}let u=r;i!==e&&(a?u=function(d,m){return r.call(this,lt(d),m,e)}:r.length>2&&(u=function(d,m){return r.call(this,d,m,e)}));const h=o.call(i,u,s);return a&&l?l(h):h}function xa(e,t,r,s){const l=Oi(e);let n=r;return l!==e&&(Mt(e)?r.length>3&&(n=function(i,a,o){return r.call(this,i,a,o,e)}):n=function(i,a,o){return r.call(this,i,lt(a),o,e)}),l[t](n,...s)}function Yi(e,t,r){const s=Fe(e);pt(s,"iterate",Ln);const l=s[t](...r);return(l===-1||l===!1)&&ia(r[0])?(r[0]=Fe(r[0]),s[t](...r)):l}function vn(e,t,r=[]){cr(),Jo();const s=Fe(e)[t].apply(e,r);return Xo(),hr(),s}const Hh=Ko("__proto__,__v_isRef,__isVue"),Zl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ur));function $h(e){Ur(e)||(e=String(e));const t=Fe(this);return pt(t,"has",e),t.hasOwnProperty(e)}class eu{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const l=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!l;if(r==="__v_isReadonly")return l;if(r==="__v_isShallow")return n;if(r==="__v_raw")return s===(l?n?Zh:iu:n?nu:ru).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=Le(t);if(!l){let o;if(i&&(o=Fh[r]))return o;if(r==="hasOwnProperty")return $h}const a=Reflect.get(t,r,ut(t)?t:s);return(Ur(r)?Zl.has(r):Hh(r))||(l||pt(t,"get",r),n)?a:ut(a)?i&&Yo(r)?a:a.value:et(a)?l?su(a):ra(a):a}}class tu extends eu{constructor(t=!1){super(!1,t)}set(t,r,s,l){let n=t[r];if(!this._isShallow){const o=Pr(n);if(!Mt(s)&&!Pr(s)&&(n=Fe(n),s=Fe(s)),!Le(t)&&ut(n)&&!ut(s))return o?!1:(n.value=s,!0)}const i=Le(t)&&Yo(r)?Number(r)<t.length:We(t,r),a=Reflect.set(t,r,s,ut(t)?t:l);return t===Fe(l)&&(i?kr(s,n)&&ar(t,"set",r,s):ar(t,"add",r,s)),a}deleteProperty(t,r){const s=We(t,r);t[r];const l=Reflect.deleteProperty(t,r);return l&&s&&ar(t,"delete",r,void 0),l}has(t,r){const s=Reflect.has(t,r);return(!Ur(r)||!Zl.has(r))&&pt(t,"has",r),s}ownKeys(t){return pt(t,"iterate",Le(t)?"length":Qr),Reflect.ownKeys(t)}}class qh extends eu{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Vh=new tu,Kh=new qh,zh=new tu(!0);const bs=e=>e,Vn=e=>Reflect.getPrototypeOf(e);function Gh(e,t,r){return function(...s){const l=this.__v_raw,n=Fe(l),i=hn(n),a=e==="entries"||e===Symbol.iterator&&i,o=e==="keys"&&i,u=l[e](...s),h=r?bs:t?pi:lt;return!t&&pt(n,"iterate",o?ys:Qr),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:a?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function Kn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yh(e,t){const r={get(l){const n=this.__v_raw,i=Fe(n),a=Fe(l);e||(kr(l,a)&&pt(i,"get",l),pt(i,"get",a));const{has:o}=Vn(i),u=t?bs:e?pi:lt;if(o.call(i,l))return u(n.get(l));if(o.call(i,a))return u(n.get(a));n!==i&&n.get(l)},get size(){const l=this.__v_raw;return!e&&pt(Fe(l),"iterate",Qr),Reflect.get(l,"size",l)},has(l){const n=this.__v_raw,i=Fe(n),a=Fe(l);return e||(kr(l,a)&&pt(i,"has",l),pt(i,"has",a)),l===a?n.has(l):n.has(l)||n.has(a)},forEach(l,n){const i=this,a=i.__v_raw,o=Fe(a),u=t?bs:e?pi:lt;return!e&&pt(o,"iterate",Qr),a.forEach((h,d)=>l.call(n,u(h),u(d),i))}};return yt(r,e?{add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear")}:{add(l){!t&&!Mt(l)&&!Pr(l)&&(l=Fe(l));const n=Fe(this);return Vn(n).has.call(n,l)||(n.add(l),ar(n,"add",l,l)),this},set(l,n){!t&&!Mt(n)&&!Pr(n)&&(n=Fe(n));const i=Fe(this),{has:a,get:o}=Vn(i);let u=a.call(i,l);u||(l=Fe(l),u=a.call(i,l));const h=o.call(i,l);return i.set(l,n),u?kr(n,h)&&ar(i,"set",l,n):ar(i,"add",l,n),this},delete(l){const n=Fe(this),{has:i,get:a}=Vn(n);let o=i.call(n,l);o||(l=Fe(l),o=i.call(n,l)),a&&a.call(n,l);const u=n.delete(l);return o&&ar(n,"delete",l,void 0),u},clear(){const l=Fe(this),n=l.size!==0,i=l.clear();return n&&ar(l,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(l=>{r[l]=Gh(l,e,t)}),r}function ta(e,t){const r=Yh(e,t);return(s,l,n)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?s:Reflect.get(We(r,l)&&l in s?r:s,l,n)}const Qh={get:ta(!1,!1)},Jh={get:ta(!1,!0)},Xh={get:ta(!0,!1)};const ru=new WeakMap,nu=new WeakMap,iu=new WeakMap,Zh=new WeakMap;function ef(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tf(e){return e.__v_skip||!Object.isExtensible(e)?0:ef(xh(e))}function ra(e){return Pr(e)?e:na(e,!1,Vh,Qh,ru)}function rf(e){return na(e,!1,zh,Jh,nu)}function su(e){return na(e,!0,Kh,Xh,iu)}function na(e,t,r,s,l){if(!et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=tf(e);if(n===0)return e;const i=l.get(e);if(i)return i;const a=new Proxy(e,n===2?s:r);return l.set(e,a),a}function fn(e){return Pr(e)?fn(e.__v_raw):!!(e&&e.__v_isReactive)}function Pr(e){return!!(e&&e.__v_isReadonly)}function Mt(e){return!!(e&&e.__v_isShallow)}function ia(e){return e?!!e.__v_raw:!1}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function nf(e){return!We(e,"__v_skip")&&Object.isExtensible(e)&&Wl(e,"__v_skip",!0),e}const lt=e=>et(e)?ra(e):e,pi=e=>et(e)?su(e):e;function ut(e){return e?e.__v_isRef===!0:!1}function Ht(e){return sf(e,!1)}function sf(e,t){return ut(e)?e:new of(e,t)}class of{constructor(t,r){this.dep=new ea,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Fe(t),this._value=r?t:lt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||Mt(t)||Pr(t);t=s?t:Fe(t),kr(t,r)&&(this._rawValue=t,this._value=s?t:lt(t),this.dep.trigger())}}function ur(e){return ut(e)?e.value:e}const af={get:(e,t,r)=>t==="__v_raw"?e:ur(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const l=e[t];return ut(l)&&!ut(r)?(l.value=r,!0):Reflect.set(e,t,r,s)}};function ou(e){return fn(e)?e:new Proxy(e,af)}class lf{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ea(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return zl(this,!0),!0}get value(){const t=this.dep.track();return Ql(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function uf(e,t,r=!1){let s,l;return Ne(e)?s=e:(s=e.get,l=e.set),new lf(s,l,r)}const zn={},gi=new WeakMap;let qr;function cf(e,t=!1,r=qr){if(r){let s=gi.get(r);s||gi.set(r,s=[]),s.push(e)}}function hf(e,t,r=Ve){const{immediate:s,deep:l,once:n,scheduler:i,augmentJob:a,call:o}=r,u=N=>l?N:Mt(N)||l===!1||l===0?lr(N,1):lr(N);let h,d,m,y,b=!1,T=!1;if(ut(e)?(d=()=>e.value,b=Mt(e)):fn(e)?(d=()=>u(e),b=!0):Le(e)?(T=!0,b=e.some(N=>fn(N)||Mt(N)),d=()=>e.map(N=>{if(ut(N))return N.value;if(fn(N))return u(N);if(Ne(N))return o?o(N,2):N()})):Ne(e)?t?d=o?()=>o(e,2):e:d=()=>{if(m){cr();try{m()}finally{hr()}}const N=qr;qr=h;try{return o?o(e,3,[y]):e(y)}finally{qr=N}}:d=zt,t&&l){const N=d,F=l===!0?1/0:l;d=()=>lr(N(),F)}const E=Nh(),P=()=>{h.stop(),E&&E.active&&Go(E.effects,h)};if(n&&t){const N=t;t=(...F)=>{N(...F),P()}}let w=T?new Array(e.length).fill(zn):zn;const k=N=>{if(!(!(h.flags&1)||!h.dirty&&!N))if(t){const F=h.run();if(l||b||(T?F.some((M,j)=>kr(M,w[j])):kr(F,w))){m&&m();const M=qr;qr=h;try{const j=[F,w===zn?void 0:T&&w[0]===zn?[]:w,y];w=F,o?o(t,3,j):t(...j)}finally{qr=M}}}else h.run()};return a&&a(k),h=new Vl(d),h.scheduler=i?()=>i(k,!1):k,y=N=>cf(N,!1,h),m=h.onStop=()=>{const N=gi.get(h);if(N){if(o)o(N,4);else for(const F of N)F();gi.delete(h)}},t?s?k(!0):w=h.run():i?i(k.bind(null,!0),!0):h.run(),P.pause=h.pause.bind(h),P.resume=h.resume.bind(h),P.stop=P,P}function lr(e,t=1/0,r){if(t<=0||!et(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,ut(e))lr(e.value,t,r);else if(Le(e))for(let s=0;s<e.length;s++)lr(e[s],t,r);else if(Ll(e)||hn(e))e.forEach(s=>{lr(s,t,r)});else if(Dl(e)){for(const s in e)lr(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&lr(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wn(e,t,r,s){try{return s?e(...s):e()}catch(l){Pi(l,t,r)}}function Yt(e,t,r,s){if(Ne(e)){const l=Wn(e,t,r,s);return l&&Nl(l)&&l.catch(n=>{Pi(n,t,r)}),l}if(Le(e)){const l=[];for(let n=0;n<e.length;n++)l.push(Yt(e[n],t,r,s));return l}}function Pi(e,t,r,s=!0){const l=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Ve;if(t){let a=t.parent;const o=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,o,u)===!1)return}a=a.parent}if(n){cr(),Wn(n,null,10,[e,o,u]),hr();return}}ff(e,r,l,s,i)}function ff(e,t,r,s=!0,l=!1){if(l)throw e;console.error(e)}const vt=[];let $t=-1;const dn=[];let Ar=null,on=0;const au=Promise.resolve();let mi=null;function df(e){const t=mi||au;return e?t.then(this?e.bind(this):e):t}function pf(e){let t=$t+1,r=vt.length;for(;t<r;){const s=t+r>>>1,l=vt[s],n=Nn(l);n<e||n===e&&l.flags&2?t=s+1:r=s}return t}function sa(e){if(!(e.flags&1)){const t=Nn(e),r=vt[vt.length-1];!r||!(e.flags&2)&&t>=Nn(r)?vt.push(e):vt.splice(pf(t),0,e),e.flags|=1,lu()}}function lu(){mi||(mi=au.then(cu))}function gf(e){Le(e)?dn.push(...e):Ar&&e.id===-1?Ar.splice(on+1,0,e):e.flags&1||(dn.push(e),e.flags|=1),lu()}function ka(e,t,r=$t+1){for(;r<vt.length;r++){const s=vt[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;vt.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function uu(e){if(dn.length){const t=[...new Set(dn)].sort((r,s)=>Nn(r)-Nn(s));if(dn.length=0,Ar){Ar.push(...t);return}for(Ar=t,on=0;on<Ar.length;on++){const r=Ar[on];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ar=null,on=0}}const Nn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cu(e){try{for($t=0;$t<vt.length;$t++){const t=vt[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<vt.length;$t++){const t=vt[$t];t&&(t.flags&=-2)}$t=-1,vt.length=0,uu(),mi=null,(vt.length||dn.length)&&cu()}}let Ut=null,hu=null;function yi(e){const t=Ut;return Ut=e,hu=e&&e.type.__scopeId||null,t}function mf(e,t=Ut,r){if(!t||e._n)return e;const s=(...l)=>{s._d&&Na(-1);const n=yi(t);let i;try{i=e(...l)}finally{yi(n),s._d&&Na(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Vr(e,t){if(Ut===null)return e;const r=Bi(Ut),s=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[n,i,a,o=Ve]=t[l];n&&(Ne(n)&&(n={mounted:n,updated:n}),n.deep&&lr(i),s.push({dir:n,instance:r,value:i,oldValue:void 0,arg:a,modifiers:o}))}return e}function Dr(e,t,r,s){const l=e.dirs,n=t&&t.dirs;for(let i=0;i<l.length;i++){const a=l[i];n&&(a.oldValue=n[i].value);let o=a.dir[s];o&&(cr(),Yt(o,r,8,[e.el,a,e,t]),hr())}}const yf=Symbol("_vte"),bf=e=>e.__isTeleport;function oa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,oa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function aa(e,t){return Ne(e)?yt({name:e.name},t,{setup:e}):e}function fu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function bi(e,t,r,s,l=!1){if(Le(e)){e.forEach((b,T)=>bi(b,t&&(Le(t)?t[T]:t),r,s,l));return}if(On(s)&&!l){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&bi(e,t,r,s.component.subTree);return}const n=s.shapeFlag&4?Bi(s.component):s.el,i=l?null:n,{i:a,r:o}=e,u=t&&t.r,h=a.refs===Ve?a.refs={}:a.refs,d=a.setupState,m=Fe(d),y=d===Ve?()=>!1:b=>We(m,b);if(u!=null&&u!==o&&(rt(u)?(h[u]=null,y(u)&&(d[u]=null)):ut(u)&&(u.value=null)),Ne(o))Wn(o,a,12,[i,h]);else{const b=rt(o),T=ut(o);if(b||T){const E=()=>{if(e.f){const P=b?y(o)?d[o]:h[o]:o.value;l?Le(P)&&Go(P,n):Le(P)?P.includes(n)||P.push(n):b?(h[o]=[n],y(o)&&(d[o]=h[o])):(o.value=[n],e.k&&(h[e.k]=o.value))}else b?(h[o]=i,y(o)&&(d[o]=i)):T&&(o.value=i,e.k&&(h[e.k]=i))};i?(E.id=-1,kt(E,r)):E()}}}ki().requestIdleCallback;ki().cancelIdleCallback;const On=e=>!!e.type.__asyncLoader,du=e=>e.type.__isKeepAlive;function wf(e,t){pu(e,"a",t)}function vf(e,t){pu(e,"da",t)}function pu(e,t,r=_t){const s=e.__wdc||(e.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(Ri(t,s,r),r){let l=r.parent;for(;l&&l.parent;)du(l.parent.vnode)&&_f(s,t,r,l),l=l.parent}}function _f(e,t,r,s){const l=Ri(t,e,s,!0);la(()=>{Go(s[t],l)},r)}function Ri(e,t,r=_t,s=!1){if(r){const l=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...i)=>{cr();const a=Hn(r),o=Yt(t,r,e,i);return a(),hr(),o});return s?l.unshift(n):l.push(n),n}}const pr=e=>(t,r=_t)=>{(!Dn||e==="sp")&&Ri(e,(...s)=>t(...s),r)},Ef=pr("bm"),gu=pr("m"),Sf=pr("bu"),Af=pr("u"),Tf=pr("bum"),la=pr("um"),If=pr("sp"),xf=pr("rtg"),kf=pr("rtc");function Cf(e,t=_t){Ri("ec",e,t)}const Of=Symbol.for("v-ndc");function un(e,t,r,s){let l;const n=r,i=Le(e);if(i||rt(e)){const a=i&&fn(e);let o=!1,u=!1;a&&(o=!Mt(e),u=Pr(e),e=Oi(e)),l=new Array(e.length);for(let h=0,d=e.length;h<d;h++)l[h]=t(o?u?pi(lt(e[h])):lt(e[h]):e[h],h,void 0,n)}else if(typeof e=="number"){l=new Array(e);for(let a=0;a<e;a++)l[a]=t(a+1,a,void 0,n)}else if(et(e))if(e[Symbol.iterator])l=Array.from(e,(a,o)=>t(a,o,void 0,n));else{const a=Object.keys(e);l=new Array(a.length);for(let o=0,u=a.length;o<u;o++){const h=a[o];l[o]=t(e[h],h,o,n)}}else l=[];return l}const ws=e=>e?Nu(e)?Bi(e):ws(e.parent):null,Pn=yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ws(e.parent),$root:e=>ws(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yu(e),$forceUpdate:e=>e.f||(e.f=()=>{sa(e.update)}),$nextTick:e=>e.n||(e.n=df.bind(e.proxy)),$watch:e=>Xf.bind(e)}),Qi=(e,t)=>e!==Ve&&!e.__isScriptSetup&&We(e,t),Pf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:l,props:n,accessCache:i,type:a,appContext:o}=e;let u;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return l[t];case 4:return r[t];case 3:return n[t]}else{if(Qi(s,t))return i[t]=1,s[t];if(l!==Ve&&We(l,t))return i[t]=2,l[t];if((u=e.propsOptions[0])&&We(u,t))return i[t]=3,n[t];if(r!==Ve&&We(r,t))return i[t]=4,r[t];vs&&(i[t]=0)}}const h=Pn[t];let d,m;if(h)return t==="$attrs"&&pt(e.attrs,"get",""),h(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==Ve&&We(r,t))return i[t]=4,r[t];if(m=o.config.globalProperties,We(m,t))return m[t]},set({_:e},t,r){const{data:s,setupState:l,ctx:n}=e;return Qi(l,t)?(l[t]=r,!0):s!==Ve&&We(s,t)?(s[t]=r,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:l,propsOptions:n}},i){let a;return!!r[i]||e!==Ve&&We(e,i)||Qi(t,i)||(a=n[0])&&We(a,i)||We(s,i)||We(Pn,i)||We(l.config.globalProperties,i)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:We(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ca(e){return Le(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let vs=!0;function Rf(e){const t=yu(e),r=e.proxy,s=e.ctx;vs=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:l,computed:n,methods:i,watch:a,provide:o,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:y,updated:b,activated:T,deactivated:E,beforeDestroy:P,beforeUnmount:w,destroyed:k,unmounted:N,render:F,renderTracked:M,renderTriggered:j,errorCaptured:K,serverPrefetch:se,expose:oe,inheritAttrs:fe,components:$,directives:ie,filters:ae}=t;if(u&&Uf(u,s,null),i)for(const ce in i){const ue=i[ce];Ne(ue)&&(s[ce]=ue.bind(r))}if(l){const ce=l.call(r,r);et(ce)&&(e.data=ra(ce))}if(vs=!0,n)for(const ce in n){const ue=n[ce],Ee=Ne(ue)?ue.bind(r,r):Ne(ue.get)?ue.get.bind(r,r):zt,ne=!Ne(ue)&&Ne(ue.set)?ue.set.bind(r):zt,de=Du({get:Ee,set:ne});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>de.value,set:D=>de.value=D})}if(a)for(const ce in a)mu(a[ce],s,r,ce);if(o){const ce=Ne(o)?o.call(r):o;Reflect.ownKeys(ce).forEach(ue=>{Df(ue,ce[ue])})}h&&Oa(h,e,"c");function pe(ce,ue){Le(ue)?ue.forEach(Ee=>ce(Ee.bind(r))):ue&&ce(ue.bind(r))}if(pe(Ef,d),pe(gu,m),pe(Sf,y),pe(Af,b),pe(wf,T),pe(vf,E),pe(Cf,K),pe(kf,M),pe(xf,j),pe(Tf,w),pe(la,N),pe(If,se),Le(oe))if(oe.length){const ce=e.exposed||(e.exposed={});oe.forEach(ue=>{Object.defineProperty(ce,ue,{get:()=>r[ue],set:Ee=>r[ue]=Ee})})}else e.exposed||(e.exposed={});F&&e.render===zt&&(e.render=F),fe!=null&&(e.inheritAttrs=fe),$&&(e.components=$),ie&&(e.directives=ie),se&&fu(e)}function Uf(e,t,r=zt){Le(e)&&(e=_s(e));for(const s in e){const l=e[s];let n;et(l)?"default"in l?n=ri(l.from||s,l.default,!0):n=ri(l.from||s):n=ri(l),ut(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:i=>n.value=i}):t[s]=n}}function Oa(e,t,r){Yt(Le(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function mu(e,t,r,s){let l=s.includes(".")?Ou(r,s):()=>r[s];if(rt(e)){const n=t[e];Ne(n)&&Xi(l,n)}else if(Ne(e))Xi(l,e.bind(r));else if(et(e))if(Le(e))e.forEach(n=>mu(n,t,r,s));else{const n=Ne(e.handler)?e.handler.bind(r):t[e.handler];Ne(n)&&Xi(l,n,e)}}function yu(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:l,optionsCache:n,config:{optionMergeStrategies:i}}=e.appContext,a=n.get(t);let o;return a?o=a:!l.length&&!r&&!s?o=t:(o={},l.length&&l.forEach(u=>wi(o,u,i,!0)),wi(o,t,i)),et(t)&&n.set(t,o),o}function wi(e,t,r,s=!1){const{mixins:l,extends:n}=t;n&&wi(e,n,r,!0),l&&l.forEach(i=>wi(e,i,r,!0));for(const i in t)if(!(s&&i==="expose")){const a=Mf[i]||r&&r[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Mf={data:Pa,props:Ra,emits:Ra,methods:Sn,computed:Sn,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Sn,directives:Sn,watch:Lf,provide:Pa,inject:Bf};function Pa(e,t){return t?e?function(){return yt(Ne(e)?e.call(this,this):e,Ne(t)?t.call(this,this):t)}:t:e}function Bf(e,t){return Sn(_s(e),_s(t))}function _s(e){if(Le(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function wt(e,t){return e?[...new Set([].concat(e,t))]:t}function Sn(e,t){return e?yt(Object.create(null),e,t):t}function Ra(e,t){return e?Le(e)&&Le(t)?[...new Set([...e,...t])]:yt(Object.create(null),Ca(e),Ca(t??{})):t}function Lf(e,t){if(!e)return t;if(!t)return e;const r=yt(Object.create(null),e);for(const s in t)r[s]=wt(e[s],t[s]);return r}function bu(){return{app:null,config:{isNativeTag:Th,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nf=0;function jf(e,t){return function(s,l=null){Ne(s)||(s=yt({},s)),l!=null&&!et(l)&&(l=null);const n=bu(),i=new WeakSet,a=[];let o=!1;const u=n.app={_uid:Nf++,_component:s,_props:l,_container:null,_context:n,_instance:null,version:bd,get config(){return n.config},set config(h){},use(h,...d){return i.has(h)||(h&&Ne(h.install)?(i.add(h),h.install(u,...d)):Ne(h)&&(i.add(h),h(u,...d))),u},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),u},component(h,d){return d?(n.components[h]=d,u):n.components[h]},directive(h,d){return d?(n.directives[h]=d,u):n.directives[h]},mount(h,d,m){if(!o){const y=u._ceVNode||Gt(s,l);return y.appContext=n,m===!0?m="svg":m===!1&&(m=void 0),e(y,h,m),o=!0,u._container=h,h.__vue_app__=u,Bi(y.component)}},onUnmount(h){a.push(h)},unmount(){o&&(Yt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(h,d){return n.provides[h]=d,u},runWithContext(h){const d=pn;pn=u;try{return h()}finally{pn=d}}};return u}}let pn=null;function Df(e,t){if(_t){let r=_t.provides;const s=_t.parent&&_t.parent.provides;s===r&&(r=_t.provides=Object.create(s)),r[e]=t}}function ri(e,t,r=!1){const s=_t||Ut;if(s||pn){let l=pn?pn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return r&&Ne(t)?t.call(s&&s.proxy):t}}const wu={},vu=()=>Object.create(wu),_u=e=>Object.getPrototypeOf(e)===wu;function Ff(e,t,r,s=!1){const l={},n=vu();e.propsDefaults=Object.create(null),Eu(e,t,l,n);for(const i in e.propsOptions[0])i in l||(l[i]=void 0);r?e.props=s?l:rf(l):e.type.props?e.props=l:e.props=n,e.attrs=n}function Wf(e,t,r,s){const{props:l,attrs:n,vnode:{patchFlag:i}}=e,a=Fe(l),[o]=e.propsOptions;let u=!1;if((s||i>0)&&!(i&16)){if(i&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(Ui(e.emitsOptions,m))continue;const y=t[m];if(o)if(We(n,m))y!==n[m]&&(n[m]=y,u=!0);else{const b=Or(m);l[b]=Es(o,a,b,y,e,!1)}else y!==n[m]&&(n[m]=y,u=!0)}}}else{Eu(e,t,l,n)&&(u=!0);let h;for(const d in a)(!t||!We(t,d)&&((h=Mr(d))===d||!We(t,h)))&&(o?r&&(r[d]!==void 0||r[h]!==void 0)&&(l[d]=Es(o,a,d,void 0,e,!0)):delete l[d]);if(n!==a)for(const d in n)(!t||!We(t,d))&&(delete n[d],u=!0)}u&&ar(e.attrs,"set","")}function Eu(e,t,r,s){const[l,n]=e.propsOptions;let i=!1,a;if(t)for(let o in t){if(xn(o))continue;const u=t[o];let h;l&&We(l,h=Or(o))?!n||!n.includes(h)?r[h]=u:(a||(a={}))[h]=u:Ui(e.emitsOptions,o)||(!(o in s)||u!==s[o])&&(s[o]=u,i=!0)}if(n){const o=Fe(r),u=a||Ve;for(let h=0;h<n.length;h++){const d=n[h];r[d]=Es(l,o,d,u[d],e,!We(u,d))}}return i}function Es(e,t,r,s,l,n){const i=e[r];if(i!=null){const a=We(i,"default");if(a&&s===void 0){const o=i.default;if(i.type!==Function&&!i.skipFactory&&Ne(o)){const{propsDefaults:u}=l;if(r in u)s=u[r];else{const h=Hn(l);s=u[r]=o.call(null,t),h()}}else s=o;l.ce&&l.ce._setProp(r,s)}i[0]&&(n&&!a?s=!1:i[1]&&(s===""||s===Mr(r))&&(s=!0))}return s}const Hf=new WeakMap;function Su(e,t,r=!1){const s=r?Hf:t.propsCache,l=s.get(e);if(l)return l;const n=e.props,i={},a=[];let o=!1;if(!Ne(e)){const h=d=>{o=!0;const[m,y]=Su(d,t,!0);yt(i,m),y&&a.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!n&&!o)return et(e)&&s.set(e,cn),cn;if(Le(n))for(let h=0;h<n.length;h++){const d=Or(n[h]);Ua(d)&&(i[d]=Ve)}else if(n)for(const h in n){const d=Or(h);if(Ua(d)){const m=n[h],y=i[d]=Le(m)||Ne(m)?{type:m}:yt({},m),b=y.type;let T=!1,E=!0;if(Le(b))for(let P=0;P<b.length;++P){const w=b[P],k=Ne(w)&&w.name;if(k==="Boolean"){T=!0;break}else k==="String"&&(E=!1)}else T=Ne(b)&&b.name==="Boolean";y[0]=T,y[1]=E,(T||We(y,"default"))&&a.push(d)}}const u=[i,a];return et(e)&&s.set(e,u),u}function Ua(e){return e[0]!=="$"&&!xn(e)}const ua=e=>e[0]==="_"||e==="$stable",ca=e=>Le(e)?e.map(qt):[qt(e)],$f=(e,t,r)=>{if(t._n)return t;const s=mf((...l)=>ca(t(...l)),r);return s._c=!1,s},Au=(e,t,r)=>{const s=e._ctx;for(const l in e){if(ua(l))continue;const n=e[l];if(Ne(n))t[l]=$f(l,n,s);else if(n!=null){const i=ca(n);t[l]=()=>i}}},Tu=(e,t)=>{const r=ca(t);e.slots.default=()=>r},Iu=(e,t,r)=>{for(const s in t)(r||!ua(s))&&(e[s]=t[s])},qf=(e,t,r)=>{const s=e.slots=vu();if(e.vnode.shapeFlag&32){const l=t._;l?(Iu(s,t,r),r&&Wl(s,"_",l,!0)):Au(t,s)}else t&&Tu(e,t)},Vf=(e,t,r)=>{const{vnode:s,slots:l}=e;let n=!0,i=Ve;if(s.shapeFlag&32){const a=t._;a?r&&a===1?n=!1:Iu(l,t,r):(n=!t.$stable,Au(t,l)),i=t}else t&&(Tu(e,t),i={default:1});if(n)for(const a in l)!ua(a)&&i[a]==null&&delete l[a]},kt=sd;function Kf(e){return zf(e)}function zf(e,t){const r=ki();r.__VUE__=!0;const{insert:s,remove:l,patchProp:n,createElement:i,createText:a,createComment:o,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:y=zt,insertStaticContent:b}=e,T=(I,R,W,O=null,U=null,H=null,X=void 0,J=null,x=!!R.dynamicChildren)=>{if(I===R)return;I&&!_n(I,R)&&(O=re(I),D(I,U,H,!0),I=null),R.patchFlag===-2&&(x=!1,R.dynamicChildren=null);const{type:p,ref:S,shapeFlag:C}=R;switch(p){case Mi:E(I,R,W,O);break;case Rr:P(I,R,W,O);break;case Zi:I==null&&w(R,W,O,X);break;case gt:$(I,R,W,O,U,H,X,J,x);break;default:C&1?F(I,R,W,O,U,H,X,J,x):C&6?ie(I,R,W,O,U,H,X,J,x):(C&64||C&128)&&p.process(I,R,W,O,U,H,X,J,x,ee)}S!=null&&U&&bi(S,I&&I.ref,H,R||I,!R)},E=(I,R,W,O)=>{if(I==null)s(R.el=a(R.children),W,O);else{const U=R.el=I.el;R.children!==I.children&&u(U,R.children)}},P=(I,R,W,O)=>{I==null?s(R.el=o(R.children||""),W,O):R.el=I.el},w=(I,R,W,O)=>{[I.el,I.anchor]=b(I.children,R,W,O,I.el,I.anchor)},k=({el:I,anchor:R},W,O)=>{let U;for(;I&&I!==R;)U=m(I),s(I,W,O),I=U;s(R,W,O)},N=({el:I,anchor:R})=>{let W;for(;I&&I!==R;)W=m(I),l(I),I=W;l(R)},F=(I,R,W,O,U,H,X,J,x)=>{R.type==="svg"?X="svg":R.type==="math"&&(X="mathml"),I==null?M(R,W,O,U,H,X,J,x):se(I,R,U,H,X,J,x)},M=(I,R,W,O,U,H,X,J)=>{let x,p;const{props:S,shapeFlag:C,transition:A,dirs:G}=I;if(x=I.el=i(I.type,H,S&&S.is,S),C&8?h(x,I.children):C&16&&K(I.children,x,null,O,U,Ji(I,H),X,J),G&&Dr(I,null,O,"created"),j(x,I,I.scopeId,X,O),S){for(const f in S)f!=="value"&&!xn(f)&&n(x,f,null,S[f],H,O);"value"in S&&n(x,"value",null,S.value,H),(p=S.onVnodeBeforeMount)&&Ft(p,O,I)}G&&Dr(I,null,O,"beforeMount");const c=Gf(U,A);c&&A.beforeEnter(x),s(x,R,W),((p=S&&S.onVnodeMounted)||c||G)&&kt(()=>{p&&Ft(p,O,I),c&&A.enter(x),G&&Dr(I,null,O,"mounted")},U)},j=(I,R,W,O,U)=>{if(W&&y(I,W),O)for(let H=0;H<O.length;H++)y(I,O[H]);if(U){let H=U.subTree;if(R===H||Ru(H.type)&&(H.ssContent===R||H.ssFallback===R)){const X=U.vnode;j(I,X,X.scopeId,X.slotScopeIds,U.parent)}}},K=(I,R,W,O,U,H,X,J,x=0)=>{for(let p=x;p<I.length;p++){const S=I[p]=J?Ir(I[p]):qt(I[p]);T(null,S,R,W,O,U,H,X,J)}},se=(I,R,W,O,U,H,X)=>{const J=R.el=I.el;let{patchFlag:x,dynamicChildren:p,dirs:S}=R;x|=I.patchFlag&16;const C=I.props||Ve,A=R.props||Ve;let G;if(W&&Fr(W,!1),(G=A.onVnodeBeforeUpdate)&&Ft(G,W,R,I),S&&Dr(R,I,W,"beforeUpdate"),W&&Fr(W,!0),(C.innerHTML&&A.innerHTML==null||C.textContent&&A.textContent==null)&&h(J,""),p?oe(I.dynamicChildren,p,J,W,O,Ji(R,U),H):X||ue(I,R,J,null,W,O,Ji(R,U),H,!1),x>0){if(x&16)fe(J,C,A,W,U);else if(x&2&&C.class!==A.class&&n(J,"class",null,A.class,U),x&4&&n(J,"style",C.style,A.style,U),x&8){const c=R.dynamicProps;for(let f=0;f<c.length;f++){const g=c[f],v=C[g],_=A[g];(_!==v||g==="value")&&n(J,g,v,_,U,W)}}x&1&&I.children!==R.children&&h(J,R.children)}else!X&&p==null&&fe(J,C,A,W,U);((G=A.onVnodeUpdated)||S)&&kt(()=>{G&&Ft(G,W,R,I),S&&Dr(R,I,W,"updated")},O)},oe=(I,R,W,O,U,H,X)=>{for(let J=0;J<R.length;J++){const x=I[J],p=R[J],S=x.el&&(x.type===gt||!_n(x,p)||x.shapeFlag&198)?d(x.el):W;T(x,p,S,null,O,U,H,X,!0)}},fe=(I,R,W,O,U)=>{if(R!==W){if(R!==Ve)for(const H in R)!xn(H)&&!(H in W)&&n(I,H,R[H],null,U,O);for(const H in W){if(xn(H))continue;const X=W[H],J=R[H];X!==J&&H!=="value"&&n(I,H,J,X,U,O)}"value"in W&&n(I,"value",R.value,W.value,U)}},$=(I,R,W,O,U,H,X,J,x)=>{const p=R.el=I?I.el:a(""),S=R.anchor=I?I.anchor:a("");let{patchFlag:C,dynamicChildren:A,slotScopeIds:G}=R;G&&(J=J?J.concat(G):G),I==null?(s(p,W,O),s(S,W,O),K(R.children||[],W,S,U,H,X,J,x)):C>0&&C&64&&A&&I.dynamicChildren?(oe(I.dynamicChildren,A,W,U,H,X,J),(R.key!=null||U&&R===U.subTree)&&xu(I,R,!0)):ue(I,R,W,S,U,H,X,J,x)},ie=(I,R,W,O,U,H,X,J,x)=>{R.slotScopeIds=J,I==null?R.shapeFlag&512?U.ctx.activate(R,W,O,X,x):ae(R,W,O,U,H,X,x):Z(I,R,x)},ae=(I,R,W,O,U,H,X)=>{const J=I.component=fd(I,O,U);if(du(I)&&(J.ctx.renderer=ee),dd(J,!1,X),J.asyncDep){if(U&&U.registerDep(J,pe,X),!I.el){const x=J.subTree=Gt(Rr);P(null,x,R,W)}}else pe(J,I,R,W,U,H,X)},Z=(I,R,W)=>{const O=R.component=I.component;if(nd(I,R,W))if(O.asyncDep&&!O.asyncResolved){ce(O,R,W);return}else O.next=R,O.update();else R.el=I.el,O.vnode=R},pe=(I,R,W,O,U,H,X)=>{const J=()=>{if(I.isMounted){let{next:C,bu:A,u:G,parent:c,vnode:f}=I;{const Y=ku(I);if(Y){C&&(C.el=f.el,ce(I,C,X)),Y.asyncDep.then(()=>{I.isUnmounted||J()});return}}let g=C,v;Fr(I,!1),C?(C.el=f.el,ce(I,C,X)):C=f,A&&ti(A),(v=C.props&&C.props.onVnodeBeforeUpdate)&&Ft(v,c,C,f),Fr(I,!0);const _=Ba(I),L=I.subTree;I.subTree=_,T(L,_,d(L.el),re(L),I,U,H),C.el=_.el,g===null&&id(I,_.el),G&&kt(G,U),(v=C.props&&C.props.onVnodeUpdated)&&kt(()=>Ft(v,c,C,f),U)}else{let C;const{el:A,props:G}=R,{bm:c,m:f,parent:g,root:v,type:_}=I,L=On(R);Fr(I,!1),c&&ti(c),!L&&(C=G&&G.onVnodeBeforeMount)&&Ft(C,g,R),Fr(I,!0);{v.ce&&v.ce._injectChildStyle(_);const Y=I.subTree=Ba(I);T(null,Y,W,O,I,U,H),R.el=Y.el}if(f&&kt(f,U),!L&&(C=G&&G.onVnodeMounted)){const Y=R;kt(()=>Ft(C,g,Y),U)}(R.shapeFlag&256||g&&On(g.vnode)&&g.vnode.shapeFlag&256)&&I.a&&kt(I.a,U),I.isMounted=!0,R=W=O=null}};I.scope.on();const x=I.effect=new Vl(J);I.scope.off();const p=I.update=x.run.bind(x),S=I.job=x.runIfDirty.bind(x);S.i=I,S.id=I.uid,x.scheduler=()=>sa(S),Fr(I,!0),p()},ce=(I,R,W)=>{R.component=I;const O=I.vnode.props;I.vnode=R,I.next=null,Wf(I,R.props,O,W),Vf(I,R.children,W),cr(),ka(I),hr()},ue=(I,R,W,O,U,H,X,J,x=!1)=>{const p=I&&I.children,S=I?I.shapeFlag:0,C=R.children,{patchFlag:A,shapeFlag:G}=R;if(A>0){if(A&128){ne(p,C,W,O,U,H,X,J,x);return}else if(A&256){Ee(p,C,W,O,U,H,X,J,x);return}}G&8?(S&16&&Ae(p,U,H),C!==p&&h(W,C)):S&16?G&16?ne(p,C,W,O,U,H,X,J,x):Ae(p,U,H,!0):(S&8&&h(W,""),G&16&&K(C,W,O,U,H,X,J,x))},Ee=(I,R,W,O,U,H,X,J,x)=>{I=I||cn,R=R||cn;const p=I.length,S=R.length,C=Math.min(p,S);let A;for(A=0;A<C;A++){const G=R[A]=x?Ir(R[A]):qt(R[A]);T(I[A],G,W,null,U,H,X,J,x)}p>S?Ae(I,U,H,!0,!1,C):K(R,W,O,U,H,X,J,x,C)},ne=(I,R,W,O,U,H,X,J,x)=>{let p=0;const S=R.length;let C=I.length-1,A=S-1;for(;p<=C&&p<=A;){const G=I[p],c=R[p]=x?Ir(R[p]):qt(R[p]);if(_n(G,c))T(G,c,W,null,U,H,X,J,x);else break;p++}for(;p<=C&&p<=A;){const G=I[C],c=R[A]=x?Ir(R[A]):qt(R[A]);if(_n(G,c))T(G,c,W,null,U,H,X,J,x);else break;C--,A--}if(p>C){if(p<=A){const G=A+1,c=G<S?R[G].el:O;for(;p<=A;)T(null,R[p]=x?Ir(R[p]):qt(R[p]),W,c,U,H,X,J,x),p++}}else if(p>A)for(;p<=C;)D(I[p],U,H,!0),p++;else{const G=p,c=p,f=new Map;for(p=c;p<=A;p++){const xe=R[p]=x?Ir(R[p]):qt(R[p]);xe.key!=null&&f.set(xe.key,p)}let g,v=0;const _=A-c+1;let L=!1,Y=0;const we=new Array(_);for(p=0;p<_;p++)we[p]=0;for(p=G;p<=C;p++){const xe=I[p];if(v>=_){D(xe,U,H,!0);continue}let Pe;if(xe.key!=null)Pe=f.get(xe.key);else for(g=c;g<=A;g++)if(we[g-c]===0&&_n(xe,R[g])){Pe=g;break}Pe===void 0?D(xe,U,H,!0):(we[Pe-c]=p+1,Pe>=Y?Y=Pe:L=!0,T(xe,R[Pe],W,null,U,H,X,J,x),v++)}const ve=L?Yf(we):cn;for(g=ve.length-1,p=_-1;p>=0;p--){const xe=c+p,Pe=R[xe],Re=xe+1<S?R[xe+1].el:O;we[p]===0?T(null,Pe,W,Re,U,H,X,J,x):L&&(g<0||p!==ve[g]?de(Pe,W,Re,2):g--)}}},de=(I,R,W,O,U=null)=>{const{el:H,type:X,transition:J,children:x,shapeFlag:p}=I;if(p&6){de(I.component.subTree,R,W,O);return}if(p&128){I.suspense.move(R,W,O);return}if(p&64){X.move(I,R,W,ee);return}if(X===gt){s(H,R,W);for(let C=0;C<x.length;C++)de(x[C],R,W,O);s(I.anchor,R,W);return}if(X===Zi){k(I,R,W);return}if(O!==2&&p&1&&J)if(O===0)J.beforeEnter(H),s(H,R,W),kt(()=>J.enter(H),U);else{const{leave:C,delayLeave:A,afterLeave:G}=J,c=()=>{I.ctx.isUnmounted?l(H):s(H,R,W)},f=()=>{C(H,()=>{c(),G&&G()})};A?A(H,c,f):f()}else s(H,R,W)},D=(I,R,W,O=!1,U=!1)=>{const{type:H,props:X,ref:J,children:x,dynamicChildren:p,shapeFlag:S,patchFlag:C,dirs:A,cacheIndex:G}=I;if(C===-2&&(U=!1),J!=null&&(cr(),bi(J,null,W,I,!0),hr()),G!=null&&(R.renderCache[G]=void 0),S&256){R.ctx.deactivate(I);return}const c=S&1&&A,f=!On(I);let g;if(f&&(g=X&&X.onVnodeBeforeUnmount)&&Ft(g,R,I),S&6)Q(I.component,W,O);else{if(S&128){I.suspense.unmount(W,O);return}c&&Dr(I,null,R,"beforeUnmount"),S&64?I.type.remove(I,R,W,ee,O):p&&!p.hasOnce&&(H!==gt||C>0&&C&64)?Ae(p,R,W,!1,!0):(H===gt&&C&384||!U&&S&16)&&Ae(x,R,W),O&&he(I)}(f&&(g=X&&X.onVnodeUnmounted)||c)&&kt(()=>{g&&Ft(g,R,I),c&&Dr(I,null,R,"unmounted")},W)},he=I=>{const{type:R,el:W,anchor:O,transition:U}=I;if(R===gt){be(W,O);return}if(R===Zi){N(I);return}const H=()=>{l(W),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(I.shapeFlag&1&&U&&!U.persisted){const{leave:X,delayLeave:J}=U,x=()=>X(W,H);J?J(I.el,H,x):x()}else H()},be=(I,R)=>{let W;for(;I!==R;)W=m(I),l(I),I=W;l(R)},Q=(I,R,W)=>{const{bum:O,scope:U,job:H,subTree:X,um:J,m:x,a:p,parent:S,slots:{__:C}}=I;Ma(x),Ma(p),O&&ti(O),S&&Le(C)&&C.forEach(A=>{S.renderCache[A]=void 0}),U.stop(),H&&(H.flags|=8,D(X,I,R,W)),J&&kt(J,R),kt(()=>{I.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Ae=(I,R,W,O=!1,U=!1,H=0)=>{for(let X=H;X<I.length;X++)D(I[X],R,W,O,U)},re=I=>{if(I.shapeFlag&6)return re(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const R=m(I.anchor||I.el),W=R&&R[yf];return W?m(W):R};let z=!1;const le=(I,R,W)=>{I==null?R._vnode&&D(R._vnode,null,null,!0):T(R._vnode||null,I,R,null,null,null,W),R._vnode=I,z||(z=!0,ka(),uu(),z=!1)},ee={p:T,um:D,m:de,r:he,mt:ae,mc:K,pc:ue,pbc:oe,n:re,o:e};return{render:le,hydrate:void 0,createApp:jf(le)}}function Ji({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Fr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Gf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xu(e,t,r=!1){const s=e.children,l=t.children;if(Le(s)&&Le(l))for(let n=0;n<s.length;n++){const i=s[n];let a=l[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=l[n]=Ir(l[n]),a.el=i.el),!r&&a.patchFlag!==-2&&xu(i,a)),a.type===Mi&&(a.el=i.el),a.type===Rr&&!a.el&&(a.el=i.el)}}function Yf(e){const t=e.slice(),r=[0];let s,l,n,i,a;const o=e.length;for(s=0;s<o;s++){const u=e[s];if(u!==0){if(l=r[r.length-1],e[l]<u){t[s]=l,r.push(s);continue}for(n=0,i=r.length-1;n<i;)a=n+i>>1,e[r[a]]<u?n=a+1:i=a;u<e[r[n]]&&(n>0&&(t[s]=r[n-1]),r[n]=s)}}for(n=r.length,i=r[n-1];n-- >0;)r[n]=i,i=t[i];return r}function ku(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ku(t)}function Ma(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qf=Symbol.for("v-scx"),Jf=()=>ri(Qf);function Xi(e,t,r){return Cu(e,t,r)}function Cu(e,t,r=Ve){const{immediate:s,deep:l,flush:n,once:i}=r,a=yt({},r),o=t&&s||!t&&n!=="post";let u;if(Dn){if(n==="sync"){const y=Jf();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!o){const y=()=>{};return y.stop=zt,y.resume=zt,y.pause=zt,y}}const h=_t;a.call=(y,b,T)=>Yt(y,h,b,T);let d=!1;n==="post"?a.scheduler=y=>{kt(y,h&&h.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,b)=>{b?y():sa(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const m=hf(e,t,a);return Dn&&(u?u.push(m):o&&m()),m}function Xf(e,t,r){const s=this.proxy,l=rt(e)?e.includes(".")?Ou(s,e):()=>s[e]:e.bind(s,s);let n;Ne(t)?n=t:(n=t.handler,r=t);const i=Hn(this),a=Cu(l,n.bind(s),r);return i(),a}function Ou(e,t){const r=t.split(".");return()=>{let s=e;for(let l=0;l<r.length&&s;l++)s=s[r[l]];return s}}const Zf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Or(t)}Modifiers`]||e[`${Mr(t)}Modifiers`];function ed(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Ve;let l=r;const n=t.startsWith("update:"),i=n&&Zf(s,t.slice(7));i&&(i.trim&&(l=r.map(h=>rt(h)?h.trim():h)),i.number&&(l=r.map(ps)));let a,o=s[a=Vi(t)]||s[a=Vi(Or(t))];!o&&n&&(o=s[a=Vi(Mr(t))]),o&&Yt(o,e,6,l);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Yt(u,e,6,l)}}function Pu(e,t,r=!1){const s=t.emitsCache,l=s.get(e);if(l!==void 0)return l;const n=e.emits;let i={},a=!1;if(!Ne(e)){const o=u=>{const h=Pu(u,t,!0);h&&(a=!0,yt(i,h))};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return!n&&!a?(et(e)&&s.set(e,null),null):(Le(n)?n.forEach(o=>i[o]=null):yt(i,n),et(e)&&s.set(e,i),i)}function Ui(e,t){return!e||!Ti(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,Mr(t))||We(e,t))}function Ba(e){const{type:t,vnode:r,proxy:s,withProxy:l,propsOptions:[n],slots:i,attrs:a,emit:o,render:u,renderCache:h,props:d,data:m,setupState:y,ctx:b,inheritAttrs:T}=e,E=yi(e);let P,w;try{if(r.shapeFlag&4){const N=l||s,F=N;P=qt(u.call(F,N,h,d,y,m,b)),w=a}else{const N=t;P=qt(N.length>1?N(d,{attrs:a,slots:i,emit:o}):N(d,null)),w=t.props?a:td(a)}}catch(N){Rn.length=0,Pi(N,e,1),P=Gt(Rr)}let k=P;if(w&&T!==!1){const N=Object.keys(w),{shapeFlag:F}=k;N.length&&F&7&&(n&&N.some(zo)&&(w=rd(w,n)),k=gn(k,w,!1,!0))}return r.dirs&&(k=gn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(r.dirs):r.dirs),r.transition&&oa(k,r.transition),P=k,yi(E),P}const td=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ti(r))&&((t||(t={}))[r]=e[r]);return t},rd=(e,t)=>{const r={};for(const s in e)(!zo(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function nd(e,t,r){const{props:s,children:l,component:n}=e,{props:i,children:a,patchFlag:o}=t,u=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&o>=0){if(o&1024)return!0;if(o&16)return s?La(s,i,u):!!i;if(o&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(i[m]!==s[m]&&!Ui(u,m))return!0}}}else return(l||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?La(s,i,u):!0:!!i;return!1}function La(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let l=0;l<s.length;l++){const n=s[l];if(t[n]!==e[n]&&!Ui(r,n))return!0}return!1}function id({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Ru=e=>e.__isSuspense;function sd(e,t){t&&t.pendingBranch?Le(e)?t.effects.push(...e):t.effects.push(e):gf(e)}const gt=Symbol.for("v-fgt"),Mi=Symbol.for("v-txt"),Rr=Symbol.for("v-cmt"),Zi=Symbol.for("v-stc"),Rn=[];let Ot=null;function st(e=!1){Rn.push(Ot=e?null:[])}function od(){Rn.pop(),Ot=Rn[Rn.length-1]||null}let jn=1;function Na(e,t=!1){jn+=e,e<0&&Ot&&t&&(Ot.hasOnce=!0)}function Uu(e){return e.dynamicChildren=jn>0?Ot||cn:null,od(),jn>0&&Ot&&Ot.push(e),e}function dt(e,t,r,s,l,n){return Uu(Oe(e,t,r,s,l,n,!0))}function Mu(e,t,r,s,l){return Uu(Gt(e,t,r,s,l,!0))}function Bu(e){return e?e.__v_isVNode===!0:!1}function _n(e,t){return e.type===t.type&&e.key===t.key}const Lu=({key:e})=>e??null,ni=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?rt(e)||ut(e)||Ne(e)?{i:Ut,r:e,k:t,f:!!r}:e:null);function Oe(e,t=null,r=null,s=0,l=null,n=e===gt?0:1,i=!1,a=!1){const o={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lu(t),ref:t&&ni(t),scopeId:hu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ut};return a?(ha(o,r),n&128&&e.normalize(o)):r&&(o.shapeFlag|=rt(r)?8:16),jn>0&&!i&&Ot&&(o.patchFlag>0||n&6)&&o.patchFlag!==32&&Ot.push(o),o}const Gt=ad;function ad(e,t=null,r=null,s=0,l=null,n=!1){if((!e||e===Of)&&(e=Rr),Bu(e)){const a=gn(e,t,!0);return r&&ha(a,r),jn>0&&!n&&Ot&&(a.shapeFlag&6?Ot[Ot.indexOf(e)]=a:Ot.push(a)),a.patchFlag=-2,a}if(yd(e)&&(e=e.__vccOpts),t){t=ld(t);let{class:a,style:o}=t;a&&!rt(a)&&(t.class=Ci(a)),et(o)&&(ia(o)&&!Le(o)&&(o=yt({},o)),t.style=Qo(o))}const i=rt(e)?1:Ru(e)?128:bf(e)?64:et(e)?4:Ne(e)?2:0;return Oe(e,t,r,s,l,i,n,!0)}function ld(e){return e?ia(e)||_u(e)?yt({},e):e:null}function gn(e,t,r=!1,s=!1){const{props:l,ref:n,patchFlag:i,children:a,transition:o}=e,u=t?ud(l||{},t):l,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Lu(u),ref:t&&t.ref?r&&n?Le(n)?n.concat(ni(t)):[n,ni(t)]:ni(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:o,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gn(e.ssContent),ssFallback:e.ssFallback&&gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return o&&s&&oa(h,o.clone(h)),h}function Tr(e=" ",t=0){return Gt(Mi,null,e,t)}function ja(e="",t=!1){return t?(st(),Mu(Rr,null,e)):Gt(Rr,null,e)}function qt(e){return e==null||typeof e=="boolean"?Gt(Rr):Le(e)?Gt(gt,null,e.slice()):Bu(e)?Ir(e):Gt(Mi,null,String(e))}function Ir(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gn(e)}function ha(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Le(t))r=16;else if(typeof t=="object")if(s&65){const l=t.default;l&&(l._c&&(l._d=!1),ha(e,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!_u(t)?t._ctx=Ut:l===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ne(t)?(t={default:t,_ctx:Ut},r=32):(t=String(t),s&64?(r=16,t=[Tr(t)]):r=8);e.children=t,e.shapeFlag|=r}function ud(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const l in s)if(l==="class")t.class!==s.class&&(t.class=Ci([t.class,s.class]));else if(l==="style")t.style=Qo([t.style,s.style]);else if(Ti(l)){const n=t[l],i=s[l];i&&n!==i&&!(Le(n)&&n.includes(i))&&(t[l]=n?[].concat(n,i):i)}else l!==""&&(t[l]=s[l])}return t}function Ft(e,t,r,s=null){Yt(e,t,7,[r,s])}const cd=bu();let hd=0;function fd(e,t,r){const s=e.type,l=(t?t.appContext:e.appContext)||cd,n={uid:hd++,vnode:e,type:s,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Su(s,l),emitsOptions:Pu(s,l),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:s.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=ed.bind(null,n),e.ce&&e.ce(n),n}let _t=null,vi,Ss;{const e=ki(),t=(r,s)=>{let l;return(l=e[r])||(l=e[r]=[]),l.push(s),n=>{l.length>1?l.forEach(i=>i(n)):l[0](n)}};vi=t("__VUE_INSTANCE_SETTERS__",r=>_t=r),Ss=t("__VUE_SSR_SETTERS__",r=>Dn=r)}const Hn=e=>{const t=_t;return vi(e),e.scope.on(),()=>{e.scope.off(),vi(t)}},Da=()=>{_t&&_t.scope.off(),vi(null)};function Nu(e){return e.vnode.shapeFlag&4}let Dn=!1;function dd(e,t=!1,r=!1){t&&Ss(t);const{props:s,children:l}=e.vnode,n=Nu(e);Ff(e,s,n,t),qf(e,l,r||t);const i=n?pd(e,t):void 0;return t&&Ss(!1),i}function pd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pf);const{setup:s}=r;if(s){cr();const l=e.setupContext=s.length>1?md(e):null,n=Hn(e),i=Wn(s,e,0,[e.props,l]),a=Nl(i);if(hr(),n(),(a||e.sp)&&!On(e)&&fu(e),a){if(i.then(Da,Da),t)return i.then(o=>{Fa(e,o)}).catch(o=>{Pi(o,e,0)});e.asyncDep=i}else Fa(e,i)}else ju(e)}function Fa(e,t,r){Ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:et(t)&&(e.setupState=ou(t)),ju(e)}function ju(e,t,r){const s=e.type;e.render||(e.render=s.render||zt);{const l=Hn(e);cr();try{Rf(e)}finally{hr(),l()}}}const gd={get(e,t){return pt(e,"get",""),e[t]}};function md(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,gd),slots:e.slots,emit:e.emit,expose:t}}function Bi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ou(nf(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Pn)return Pn[r](e)},has(t,r){return r in t||r in Pn}})):e.proxy}function yd(e){return Ne(e)&&"__vccOpts"in e}const Du=(e,t)=>uf(e,t,Dn),bd="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let As;const Wa=typeof window<"u"&&window.trustedTypes;if(Wa)try{As=Wa.createPolicy("vue",{createHTML:e=>e})}catch{}const Fu=As?e=>As.createHTML(e):e=>e,wd="http://www.w3.org/2000/svg",vd="http://www.w3.org/1998/Math/MathML",rr=typeof document<"u"?document:null,Ha=rr&&rr.createElement("template"),_d={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const l=t==="svg"?rr.createElementNS(wd,e):t==="mathml"?rr.createElementNS(vd,e):r?rr.createElement(e,{is:r}):rr.createElement(e);return e==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:e=>rr.createTextNode(e),createComment:e=>rr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,l,n){const i=r?r.previousSibling:t.lastChild;if(l&&(l===n||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===n||!(l=l.nextSibling)););else{Ha.innerHTML=Fu(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Ha.content;if(s==="svg"||s==="mathml"){const o=a.firstChild;for(;o.firstChild;)a.appendChild(o.firstChild);a.removeChild(o)}t.insertBefore(a,r)}return[i?i.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Ed=Symbol("_vtc");function Sd(e,t,r){const s=e[Ed];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const $a=Symbol("_vod"),Ad=Symbol("_vsh"),Td=Symbol(""),Id=/(^|;)\s*display\s*:/;function xd(e,t,r){const s=e.style,l=rt(r);let n=!1;if(r&&!l){if(t)if(rt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();r[a]==null&&ii(s,a,"")}else for(const i in t)r[i]==null&&ii(s,i,"");for(const i in r)i==="display"&&(n=!0),ii(s,i,r[i])}else if(l){if(t!==r){const i=s[Td];i&&(r+=";"+i),s.cssText=r,n=Id.test(r)}}else t&&e.removeAttribute("style");$a in e&&(e[$a]=n?s.display:"",e[Ad]&&(s.display="none"))}const qa=/\s*!important$/;function ii(e,t,r){if(Le(r))r.forEach(s=>ii(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=kd(e,t);qa.test(r)?e.setProperty(Mr(s),r.replace(qa,""),"important"):e[s]=r}}const Va=["Webkit","Moz","ms"],es={};function kd(e,t){const r=es[t];if(r)return r;let s=Or(t);if(s!=="filter"&&s in e)return es[t]=s;s=Fl(s);for(let l=0;l<Va.length;l++){const n=Va[l]+s;if(n in e)return es[t]=n}return t}const Ka="http://www.w3.org/1999/xlink";function za(e,t,r,s,l,n=Bh(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Ka,t.slice(6,t.length)):e.setAttributeNS(Ka,t,r):r==null||n&&!Hl(r)?e.removeAttribute(t):e.setAttribute(t,n?"":Ur(r)?String(r):r)}function Ga(e,t,r,s,l){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Fu(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,o=r==null?e.type==="checkbox"?"on":"":String(r);(a!==o||!("_value"in e))&&(e.value=o),r==null&&e.removeAttribute(t),e._value=r;return}let i=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Hl(r):r==null&&a==="string"?(r="",i=!0):a==="number"&&(r=0,i=!0)}try{e[t]=r}catch{}i&&e.removeAttribute(l||t)}function an(e,t,r,s){e.addEventListener(t,r,s)}function Cd(e,t,r,s){e.removeEventListener(t,r,s)}const Ya=Symbol("_vei");function Od(e,t,r,s,l=null){const n=e[Ya]||(e[Ya]={}),i=n[t];if(s&&i)i.value=s;else{const[a,o]=Pd(t);if(s){const u=n[t]=Md(s,l);an(e,a,u,o)}else i&&(Cd(e,a,i,o),n[t]=void 0)}}const Qa=/(?:Once|Passive|Capture)$/;function Pd(e){let t;if(Qa.test(e)){t={};let s;for(;s=e.match(Qa);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Mr(e.slice(2)),t]}let ts=0;const Rd=Promise.resolve(),Ud=()=>ts||(Rd.then(()=>ts=0),ts=Date.now());function Md(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Yt(Bd(s,r.value),t,5,[s])};return r.value=e,r.attached=Ud(),r}function Bd(e,t){if(Le(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>l=>!l._stopped&&s&&s(l))}else return t}const Ja=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ld=(e,t,r,s,l,n)=>{const i=l==="svg";t==="class"?Sd(e,s,i):t==="style"?xd(e,r,s):Ti(t)?zo(t)||Od(e,t,r,s,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nd(e,t,s,i))?(Ga(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&za(e,t,s,i,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rt(s))?Ga(e,Or(t),s,n,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),za(e,t,s,i))};function Nd(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ja(t)&&Ne(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Ja(t)&&rt(r)?!1:t in e}const Xa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Le(t)?r=>ti(t,r):t};function jd(e){e.target.composing=!0}function Za(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rs=Symbol("_assign"),Kr={created(e,{modifiers:{lazy:t,trim:r,number:s}},l){e[rs]=Xa(l);const n=s||l.props&&l.props.type==="number";an(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;r&&(a=a.trim()),n&&(a=ps(a)),e[rs](a)}),r&&an(e,"change",()=>{e.value=e.value.trim()}),t||(an(e,"compositionstart",jd),an(e,"compositionend",Za),an(e,"change",Za))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:l,number:n}},i){if(e[rs]=Xa(i),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?ps(e.value):e.value,o=t??"";a!==o&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||l&&e.value.trim()===o)||(e.value=o))}},Dd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fd=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=l=>{if(!("key"in l))return;const n=Mr(l.key);if(t.some(i=>i===n||Dd[i]===n))return e(l)})},Wd=yt({patchProp:Ld},_d);let el;function Hd(){return el||(el=Kf(Wd))}const $d=(...e)=>{const t=Hd().createApp(...e),{mount:r}=t;return t.mount=s=>{const l=Vd(s);if(!l)return;const n=t._component;!Ne(n)&&!n.render&&!n.template&&(n.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const i=r(l,!1,qd(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),i},t};function qd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Vd(e){return rt(e)?document.querySelector(e):e}var si={exports:{}},Kd=si.exports,tl;function zd(){return tl||(tl=1,function(e,t){(function(r,s){e.exports=s()})(Kd,function(){return function(r){var s={};function l(n){if(s[n])return s[n].exports;var i=s[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,l),i.l=!0,i.exports}return l.m=r,l.c=s,l.d=function(n,i,a){l.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},l.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,i){if(1&i&&(n=l(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var o in n)l.d(a,o,(function(u){return n[u]}).bind(null,o));return a},l.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(i,"a",i),i},l.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},l.p="",l(l.s=0)}([function(r,s,l){l.r(s),l.d(s,"encode",function(){return ae}),l.d(s,"decode",function(){return le}),l.d(s,"decodeAsync",function(){return H}),l.d(s,"decodeArrayStream",function(){return X}),l.d(s,"decodeStream",function(){return J}),l.d(s,"Decoder",function(){return re}),l.d(s,"Encoder",function(){return $}),l.d(s,"ExtensionCodec",function(){return se}),l.d(s,"ExtData",function(){return T}),l.d(s,"EXT_TIMESTAMP",function(){return w}),l.d(s,"encodeDateToTimeSpec",function(){return N}),l.d(s,"encodeTimeSpecToTimestamp",function(){return k}),l.d(s,"decodeTimestampToTimeSpec",function(){return M}),l.d(s,"encodeTimestampExtension",function(){return F}),l.d(s,"decodeTimestampExtension",function(){return j});var n=function(x,p){var S=typeof Symbol=="function"&&x[Symbol.iterator];if(!S)return x;var C,A,G=S.call(x),c=[];try{for(;(p===void 0||p-- >0)&&!(C=G.next()).done;)c.push(C.value)}catch(f){A={error:f}}finally{try{C&&!C.done&&(S=G.return)&&S.call(G)}finally{if(A)throw A.error}}return c},i=function(){for(var x=[],p=0;p<arguments.length;p++)x=x.concat(n(arguments[p]));return x},a=typeof process<"u"&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function o(x){for(var p=x.length,S=0,C=0;C<p;){var A=x.charCodeAt(C++);if((4294967168&A)!=0)if((4294965248&A)==0)S+=2;else{if(A>=55296&&A<=56319&&C<p){var G=x.charCodeAt(C);(64512&G)==56320&&(++C,A=((1023&A)<<10)+(1023&G)+65536)}S+=(4294901760&A)==0?3:4}else S++}return S}var u=a?new TextEncoder:void 0,h=typeof process<"u"?200:0,d=u!=null&&u.encodeInto?function(x,p,S){u.encodeInto(x,p.subarray(S))}:function(x,p,S){p.set(u.encode(x),S)};function m(x,p,S){for(var C=p,A=C+S,G=[],c="";C<A;){var f=x[C++];if((128&f)==0)G.push(f);else if((224&f)==192){var g=63&x[C++];G.push((31&f)<<6|g)}else if((240&f)==224){g=63&x[C++];var v=63&x[C++];G.push((31&f)<<12|g<<6|v)}else if((248&f)==240){var _=(7&f)<<18|(g=63&x[C++])<<12|(v=63&x[C++])<<6|63&x[C++];_>65535&&(_-=65536,G.push(_>>>10&1023|55296),_=56320|1023&_),G.push(_)}else G.push(f);G.length>=4096&&(c+=String.fromCharCode.apply(String,i(G)),G.length=0)}return G.length>0&&(c+=String.fromCharCode.apply(String,i(G))),c}var y=a?new TextDecoder:null,b=typeof process<"u"?200:0,T=function(x,p){this.type=x,this.data=p};function E(x,p,S){var C=Math.floor(S/4294967296),A=S;x.setUint32(p,C),x.setUint32(p+4,A)}function P(x,p){return 4294967296*x.getInt32(p)+x.getUint32(p+4)}var w=-1;function k(x){var p=x.sec,S=x.nsec;if(p>=0&&S>=0&&p<=17179869183){if(S===0&&p<=4294967295){var C=new Uint8Array(4);return(c=new DataView(C.buffer)).setUint32(0,p),C}var A=p/4294967296,G=4294967295&p;return C=new Uint8Array(8),(c=new DataView(C.buffer)).setUint32(0,S<<2|3&A),c.setUint32(4,G),C}var c;return C=new Uint8Array(12),(c=new DataView(C.buffer)).setUint32(0,S),E(c,4,p),C}function N(x){var p=x.getTime(),S=Math.floor(p/1e3),C=1e6*(p-1e3*S),A=Math.floor(C/1e9);return{sec:S+A,nsec:C-1e9*A}}function F(x){return x instanceof Date?k(N(x)):null}function M(x){var p=new DataView(x.buffer,x.byteOffset,x.byteLength);switch(x.byteLength){case 4:return{sec:p.getUint32(0),nsec:0};case 8:var S=p.getUint32(0);return{sec:4294967296*(3&S)+p.getUint32(4),nsec:S>>>2};case 12:return{sec:P(p,4),nsec:p.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+x.length)}}function j(x){var p=M(x);return new Date(1e3*p.sec+p.nsec/1e6)}var K={type:w,encode:F,decode:j},se=function(){function x(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(K)}return x.prototype.register=function(p){var S=p.type,C=p.encode,A=p.decode;if(S>=0)this.encoders[S]=C,this.decoders[S]=A;else{var G=1+S;this.builtInEncoders[G]=C,this.builtInDecoders[G]=A}},x.prototype.tryToEncode=function(p,S){for(var C=0;C<this.builtInEncoders.length;C++)if((A=this.builtInEncoders[C])!=null&&(G=A(p,S))!=null)return new T(-1-C,G);for(C=0;C<this.encoders.length;C++){var A,G;if((A=this.encoders[C])!=null&&(G=A(p,S))!=null)return new T(C,G)}return p instanceof T?p:null},x.prototype.decode=function(p,S,C){var A=S<0?this.builtInDecoders[-1-S]:this.decoders[S];return A?A(p,S,C):new T(S,p)},x.defaultCodec=new x,x}();function oe(x){return x instanceof Uint8Array?x:ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength):x instanceof ArrayBuffer?new Uint8Array(x):Uint8Array.from(x)}var fe=function(x){var p=typeof Symbol=="function"&&Symbol.iterator,S=p&&x[p],C=0;if(S)return S.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&C>=x.length&&(x=void 0),{value:x&&x[C++],done:!x}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},$=function(){function x(p,S,C,A,G,c,f){p===void 0&&(p=se.defaultCodec),C===void 0&&(C=100),A===void 0&&(A=2048),G===void 0&&(G=!1),c===void 0&&(c=!1),f===void 0&&(f=!1),this.extensionCodec=p,this.context=S,this.maxDepth=C,this.initialBufferSize=A,this.sortKeys=G,this.forceFloat32=c,this.ignoreUndefined=f,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return x.prototype.encode=function(p,S){if(S>this.maxDepth)throw new Error("Too deep objects in depth "+S);p==null?this.encodeNil():typeof p=="boolean"?this.encodeBoolean(p):typeof p=="number"?this.encodeNumber(p):typeof p=="string"?this.encodeString(p):this.encodeObject(p,S)},x.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},x.prototype.ensureBufferSizeToWrite=function(p){var S=this.pos+p;this.view.byteLength<S&&this.resizeBuffer(2*S)},x.prototype.resizeBuffer=function(p){var S=new ArrayBuffer(p),C=new Uint8Array(S),A=new DataView(S);C.set(this.bytes),this.view=A,this.bytes=C},x.prototype.encodeNil=function(){this.writeU8(192)},x.prototype.encodeBoolean=function(p){p===!1?this.writeU8(194):this.writeU8(195)},x.prototype.encodeNumber=function(p){Number.isSafeInteger(p)?p>=0?p<128?this.writeU8(p):p<256?(this.writeU8(204),this.writeU8(p)):p<65536?(this.writeU8(205),this.writeU16(p)):p<4294967296?(this.writeU8(206),this.writeU32(p)):(this.writeU8(207),this.writeU64(p)):p>=-32?this.writeU8(224|p+32):p>=-128?(this.writeU8(208),this.writeI8(p)):p>=-32768?(this.writeU8(209),this.writeI16(p)):p>=-2147483648?(this.writeU8(210),this.writeI32(p)):(this.writeU8(211),this.writeI64(p)):this.forceFloat32?(this.writeU8(202),this.writeF32(p)):(this.writeU8(203),this.writeF64(p))},x.prototype.writeStringHeader=function(p){if(p<32)this.writeU8(160+p);else if(p<256)this.writeU8(217),this.writeU8(p);else if(p<65536)this.writeU8(218),this.writeU16(p);else{if(!(p<4294967296))throw new Error("Too long string: "+p+" bytes in UTF-8");this.writeU8(219),this.writeU32(p)}},x.prototype.encodeString=function(p){var S=p.length;if(a&&S>h){var C=o(p);this.ensureBufferSizeToWrite(5+C),this.writeStringHeader(C),d(p,this.bytes,this.pos),this.pos+=C}else C=o(p),this.ensureBufferSizeToWrite(5+C),this.writeStringHeader(C),function(A,G,c){for(var f=A.length,g=c,v=0;v<f;){var _=A.charCodeAt(v++);if((4294967168&_)!=0){if((4294965248&_)==0)G[g++]=_>>6&31|192;else{if(_>=55296&&_<=56319&&v<f){var L=A.charCodeAt(v);(64512&L)==56320&&(++v,_=((1023&_)<<10)+(1023&L)+65536)}(4294901760&_)==0?(G[g++]=_>>12&15|224,G[g++]=_>>6&63|128):(G[g++]=_>>18&7|240,G[g++]=_>>12&63|128,G[g++]=_>>6&63|128)}G[g++]=63&_|128}else G[g++]=_}}(p,this.bytes,this.pos),this.pos+=C},x.prototype.encodeObject=function(p,S){var C=this.extensionCodec.tryToEncode(p,this.context);if(C!=null)this.encodeExtension(C);else if(Array.isArray(p))this.encodeArray(p,S);else if(ArrayBuffer.isView(p))this.encodeBinary(p);else{if(typeof p!="object")throw new Error("Unrecognized object: "+Object.prototype.toString.apply(p));this.encodeMap(p,S)}},x.prototype.encodeBinary=function(p){var S=p.byteLength;if(S<256)this.writeU8(196),this.writeU8(S);else if(S<65536)this.writeU8(197),this.writeU16(S);else{if(!(S<4294967296))throw new Error("Too large binary: "+S);this.writeU8(198),this.writeU32(S)}var C=oe(p);this.writeU8a(C)},x.prototype.encodeArray=function(p,S){var C,A,G=p.length;if(G<16)this.writeU8(144+G);else if(G<65536)this.writeU8(220),this.writeU16(G);else{if(!(G<4294967296))throw new Error("Too large array: "+G);this.writeU8(221),this.writeU32(G)}try{for(var c=fe(p),f=c.next();!f.done;f=c.next()){var g=f.value;this.encode(g,S+1)}}catch(v){C={error:v}}finally{try{f&&!f.done&&(A=c.return)&&A.call(c)}finally{if(C)throw C.error}}},x.prototype.countWithoutUndefined=function(p,S){var C,A,G=0;try{for(var c=fe(S),f=c.next();!f.done;f=c.next())p[f.value]!==void 0&&G++}catch(g){C={error:g}}finally{try{f&&!f.done&&(A=c.return)&&A.call(c)}finally{if(C)throw C.error}}return G},x.prototype.encodeMap=function(p,S){var C,A,G=Object.keys(p);this.sortKeys&&G.sort();var c=this.ignoreUndefined?this.countWithoutUndefined(p,G):G.length;if(c<16)this.writeU8(128+c);else if(c<65536)this.writeU8(222),this.writeU16(c);else{if(!(c<4294967296))throw new Error("Too large map object: "+c);this.writeU8(223),this.writeU32(c)}try{for(var f=fe(G),g=f.next();!g.done;g=f.next()){var v=g.value,_=p[v];this.ignoreUndefined&&_===void 0||(this.encodeString(v),this.encode(_,S+1))}}catch(L){C={error:L}}finally{try{g&&!g.done&&(A=f.return)&&A.call(f)}finally{if(C)throw C.error}}},x.prototype.encodeExtension=function(p){var S=p.data.length;if(S===1)this.writeU8(212);else if(S===2)this.writeU8(213);else if(S===4)this.writeU8(214);else if(S===8)this.writeU8(215);else if(S===16)this.writeU8(216);else if(S<256)this.writeU8(199),this.writeU8(S);else if(S<65536)this.writeU8(200),this.writeU16(S);else{if(!(S<4294967296))throw new Error("Too large extension object: "+S);this.writeU8(201),this.writeU32(S)}this.writeI8(p.type),this.writeU8a(p.data)},x.prototype.writeU8=function(p){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,p),this.pos++},x.prototype.writeU8a=function(p){var S=p.length;this.ensureBufferSizeToWrite(S),this.bytes.set(p,this.pos),this.pos+=S},x.prototype.writeI8=function(p){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,p),this.pos++},x.prototype.writeU16=function(p){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,p),this.pos+=2},x.prototype.writeI16=function(p){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,p),this.pos+=2},x.prototype.writeU32=function(p){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,p),this.pos+=4},x.prototype.writeI32=function(p){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,p),this.pos+=4},x.prototype.writeF32=function(p){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,p),this.pos+=4},x.prototype.writeF64=function(p){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,p),this.pos+=8},x.prototype.writeU64=function(p){this.ensureBufferSizeToWrite(8),function(S,C,A){var G=A/4294967296,c=A;S.setUint32(C,G),S.setUint32(C+4,c)}(this.view,this.pos,p),this.pos+=8},x.prototype.writeI64=function(p){this.ensureBufferSizeToWrite(8),E(this.view,this.pos,p),this.pos+=8},x}(),ie={};function ae(x,p){p===void 0&&(p=ie);var S=new $(p.extensionCodec,p.context,p.maxDepth,p.initialBufferSize,p.sortKeys,p.forceFloat32,p.ignoreUndefined);return S.encode(x,1),S.getUint8Array()}function Z(x){return(x<0?"-":"")+"0x"+Math.abs(x).toString(16).padStart(2,"0")}var pe=function(){function x(p,S){p===void 0&&(p=16),S===void 0&&(S=16),this.maxKeyLength=p,this.maxLengthPerKey=S,this.caches=[];for(var C=0;C<this.maxKeyLength;C++)this.caches.push([])}return x.prototype.canBeCached=function(p){return p>0&&p<=this.maxKeyLength},x.prototype.get=function(p,S,C){var A=this.caches[C-1],G=A.length;e:for(var c=0;c<G;c++){for(var f=A[c],g=f.bytes,v=0;v<C;v++)if(g[v]!==p[S+v])continue e;return f.value}return null},x.prototype.store=function(p,S){var C=this.caches[p.length-1],A={bytes:p,value:S};C.length>=this.maxLengthPerKey?C[Math.random()*C.length|0]=A:C.push(A)},x.prototype.decode=function(p,S,C){var A=this.get(p,S,C);if(A!=null)return A;var G=m(p,S,C),c=Uint8Array.prototype.slice.call(p,S,S+C);return this.store(c,G),G},x}(),ce=function(x,p,S,C){return new(S||(S=Promise))(function(A,G){function c(v){try{g(C.next(v))}catch(_){G(_)}}function f(v){try{g(C.throw(v))}catch(_){G(_)}}function g(v){var _;v.done?A(v.value):(_=v.value,_ instanceof S?_:new S(function(L){L(_)})).then(c,f)}g((C=C.apply(x,[])).next())})},ue=function(x,p){var S,C,A,G,c={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(S)throw new TypeError("Generator is already executing.");for(;c;)try{if(S=1,C&&(A=2&_[0]?C.return:_[0]?C.throw||((A=C.return)&&A.call(C),0):C.next)&&!(A=A.call(C,_[1])).done)return A;switch(C=0,A&&(_=[2&_[0],A.value]),_[0]){case 0:case 1:A=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,C=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(A=c.trys,!((A=A.length>0&&A[A.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!A||_[1]>A[0]&&_[1]<A[3])){c.label=_[1];break}if(_[0]===6&&c.label<A[1]){c.label=A[1],A=_;break}if(A&&c.label<A[2]){c.label=A[2],c.ops.push(_);break}A[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(x,c)}catch(L){_=[6,L],C=0}finally{S=A=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}},Ee=function(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,S=x[Symbol.asyncIterator];return S?S.call(x):(x=typeof __values=="function"?__values(x):x[Symbol.iterator](),p={},C("next"),C("throw"),C("return"),p[Symbol.asyncIterator]=function(){return this},p);function C(A){p[A]=x[A]&&function(G){return new Promise(function(c,f){(function(g,v,_,L){Promise.resolve(L).then(function(Y){g({value:Y,done:_})},v)})(c,f,(G=x[A](G)).done,G.value)})}}},ne=function(x){return this instanceof ne?(this.v=x,this):new ne(x)},de=function(x,p,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=S.apply(x,p||[]),G=[];return C={},c("next"),c("throw"),c("return"),C[Symbol.asyncIterator]=function(){return this},C;function c(L){A[L]&&(C[L]=function(Y){return new Promise(function(we,ve){G.push([L,Y,we,ve])>1||f(L,Y)})})}function f(L,Y){try{(we=A[L](Y)).value instanceof ne?Promise.resolve(we.value.v).then(g,v):_(G[0][2],we)}catch(ve){_(G[0][3],ve)}var we}function g(L){f("next",L)}function v(L){f("throw",L)}function _(L,Y){L(Y),G.shift(),G.length&&f(G[0][0],G[0][1])}},D=new DataView(new ArrayBuffer(0)),he=new Uint8Array(D.buffer),be=function(){try{D.getInt8(0)}catch(x){return x.constructor}throw new Error("never reached")}(),Q=new be("Insufficient data"),Ae=new pe,re=function(){function x(p,S,C,A,G,c,f,g){p===void 0&&(p=se.defaultCodec),C===void 0&&(C=4294967295),A===void 0&&(A=4294967295),G===void 0&&(G=4294967295),c===void 0&&(c=4294967295),f===void 0&&(f=4294967295),g===void 0&&(g=Ae),this.extensionCodec=p,this.context=S,this.maxStrLength=C,this.maxBinLength=A,this.maxArrayLength=G,this.maxMapLength=c,this.maxExtLength=f,this.cachedKeyDecoder=g,this.totalPos=0,this.pos=0,this.view=D,this.bytes=he,this.headByte=-1,this.stack=[]}return x.prototype.setBuffer=function(p){this.bytes=oe(p),this.view=function(S){if(S instanceof ArrayBuffer)return new DataView(S);var C=oe(S);return new DataView(C.buffer,C.byteOffset,C.byteLength)}(this.bytes),this.pos=0},x.prototype.appendBuffer=function(p){if(this.headByte!==-1||this.hasRemaining()){var S=this.bytes.subarray(this.pos),C=oe(p),A=new Uint8Array(S.length+C.length);A.set(S),A.set(C,S.length),this.setBuffer(A)}else this.setBuffer(p)},x.prototype.hasRemaining=function(p){return p===void 0&&(p=1),this.view.byteLength-this.pos>=p},x.prototype.createNoExtraBytesError=function(p){var S=this.view,C=this.pos;return new RangeError("Extra "+(S.byteLength-C)+" byte(s) found at buffer["+p+"]")},x.prototype.decodeSingleSync=function(){var p=this.decodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return p},x.prototype.decodeSingleAsync=function(p){var S,C,A,G;return ce(this,void 0,void 0,function(){var c,f,g,v,_,L,Y,we;return ue(this,function(ve){switch(ve.label){case 0:c=!1,ve.label=1;case 1:ve.trys.push([1,6,7,12]),S=Ee(p),ve.label=2;case 2:return[4,S.next()];case 3:if((C=ve.sent()).done)return[3,5];if(g=C.value,c)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(g);try{f=this.decodeSync(),c=!0}catch(xe){if(!(xe instanceof be))throw xe}this.totalPos+=this.pos,ve.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return v=ve.sent(),A={error:v},[3,12];case 7:return ve.trys.push([7,,10,11]),C&&!C.done&&(G=S.return)?[4,G.call(S)]:[3,9];case 8:ve.sent(),ve.label=9;case 9:return[3,11];case 10:if(A)throw A.error;return[7];case 11:return[7];case 12:if(c){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return[2,f]}throw L=(_=this).headByte,Y=_.pos,we=_.totalPos,new RangeError("Insufficient data in parcing "+Z(L)+" at "+we+" ("+Y+" in the current buffer)")}})})},x.prototype.decodeArrayStream=function(p){return this.decodeMultiAsync(p,!0)},x.prototype.decodeStream=function(p){return this.decodeMultiAsync(p,!1)},x.prototype.decodeMultiAsync=function(p,S){return de(this,arguments,function(){var C,A,G,c,f,g,v,_,L;return ue(this,function(Y){switch(Y.label){case 0:C=S,A=-1,Y.label=1;case 1:Y.trys.push([1,13,14,19]),G=Ee(p),Y.label=2;case 2:return[4,ne(G.next())];case 3:if((c=Y.sent()).done)return[3,12];if(f=c.value,S&&A===0)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(f),C&&(A=this.readArraySize(),C=!1,this.complete()),Y.label=4;case 4:Y.trys.push([4,9,,10]),Y.label=5;case 5:return[4,ne(this.decodeSync())];case 6:return[4,Y.sent()];case 7:return Y.sent(),--A==0?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((g=Y.sent())instanceof be))throw g;return[3,10];case 10:this.totalPos+=this.pos,Y.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return v=Y.sent(),_={error:v},[3,19];case 14:return Y.trys.push([14,,17,18]),c&&!c.done&&(L=G.return)?[4,ne(L.call(G))]:[3,16];case 15:Y.sent(),Y.label=16;case 16:return[3,18];case 17:if(_)throw _.error;return[7];case 18:return[7];case 19:return[2]}})})},x.prototype.decodeSync=function(){e:for(;;){var p=this.readHeadByte(),S=void 0;if(p>=224)S=p-256;else if(p<192)if(p<128)S=p;else if(p<144){if((A=p-128)!==0){this.pushMapState(A),this.complete();continue e}S={}}else if(p<160){if((A=p-144)!==0){this.pushArrayState(A),this.complete();continue e}S=[]}else{var C=p-160;S=this.decodeUtf8String(C,0)}else if(p===192)S=null;else if(p===194)S=!1;else if(p===195)S=!0;else if(p===202)S=this.readF32();else if(p===203)S=this.readF64();else if(p===204)S=this.readU8();else if(p===205)S=this.readU16();else if(p===206)S=this.readU32();else if(p===207)S=this.readU64();else if(p===208)S=this.readI8();else if(p===209)S=this.readI16();else if(p===210)S=this.readI32();else if(p===211)S=this.readI64();else if(p===217)C=this.lookU8(),S=this.decodeUtf8String(C,1);else if(p===218)C=this.lookU16(),S=this.decodeUtf8String(C,2);else if(p===219)C=this.lookU32(),S=this.decodeUtf8String(C,4);else if(p===220){if((A=this.readU16())!==0){this.pushArrayState(A),this.complete();continue e}S=[]}else if(p===221){if((A=this.readU32())!==0){this.pushArrayState(A),this.complete();continue e}S=[]}else if(p===222){if((A=this.readU16())!==0){this.pushMapState(A),this.complete();continue e}S={}}else if(p===223){if((A=this.readU32())!==0){this.pushMapState(A),this.complete();continue e}S={}}else if(p===196){var A=this.lookU8();S=this.decodeBinary(A,1)}else if(p===197)A=this.lookU16(),S=this.decodeBinary(A,2);else if(p===198)A=this.lookU32(),S=this.decodeBinary(A,4);else if(p===212)S=this.decodeExtension(1,0);else if(p===213)S=this.decodeExtension(2,0);else if(p===214)S=this.decodeExtension(4,0);else if(p===215)S=this.decodeExtension(8,0);else if(p===216)S=this.decodeExtension(16,0);else if(p===199)A=this.lookU8(),S=this.decodeExtension(A,1);else if(p===200)A=this.lookU16(),S=this.decodeExtension(A,2);else{if(p!==201)throw new Error("Unrecognized type byte: "+Z(p));A=this.lookU32(),S=this.decodeExtension(A,4)}this.complete();for(var G=this.stack;G.length>0;){var c=G[G.length-1];if(c.type===0){if(c.array[c.position]=S,c.position++,c.position!==c.size)continue e;G.pop(),S=c.array}else{if(c.type===1){if(f=void 0,(f=typeof S)!="string"&&f!=="number")throw new Error("The type of key must be string or number but "+typeof S);c.key=S,c.type=2;continue e}if(c.map[c.key]=S,c.readCount++,c.readCount!==c.size){c.key=null,c.type=1;continue e}G.pop(),S=c.map}}return S}var f},x.prototype.readHeadByte=function(){return this.headByte===-1&&(this.headByte=this.readU8()),this.headByte},x.prototype.complete=function(){this.headByte=-1},x.prototype.readArraySize=function(){var p=this.readHeadByte();switch(p){case 220:return this.readU16();case 221:return this.readU32();default:if(p<160)return p-144;throw new Error("Unrecognized array type byte: "+Z(p))}},x.prototype.pushMapState=function(p){if(p>this.maxMapLength)throw new Error("Max length exceeded: map length ("+p+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:p,key:null,readCount:0,map:{}})},x.prototype.pushArrayState=function(p){if(p>this.maxArrayLength)throw new Error("Max length exceeded: array length ("+p+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:p,array:new Array(p),position:0})},x.prototype.decodeUtf8String=function(p,S){var C;if(p>this.maxStrLength)throw new Error("Max length exceeded: UTF-8 byte length ("+p+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+S+p)throw Q;var A,G=this.pos+S;return A=this.stateIsMapKey()&&(!((C=this.cachedKeyDecoder)===null||C===void 0)&&C.canBeCached(p))?this.cachedKeyDecoder.decode(this.bytes,G,p):a&&p>b?function(c,f,g){var v=c.subarray(f,f+g);return y.decode(v)}(this.bytes,G,p):m(this.bytes,G,p),this.pos+=S+p,A},x.prototype.stateIsMapKey=function(){return this.stack.length>0&&this.stack[this.stack.length-1].type===1},x.prototype.decodeBinary=function(p,S){if(p>this.maxBinLength)throw new Error("Max length exceeded: bin length ("+p+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(p+S))throw Q;var C=this.pos+S,A=this.bytes.subarray(C,C+p);return this.pos+=S+p,A},x.prototype.decodeExtension=function(p,S){if(p>this.maxExtLength)throw new Error("Max length exceeded: ext length ("+p+") > maxExtLength ("+this.maxExtLength+")");var C=this.view.getInt8(this.pos+S),A=this.decodeBinary(p,S+1);return this.extensionCodec.decode(A,C,this.context)},x.prototype.lookU8=function(){return this.view.getUint8(this.pos)},x.prototype.lookU16=function(){return this.view.getUint16(this.pos)},x.prototype.lookU32=function(){return this.view.getUint32(this.pos)},x.prototype.readU8=function(){var p=this.view.getUint8(this.pos);return this.pos++,p},x.prototype.readI8=function(){var p=this.view.getInt8(this.pos);return this.pos++,p},x.prototype.readU16=function(){var p=this.view.getUint16(this.pos);return this.pos+=2,p},x.prototype.readI16=function(){var p=this.view.getInt16(this.pos);return this.pos+=2,p},x.prototype.readU32=function(){var p=this.view.getUint32(this.pos);return this.pos+=4,p},x.prototype.readI32=function(){var p=this.view.getInt32(this.pos);return this.pos+=4,p},x.prototype.readU64=function(){var p,S,C=(p=this.view,S=this.pos,4294967296*p.getUint32(S)+p.getUint32(S+4));return this.pos+=8,C},x.prototype.readI64=function(){var p=P(this.view,this.pos);return this.pos+=8,p},x.prototype.readF32=function(){var p=this.view.getFloat32(this.pos);return this.pos+=4,p},x.prototype.readF64=function(){var p=this.view.getFloat64(this.pos);return this.pos+=8,p},x}(),z={};function le(x,p){p===void 0&&(p=z);var S=new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength);return S.setBuffer(x),S.decodeSingleSync()}var ee=function(x,p){var S,C,A,G,c={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(S)throw new TypeError("Generator is already executing.");for(;c;)try{if(S=1,C&&(A=2&_[0]?C.return:_[0]?C.throw||((A=C.return)&&A.call(C),0):C.next)&&!(A=A.call(C,_[1])).done)return A;switch(C=0,A&&(_=[2&_[0],A.value]),_[0]){case 0:case 1:A=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,C=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(A=c.trys,!((A=A.length>0&&A[A.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!A||_[1]>A[0]&&_[1]<A[3])){c.label=_[1];break}if(_[0]===6&&c.label<A[1]){c.label=A[1],A=_;break}if(A&&c.label<A[2]){c.label=A[2],c.ops.push(_);break}A[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(x,c)}catch(L){_=[6,L],C=0}finally{S=A=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}},te=function(x){return this instanceof te?(this.v=x,this):new te(x)},I=function(x,p,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,A=S.apply(x,p||[]),G=[];return C={},c("next"),c("throw"),c("return"),C[Symbol.asyncIterator]=function(){return this},C;function c(L){A[L]&&(C[L]=function(Y){return new Promise(function(we,ve){G.push([L,Y,we,ve])>1||f(L,Y)})})}function f(L,Y){try{(we=A[L](Y)).value instanceof te?Promise.resolve(we.value.v).then(g,v):_(G[0][2],we)}catch(ve){_(G[0][3],ve)}var we}function g(L){f("next",L)}function v(L){f("throw",L)}function _(L,Y){L(Y),G.shift(),G.length&&f(G[0][0],G[0][1])}};function R(x){if(x==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function W(x){return x[Symbol.asyncIterator]!=null?x:function(p){return I(this,arguments,function(){var S,C,A,G;return ee(this,function(c){switch(c.label){case 0:S=p.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,te(S.read())];case 3:return C=c.sent(),A=C.done,G=C.value,A?[4,te(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return R(G),[4,te(G)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return S.releaseLock(),[7];case 10:return[2]}})})}(x)}var O=function(x,p,S,C){return new(S||(S=Promise))(function(A,G){function c(v){try{g(C.next(v))}catch(_){G(_)}}function f(v){try{g(C.throw(v))}catch(_){G(_)}}function g(v){var _;v.done?A(v.value):(_=v.value,_ instanceof S?_:new S(function(L){L(_)})).then(c,f)}g((C=C.apply(x,[])).next())})},U=function(x,p){var S,C,A,G,c={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(S)throw new TypeError("Generator is already executing.");for(;c;)try{if(S=1,C&&(A=2&_[0]?C.return:_[0]?C.throw||((A=C.return)&&A.call(C),0):C.next)&&!(A=A.call(C,_[1])).done)return A;switch(C=0,A&&(_=[2&_[0],A.value]),_[0]){case 0:case 1:A=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,C=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(A=c.trys,!((A=A.length>0&&A[A.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!A||_[1]>A[0]&&_[1]<A[3])){c.label=_[1];break}if(_[0]===6&&c.label<A[1]){c.label=A[1],A=_;break}if(A&&c.label<A[2]){c.label=A[2],c.ops.push(_);break}A[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(x,c)}catch(L){_=[6,L],C=0}finally{S=A=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}};function H(x,p){return p===void 0&&(p=z),O(this,void 0,void 0,function(){var S;return U(this,function(C){return S=W(x),[2,new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeSingleAsync(S)]})})}function X(x,p){p===void 0&&(p=z);var S=W(x);return new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeArrayStream(S)}function J(x,p){p===void 0&&(p=z);var S=W(x);return new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeStream(S)}}])})}(si)),si.exports}var rl=zd();class nl{}class Cr{constructor(){Ie(this,"items",[]);Ie(this,"unixTime",0)}addData(t,r){this.items.push([t,r])}getDataById(t){return this.items.filter(([r])=>r===t).map(([,r])=>r)}[Symbol.iterator](){return this.items[Symbol.iterator]()}static fromBuffer(t){const r=rl.decode(t);if(!Array.isArray(r))throw new Error("Invalid payload format");const s=new Cr;for(let l=0;l<r.length;l+=2){const n=r[l],i=r[l+1];if(typeof n!="number"||typeof i!="string"&&typeof i!="number")throw new Error("Invalid payload entry at index "+l);s.addData(n,i)}return s}toBuffer(){const t=[];for(const[r,s]of this.items)t.push(r,s);return rl.encode(t)}}const Me=class Me{constructor(t,r,s,l,n,i,a,o,u,h,d=null){Ie(this,"header");Ie(this,"header2");Ie(this,"meshRouteNum");Ie(this,"pathLoss");Ie(this,"lastHopLoss");Ie(this,"routingID");Ie(this,"entropy");Ie(this,"timestamp");Ie(this,"authTag");Ie(this,"ciphertext");Ie(this,"plaintext");this.header=t,this.header2=r,this.meshRouteNum=s,this.pathLoss=l,this.lastHopLoss=n,this.routingID=i,this.entropy=a,this.timestamp=o,this.authTag=u,this.ciphertext=h,this.plaintext=d}static parse(t){const r=new DataView(t.buffer),s=t[Me.HEADER_OFFSET],l=t[Me.HEADER2_OFFSET],n=t[Me.MESH_ROUTE_NUM_OFFSET],i=t[Me.PATH_LOSS_OFFSET],a=i>>3,o=i&7,u=t.slice(Me.ROUTING_ID_OFFSET,Me.ROUTING_ID_OFFSET+Me.ROUTING_ID_LENGTH),h=t.slice(Me.ENTROPY_OFFSET,Me.ENTROPY_OFFSET+Me.ENTROPY_LENGTH),d=r.getUint32(Me.TIMESTAMP_OFFSET,!0),m=t.slice(-6,t.length),y=t.slice(Me.CIPHERTEXT_OFFSET,t.length-Me.AUTH_TAG_LENGTH);return new Me(s,l,n,a,o,u,h,d,m,y,null)}serialize(){if(!this.ciphertext||!this.authTag)throw new Error("Packet is not encrypted");const t=new Uint8Array(Me.CIPHERTEXT_OFFSET+this.ciphertext.length+Me.AUTH_TAG_LENGTH),r=new DataView(t.buffer);return t[Me.HEADER_OFFSET]=this.header,t[Me.HEADER2_OFFSET]=this.header2,t[Me.MESH_ROUTE_NUM_OFFSET]=this.meshRouteNum,t[Me.PATH_LOSS_OFFSET]=this.pathLoss<<3|this.lastHopLoss&7,t.set(this.routingID,Me.ROUTING_ID_OFFSET),t.set(this.entropy,Me.ENTROPY_OFFSET),r.setUint32(Me.TIMESTAMP_OFFSET,this.timestamp,!0),t.set(this.ciphertext,Me.CIPHERTEXT_OFFSET),t.set(this.authTag,t.length-Me.AUTH_TAG_LENGTH),t}async encrypt(t){if(!this.plaintext)throw new Error("No plaintext to encrypt");const r=new Uint8Array(12);crypto.getRandomValues(r),this.entropy=r.slice(0,Me.ENTROPY_LENGTH),new DataView(r.buffer).setUint32(8,this.timestamp,!0);const s=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:r,tagLength:96},s,this.plaintext),n=new Uint8Array(l);this.ciphertext=n.slice(0,-12),this.authTag=n.slice(-12,-6),this.plaintext=null}async decrypt(t){if(!this.ciphertext||!this.authTag)throw new Error("Missing ciphertext or authTag for decryption");const r=new Uint8Array(12);r.set(this.entropy,0),new DataView(r.buffer).setUint32(8,this.timestamp,!0);const s=new Uint8Array(this.ciphertext.length+4);s.set(this.ciphertext,0),s.set(this.authTag.slice(0,4),this.ciphertext.length);const l=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);try{const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:r,tagLength:32},l,s);this.plaintext=new Uint8Array(n)}catch(n){throw new Error("Decryption failed: "+(n instanceof Error?n.message:String(n)))}this.ciphertext=null,this.authTag=null}};Ie(Me,"HEADER_OFFSET",0),Ie(Me,"HEADER2_OFFSET",1),Ie(Me,"MESH_ROUTE_NUM_OFFSET",2),Ie(Me,"PATH_LOSS_OFFSET",3),Ie(Me,"ROUTING_ID_OFFSET",4),Ie(Me,"ROUTING_ID_LENGTH",16),Ie(Me,"ENTROPY_OFFSET",Me.ROUTING_ID_OFFSET+Me.ROUTING_ID_LENGTH),Ie(Me,"ENTROPY_LENGTH",8),Ie(Me,"TIMESTAMP_OFFSET",Me.ENTROPY_OFFSET+Me.ENTROPY_LENGTH),Ie(Me,"TIMESTAMP_LENGTH",4),Ie(Me,"AUTH_TAG_LENGTH",6),Ie(Me,"CIPHERTEXT_OFFSET",Me.TIMESTAMP_OFFSET+Me.TIMESTAMP_LENGTH),Ie(Me,"PACKET_TYPE_DATA",1),Ie(Me,"PACKET_TYPE_DATA_RELIABLE",2),Ie(Me,"PACKET_TYPE_BITMASK",3);let mt=Me;const _i=[{id:0,name:"Invalid",description:"Invalid and reserved",type:"invalid",special:!0},{id:1,name:"Data Request",description:"A request for data, list of Data IDs, or 0 to request all data",type:"array",special:!0},{id:2,name:"Unique ID",description:"An ID that is unique within the channel",type:"number",special:!1,writable:!0},{id:3,name:"Friendly Name",description:"An arbitrary non-unique name",type:"string",special:!1,writable:!0},{id:4,name:"Documentation URL",description:"A URL to HTML/PDF/Markdown Documentation",type:"string",special:!1,writable:!0},{id:5,name:"Destination Node",description:"Must be a node ID, If present, all other nodes ignore this packet",type:"number",special:!0,writable:!0},{id:6,name:"Write Command",description:"If the value is 1, all subsequent values are interpreted as commands to set the values",type:"number",special:!0,writable:!0},{id:32,name:"Simple Text Message",description:"A simple text message, can be prefixed by username: ",type:"string",special:!0},{id:33,name:"Battery Level",description:"0-255 internal battery level",type:"number",special:!1},{id:34,name:"Battery Voltage",description:"Battery Voltage",unit:"V",scale:.025,type:"number",special:!1},{id:35,name:"Input Voltage",description:"Input Voltage",unit:"V",scale:.025,type:"number",special:!1},{id:35,name:"Input Voltage",description:"Input Voltage",unit:"V",scale:.025,type:"number",special:!1},{id:35,name:"Input Current",description:"Input Current",unit:"A",scale:.01,type:"number",special:!1},{id:36,name:"Motion Event Count",description:"Motion Event Count",type:"number",special:!1}],il=new Map(_i.map(e=>[e.id,e])),Gd=new Map(_i.map(e=>[e.name,e.id]));function Xt(e){return Gd.get(e)||0}async function Gn(e,t){const r=Math.floor(t/3600),l=new TextEncoder().encode("r"),n=new Uint8Array(new Uint32Array([r]).buffer),i=new Uint8Array([...l,...n,...e]),a=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(a).slice(0,16);return new Uint8Array(o)}async function Yn(e,t){const r=Math.floor(t/3600),l=new TextEncoder().encode("c"),n=new Uint8Array(new Uint32Array([r]).buffer),i=new Uint8Array([...l,...n,...e]),a=await crypto.subtle.digest("SHA-256",i);return new Uint8Array(a).slice(0,16)}const sl=(e,t)=>e.length===t.length&&e.every((r,s)=>r===t[s]);class Yd{constructor(){Ie(this,"psk",null);Ie(this,"node",null);Ie(this,"maintainenceTimer",null);Ie(this,"tempKeys",null);Ie(this,"packetCallback",null);const t=this,r=async()=>{t.psk&&t.hourlyMaintenance()};this.maintainenceTimer=window.setInterval(r,24e4)}setPacketCallback(t){this.packetCallback=t}async getTempKeys(){if(!this.psk)throw new Error("No PSK set");const t={routingKey:new Uint8Array(16),cryptoKey:new Uint8Array(16),nextRoutingKey:new Uint8Array(16),nextCryptoKey:new Uint8Array(16)},r=Date.now()/1e3,s=Math.floor(r/3600),l=Math.floor((r+600)/3600),n=Math.floor((r-600)/3600);return t.routingKey=await Gn(this.psk,r),t.cryptoKey=await Yn(this.psk,r),s!=l?(t.nextRoutingKey=await Gn(this.psk,r+600),t.nextCryptoKey=await Yn(this.psk,r+600)):s!=n?(t.nextRoutingKey=await Gn(this.psk,r-600),t.nextCryptoKey=await Yn(this.psk,r-600)):(t.nextRoutingKey=t.routingKey,t.nextCryptoKey=t.cryptoKey),t}async handlePacket(t){if(this.tempKeys||(this.tempKeys=await this.getTempKeys()),(t[mt.HEADER_OFFSET]&mt.PACKET_TYPE_BITMASK)==0)return;const r=mt.parse(t);if(sl(r.routingID,this.tempKeys.routingKey)){if(await r.decrypt(this.tempKeys.cryptoKey),this.packetCallback){if(!r.plaintext)throw new Error("No plaintext");const s=Cr.fromBuffer(r.plaintext);s.unixTime=r.timestamp;const l=new nl;this.packetCallback(s,l)}}else if(sl(r.routingID,this.tempKeys.nextRoutingKey)&&(await r.decrypt(this.tempKeys.nextCryptoKey),this.packetCallback)){if(!r.plaintext)throw new Error("No plaintext");const s=Cr.fromBuffer(r.plaintext);s.unixTime=r.timestamp;const l=new nl;this.packetCallback(s,l)}}async sendPacket(t,r){var h;if(!this.psk)throw new Error("No psk set");if(!this.node)throw new Error("No node set");const s=t.toBuffer(),l=Date.now()/1e3,n=await Gn(this.psk,l),i=await Yn(this.psk,l),a=new Uint8Array(8);crypto.getRandomValues(a);let o=0;r?o=mt.PACKET_TYPE_DATA_RELIABLE:o=mt.PACKET_TYPE_DATA,o|=20;const u=new mt(o,0,0,0,0,n,a,l,null,null,s);await u.encrypt(i),await((h=this.node)==null?void 0:h.rawSend(u.serialize()))}async hourlyMaintenance(){this.psk&&(this.tempKeys=await this.getTempKeys());const t=new Cr;this.sendPacket(t,!1)}destructor(){this.maintainenceTimer&&clearInterval(this.maintainenceTimer)}async setPassword(t){const s=new TextEncoder().encode(t);this.psk=new Uint8Array(await crypto.subtle.digest("SHA-256",s)).slice(0,16),this.tempKeys=await this.getTempKeys()}}class Qd{constructor(){Ie(this,"transport",null);Ie(this,"generator",null);Ie(this,"channels",[]);Ie(this,"seenPackets",new Map)}addChannel(t){if(t.node)throw new Error("Channel already has node");this.channels.push(t),t.node=this}removeChannel(t){this.channels=this.channels.filter(r=>r!==t),t.node=null}async setTransport(t){this.transport=t,this.generator=t.listen()}hasSeenPacket(t){const r=t.slice(mt.ENTROPY_OFFSET,mt.ENTROPY_OFFSET+mt.ENTROPY_LENGTH).toString(),s=new DataView(t.buffer).getUint32(mt.TIMESTAMP_OFFSET,!0);if(s<Date.now()/1e3-180||this.seenPackets.has(r)&&(this.seenPackets.get(r)??0)+60>s)return!0;for(;this.seenPackets.size>1e6;){const l=this.seenPackets.entries().next().value;if(l&&l[1]+180<s)this.seenPackets.delete(l[0]);else break}return this.seenPackets.size>1e6?(console.warn("Too many seen packets"),!0):(this.seenPackets.set(r,s),!1)}async rawSend(t){if(!this.transport)throw new Error("No transport set");if(this.hasSeenPacket(t)){console.debug("Dropping duplicate outgoing packet");return}await this.transport.send(t)}async run(){var r;if(!this.transport)throw new Error("No transport set");const t=await((r=this.generator)==null?void 0:r.next());if(t&&(t.done&&(this.generator=this.transport.listen()),t.value)){if(this.hasSeenPacket(t.value)){console.debug("Dropping duplicate packet");return}for(const s of this.channels)await s.handlePacket(t.value)}}}const xr=Ht(""),nr=Ht([]),Jd=Du(()=>({username:xr.value,channels:nr.value})),Xd={class:"window flex-col w-36rem"},Zd=["id"],ep={class:"tool-bar"},tp=["popovertarget"],rp={key:0},np={class:"tool-bar"},ip=["onClick"],sp=["popovertarget","onClick"],op=["id"],ap={class:"tool-bar"},lp=["popovertarget"],up={class:"stacked-form"},cp={key:0,class:"warning"},hp={class:"tool-bar"},fp=["popovertarget"],dp={class:"card flex-row"},pp={class:"card flex-col w-18rem"},gp={class:"scroll h-12rem border"},mp={class:"card flex-col margin"},yp={class:"scroll max-h-12rem w-18rem"},bp={class:"text-left"},wp={class:"tool-bar"},vp=["onClick"],_p=["popovertarget","onClick"],Ep=aa({__name:"ChannelWindow",props:{password:{},name:{},node:{}},setup(e){const t=e,r=Ht([]);class s{constructor(E){Ie(this,"uid");Ie(this,"dataIds");this.uid=E,this.dataIds={},Xt("Unique ID"),this.dataIds[Xt("Unique ID")]=E,this.dataIds[Xt("Friendly Name")]="Unknown"}}const l=new Yd;t.node.addChannel(l),l.setPassword(t.password);const n=Ht({});l.setPacketCallback(T=>{var k;const E=T.getDataById(32);for(const N of E)r.value.push(N.toString()),r.value.length>50&&r.value.shift();let P=-1;T.getDataById(Xt("Unique ID"))&&(P=parseInt(T.getDataById(Xt("Unique ID")).toString())),n.value[P]||(n.value[P]=new s(P));const w=n.value[P];for(const N of T)(k=il.get(N[0]))!=null&&k.special||(w.dataIds[N[0]]=N[1])});const i=Ht(""),a=Ht(0),o=Ht(0),u=Ht(""),h=Ht(0),d=Ht(0);function m(T,E,P){const w=new Cr;E&&w.addData(Xt("Destination Node"),E),w.addData(Xt("Write Command"),1),w.addData(T,P),l.sendPacket(w,!0)}function y(T,E=0){const P=new Cr;E==-1&&(E=0),E&&P.addData(Xt("Destination Node"),E),P.addData(Xt("Data Request"),[T]),l.sendPacket(P,!0)}function b(T){r.value.push(xr.value+": "+T);const E=new Cr;E.addData(32,xr.value+": "+T),l.sendPacket(E,!0)}return la(()=>{console.log("Component destroyed")}),(T,E)=>{var P;return st(),dt("div",Xd,[Oe("div",{popover:"",id:"request-data-"+t.name,class:"window flex-col"},[Oe("div",ep,[E[11]||(E[11]=Oe("h2",null,"Request Data From Nodes",-1)),Oe("button",{type:"button",popoveraction:"close",popovertarget:"request-data-"+t.name}," Close ",8,tp)]),Oe("div",null,[E[12]||(E[12]=Oe("h2",null,"Request by data ID",-1)),Vr(Oe("input",{type:"number","onUpdate:modelValue":E[0]||(E[0]=w=>a.value=w)},null,512),[[Kr,a.value]]),Oe("button",{type:"button",class:"button",onClick:E[1]||(E[1]=w=>y(a.value))}," Request ")]),(st(!0),dt(gt,null,un(ur(_i),w=>(st(),dt(gt,null,[w.special?ja("",!0):(st(),dt("div",rp,[Oe("h3",null,Nt(w.name),1),Oe("p",null,Nt(w.description),1),Oe("div",np,[Oe("button",{type:"button",class:"button",onClick:k=>y(w.id)}," Request ",8,ip),Oe("button",{type:"button",popoveraction:"open",popovertarget:"set-data-"+t.name,onClick:k=>d.value=w.id}," Set ",8,sp)])]))],64))),256))],8,Zd),Oe("div",{popover:"",id:"set-data-"+t.name,class:"window flex-col"},[Oe("div",ap,[E[13]||(E[13]=Oe("h2",null,"Set Values on Node",-1)),Oe("button",{type:"button",popoveraction:"close",popovertarget:"request-data-"+t.name}," Close ",8,lp)]),Oe("div",up,[Oe("label",null,[E[14]||(E[14]=Tr(" Node ID(0 for all): ")),Vr(Oe("input",{type:"number","onUpdate:modelValue":E[2]||(E[2]=w=>o.value=w)},null,512),[[Kr,o.value]])]),o.value==0?(st(),dt("p",cp," This will set the value on all nodes in the channel ")):ja("",!0),Oe("label",null,[E[15]||(E[15]=Tr(" Data ID: ")),Vr(Oe("input",{type:"number","onUpdate:modelValue":E[3]||(E[3]=w=>d.value=w)},null,512),[[Kr,d.value]])]),Oe("p",null,Nt(((P=ur(_i).find(w=>w.id==d.value))==null?void 0:P.name)||"Unknown"),1),Oe("label",null,[E[16]||(E[16]=Tr(" String Value: ")),Vr(Oe("input",{type:"text","onUpdate:modelValue":E[4]||(E[4]=w=>u.value=w)},null,512),[[Kr,u.value]])]),Oe("button",{type:"button",onClick:E[5]||(E[5]=w=>m(d.value,o.value,u.value))},"Set String"),Oe("label",null,[E[17]||(E[17]=Tr(" Int Value: ")),Vr(Oe("input",{type:"number","onUpdate:modelValue":E[6]||(E[6]=w=>h.value=w)},null,512),[[Kr,h.value]])]),Oe("button",{type:"button",onClick:E[7]||(E[7]=w=>m(d.value,o.value,h.value))},"Set Int")])],8,op),Oe("h1",null,Nt(t.name),1),Oe("div",hp,[Oe("button",{type:"button",class:"button",popoveraction:"open",popovertarget:"request-data-"+t.name}," Request Data ",8,fp)]),Oe("div",dp,[Oe("div",pp,[E[18]||(E[18]=Oe("h3",null,"Chat",-1)),Oe("div",gp,[(st(!0),dt(gt,null,un(r.value,w=>(st(),dt("p",{class:Ci(["text-left",{"text-right highlight":w.startsWith(ur(xr))}])},[Oe("b",null,Nt(w.split(": ")[0])+":",1),Tr(" "+Nt(w.indexOf(": ")==-1?w:w.split(": ")[1]),1)],2))),256))]),Vr(Oe("input",{type:"text",class:"text-input w-full",placeholder:"Type your message here","onUpdate:modelValue":E[8]||(E[8]=w=>i.value=w),onKeyup:E[9]||(E[9]=Fd(w=>b(i.value),["enter"]))},null,544),[[Kr,i.value]]),Oe("button",{type:"button",class:"button w-full",onClick:E[10]||(E[10]=w=>b(i.value))}," Send ")]),(st(!0),dt(gt,null,un(n.value,w=>(st(),dt("div",mp,[Oe("div",yp,[(st(!0),dt(gt,null,un(w.dataIds,(k,N)=>{var F;return st(),dt("div",bp,[Oe("b",null,Nt((F=ur(il).get(parseInt(N.toString())))==null?void 0:F.name)+"("+Nt(N)+"):",1),Tr(" "+Nt(k)+" ",1),Oe("div",wp,[Oe("button",{type:"button",onClick:M=>y(parseInt(N.toString()),w.uid)},"Request",8,vp),Oe("button",{type:"button",popoveraction:"open",popovertarget:"set-data-"+t.name,onClick:M=>{d.value=parseInt(N.toString()),o.value=w.uid==-1?0:w.uid||0}},"Set",8,_p)])])}),256))])]))),256))])])}}}),Wu=(e,t)=>{const r=e.__vccOpts||e;for(const[s,l]of t)r[s]=l;return r},Sp=Wu(Ep,[["__scopeId","data-v-fe73a4bf"]]);class ol{constructor(t){Ie(this,"promises",Array());Ie(this,"permits",0);this.permits=t}signal(){if(this.permits+=1,this.promises.length>0){const t=this.promises.pop();t&&t(0)}}async wait(){(this.permits==0||this.promises.length>0)&&await new Promise(t=>this.promises.unshift(t)),this.permits-=1}}class Ap{constructor(t){Ie(this,"queue",Array());Ie(this,"waitingEnqueue");Ie(this,"waitingDequeue");this.waitingEnqueue=new ol(0),this.waitingDequeue=new ol(t)}async enqueue(t){await this.waitingDequeue.wait(),this.queue.unshift(t),this.waitingEnqueue.signal()}async dequeue(){return await this.waitingEnqueue.wait(),this.waitingDequeue.signal(),this.queue.pop()}}var fa=Object.defineProperty,Tp=Object.getOwnPropertyDescriptor,Ip=Object.getOwnPropertyNames,xp=Object.prototype.hasOwnProperty,Et=(e,t)=>()=>(e&&(t=e(e=0)),t),_e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mn=(e,t)=>{for(var r in t)fa(e,r,{get:t[r],enumerable:!0})},kp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Ip(t))!xp.call(e,l)&&l!==r&&fa(e,l,{get:()=>t[l],enumerable:!(s=Tp(t,l))||s.enumerable});return e},qe=e=>kp(fa({},"__esModule",{value:!0}),e),ge=Et(()=>{}),De={};mn(De,{_debugEnd:()=>no,_debugProcess:()=>ro,_events:()=>wo,_eventsCount:()=>vo,_exiting:()=>Hs,_fatalExceptions:()=>Zs,_getActiveHandles:()=>Gu,_getActiveRequests:()=>zu,_kill:()=>Vs,_linkedBinding:()=>Vu,_maxListeners:()=>bo,_preload_modules:()=>mo,_rawDebug:()=>Ds,_startProfilerIdleNotifier:()=>io,_stopProfilerIdleNotifier:()=>so,_tickCallback:()=>to,abort:()=>uo,addListener:()=>_o,allowedNodeEnvironmentFlags:()=>Js,arch:()=>Is,argv:()=>Cs,argv0:()=>go,assert:()=>Yu,binding:()=>Ms,chdir:()=>Ns,config:()=>$s,cpuUsage:()=>An,cwd:()=>Ls,debugPort:()=>po,default:()=>pa,dlopen:()=>Ku,domain:()=>Ws,emit:()=>Io,emitWarning:()=>Us,env:()=>ks,execArgv:()=>Os,execPath:()=>fo,exit:()=>Ys,features:()=>Xs,hasUncaughtExceptionCaptureCallback:()=>Qu,hrtime:()=>oi,kill:()=>Gs,listeners:()=>Xu,memoryUsage:()=>zs,moduleLoadList:()=>Fs,nextTick:()=>$u,off:()=>So,on:()=>er,once:()=>Eo,openStdin:()=>Qs,pid:()=>co,platform:()=>xs,ppid:()=>ho,prependListener:()=>xo,prependOnceListener:()=>ko,reallyExit:()=>qs,release:()=>js,removeAllListeners:()=>To,removeListener:()=>Ao,resourceUsage:()=>Ks,setSourceMapsEnabled:()=>yo,setUncaughtExceptionCaptureCallback:()=>eo,stderr:()=>ao,stdin:()=>lo,stdout:()=>oo,title:()=>Ts,umask:()=>Bs,uptime:()=>Ju,version:()=>Ps,versions:()=>Rs});function da(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Cp(){!Jr||!Gr||(Jr=!1,Gr.length?Vt=Gr.concat(Vt):Un=-1,Vt.length&&Hu())}function Hu(){if(!Jr){var e=setTimeout(Cp,0);Jr=!0;for(var t=Vt.length;t;){for(Gr=Vt,Vt=[];++Un<t;)Gr&&Gr[Un].run();Un=-1,t=Vt.length}Gr=null,Jr=!1,clearTimeout(e)}}function $u(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Vt.push(new qu(e,t)),Vt.length===1&&!Jr&&setTimeout(Hu,0)}function qu(e,t){this.fun=e,this.array=t}function ft(){}function Vu(e){da("_linkedBinding")}function Ku(e){da("dlopen")}function zu(){return[]}function Gu(){return[]}function Yu(e,t){if(!e)throw new Error(t||"assertion error")}function Qu(){return!1}function Ju(){return or.now()/1e3}function oi(e){var t=Math.floor((Date.now()-or.now())*.001),r=or.now()*.001,s=Math.floor(r)+t,l=Math.floor(r%1*1e9);return e&&(s=s-e[0],l=l-e[1],l<0&&(s--,l+=ai)),[s,l]}function er(){return pa}function Xu(e){return[]}var Vt,Jr,Gr,Un,Ts,Is,xs,ks,Cs,Os,Ps,Rs,Us,Ms,Bs,Ls,Ns,js,Ds,Fs,Ws,Hs,$s,qs,Vs,An,Ks,zs,Gs,Ys,Qs,Js,Xs,Zs,eo,to,ro,no,io,so,oo,ao,lo,uo,co,ho,fo,po,go,mo,yo,or,ns,ai,bo,wo,vo,_o,Eo,So,Ao,To,Io,xo,ko,pa,Op=Et(()=>{ge(),ye(),me(),Vt=[],Jr=!1,Un=-1,qu.prototype.run=function(){this.fun.apply(null,this.array)},Ts="browser",Is="x64",xs="browser",ks={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Cs=["/usr/bin/node"],Os=[],Ps="v16.8.0",Rs={},Us=function(e,t){console.warn((t?t+": ":"")+e)},Ms=function(e){da("binding")},Bs=function(e){return 0},Ls=function(){return"/"},Ns=function(e){},js={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ds=ft,Fs=[],Ws={},Hs=!1,$s={},qs=ft,Vs=ft,An=function(){return{}},Ks=An,zs=An,Gs=ft,Ys=ft,Qs=ft,Js={},Xs={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Zs=ft,eo=ft,to=ft,ro=ft,no=ft,io=ft,so=ft,oo=void 0,ao=void 0,lo=void 0,uo=ft,co=2,ho=1,fo="/bin/usr/node",po=9229,go="node",mo=[],yo=ft,or={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},or.now===void 0&&(ns=Date.now(),or.timing&&or.timing.navigationStart&&(ns=or.timing.navigationStart),or.now=()=>Date.now()-ns),ai=1e9,oi.bigint=function(e){var t=oi(e);return typeof BigInt>"u"?t[0]*ai+t[1]:BigInt(t[0]*ai)+BigInt(t[1])},bo=10,wo={},vo=0,_o=er,Eo=er,So=er,Ao=er,To=er,Io=ft,xo=er,ko=er,pa={version:Ps,versions:Rs,arch:Is,platform:xs,release:js,_rawDebug:Ds,moduleLoadList:Fs,binding:Ms,_linkedBinding:Vu,_events:wo,_eventsCount:vo,_maxListeners:bo,on:er,addListener:_o,once:Eo,off:So,removeListener:Ao,removeAllListeners:To,emit:Io,prependListener:xo,prependOnceListener:ko,listeners:Xu,domain:Ws,_exiting:Hs,config:$s,dlopen:Ku,uptime:Ju,_getActiveRequests:zu,_getActiveHandles:Gu,reallyExit:qs,_kill:Vs,cpuUsage:An,resourceUsage:Ks,memoryUsage:zs,kill:Gs,exit:Ys,openStdin:Qs,allowedNodeEnvironmentFlags:Js,assert:Yu,features:Xs,_fatalExceptions:Zs,setUncaughtExceptionCaptureCallback:eo,hasUncaughtExceptionCaptureCallback:Qu,emitWarning:Us,nextTick:$u,_tickCallback:to,_debugProcess:ro,_debugEnd:no,_startProfilerIdleNotifier:io,_stopProfilerIdleNotifier:so,stdout:oo,stdin:lo,stderr:ao,abort:uo,umask:Bs,chdir:Ns,cwd:Ls,env:ks,title:Ts,argv:Cs,execArgv:Os,pid:co,ppid:ho,execPath:fo,debugPort:po,hrtime:oi,argv0:go,_preload_modules:mo,setSourceMapsEnabled:yo}}),me=Et(()=>{Op()}),ot={};mn(ot,{Buffer:()=>Ei,INSPECT_MAX_BYTES:()=>Zu,default:()=>tr,kMaxLength:()=>ec});function Pp(){if(Co)return ln;Co=!0,ln.byteLength=a,ln.toByteArray=u,ln.fromByteArray=m;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,n=s.length;l<n;++l)e[l]=s[l],t[s.charCodeAt(l)]=l;t[45]=62,t[95]=63;function i(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=y.indexOf("=");T===-1&&(T=b);var E=T===b?0:4-T%4;return[T,E]}function a(y){var b=i(y),T=b[0],E=b[1];return(T+E)*3/4-E}function o(y,b,T){return(b+T)*3/4-T}function u(y){var b,T=i(y),E=T[0],P=T[1],w=new r(o(y,E,P)),k=0,N=P>0?E-4:E,F;for(F=0;F<N;F+=4)b=t[y.charCodeAt(F)]<<18|t[y.charCodeAt(F+1)]<<12|t[y.charCodeAt(F+2)]<<6|t[y.charCodeAt(F+3)],w[k++]=b>>16&255,w[k++]=b>>8&255,w[k++]=b&255;return P===2&&(b=t[y.charCodeAt(F)]<<2|t[y.charCodeAt(F+1)]>>4,w[k++]=b&255),P===1&&(b=t[y.charCodeAt(F)]<<10|t[y.charCodeAt(F+1)]<<4|t[y.charCodeAt(F+2)]>>2,w[k++]=b>>8&255,w[k++]=b&255),w}function h(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function d(y,b,T){for(var E,P=[],w=b;w<T;w+=3)E=(y[w]<<16&16711680)+(y[w+1]<<8&65280)+(y[w+2]&255),P.push(h(E));return P.join("")}function m(y){for(var b,T=y.length,E=T%3,P=[],w=16383,k=0,N=T-E;k<N;k+=w)P.push(d(y,k,k+w>N?N:k+w));return E===1?(b=y[T-1],P.push(e[b>>2]+e[b<<4&63]+"==")):E===2&&(b=(y[T-2]<<8)+y[T-1],P.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),P.join("")}return ln}function Rp(){return Oo?Tn:(Oo=!0,Tn.read=function(e,t,r,s,l){var n,i,a=l*8-s-1,o=(1<<a)-1,u=o>>1,h=-7,d=r?l-1:0,m=r?-1:1,y=e[t+d];for(d+=m,n=y&(1<<-h)-1,y>>=-h,h+=a;h>0;n=n*256+e[t+d],d+=m,h-=8);for(i=n&(1<<-h)-1,n>>=-h,h+=s;h>0;i=i*256+e[t+d],d+=m,h-=8);if(n===0)n=1-u;else{if(n===o)return i?NaN:(y?-1:1)*(1/0);i=i+Math.pow(2,s),n=n-u}return(y?-1:1)*i*Math.pow(2,n-s)},Tn.write=function(e,t,r,s,l,n){var i,a,o,u=n*8-l-1,h=(1<<u)-1,d=h>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=s?0:n-1,b=s?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-i))<1&&(i--,o*=2),i+d>=1?t+=m/o:t+=m*Math.pow(2,1-d),t*o>=2&&(i++,o/=2),i+d>=h?(a=0,i=h):i+d>=1?(a=(t*o-1)*Math.pow(2,l),i=i+d):(a=t*Math.pow(2,d-1)*Math.pow(2,l),i=0));l>=8;e[r+y]=a&255,y+=b,a/=256,l-=8);for(i=i<<l|a,u+=l;u>0;e[r+y]=i&255,y+=b,i/=256,u-=8);e[r+y-b]|=T*128},Tn)}function Up(){if(Po)return wr;Po=!0;let e=Pp(),t=Rp(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;wr.Buffer=i,wr.SlowBuffer=P,wr.INSPECT_MAX_BYTES=50;let s=2147483647;wr.kMaxLength=s,i.TYPED_ARRAY_SUPPORT=l(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{let c=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(c,f),c.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function n(c){if(c>s)throw new RangeError('The value "'+c+'" is invalid for option "size"');let f=new Uint8Array(c);return Object.setPrototypeOf(f,i.prototype),f}function i(c,f,g){if(typeof c=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(c)}return a(c,f,g)}i.poolSize=8192;function a(c,f,g){if(typeof c=="string")return d(c,f);if(ArrayBuffer.isView(c))return y(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(p(c,ArrayBuffer)||c&&p(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(p(c,SharedArrayBuffer)||c&&p(c.buffer,SharedArrayBuffer)))return b(c,f,g);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let v=c.valueOf&&c.valueOf();if(v!=null&&v!==c)return i.from(v,f,g);let _=T(c);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return i.from(c[Symbol.toPrimitive]("string"),f,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}i.from=function(c,f,g){return a(c,f,g)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function o(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function u(c,f,g){return o(c),c<=0?n(c):f!==void 0?typeof g=="string"?n(c).fill(f,g):n(c).fill(f):n(c)}i.alloc=function(c,f,g){return u(c,f,g)};function h(c){return o(c),n(c<0?0:E(c)|0)}i.allocUnsafe=function(c){return h(c)},i.allocUnsafeSlow=function(c){return h(c)};function d(c,f){if((typeof f!="string"||f==="")&&(f="utf8"),!i.isEncoding(f))throw new TypeError("Unknown encoding: "+f);let g=w(c,f)|0,v=n(g),_=v.write(c,f);return _!==g&&(v=v.slice(0,_)),v}function m(c){let f=c.length<0?0:E(c.length)|0,g=n(f);for(let v=0;v<f;v+=1)g[v]=c[v]&255;return g}function y(c){if(p(c,Uint8Array)){let f=new Uint8Array(c);return b(f.buffer,f.byteOffset,f.byteLength)}return m(c)}function b(c,f,g){if(f<0||c.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<f+(g||0))throw new RangeError('"length" is outside of buffer bounds');let v;return f===void 0&&g===void 0?v=new Uint8Array(c):g===void 0?v=new Uint8Array(c,f):v=new Uint8Array(c,f,g),Object.setPrototypeOf(v,i.prototype),v}function T(c){if(i.isBuffer(c)){let f=E(c.length)|0,g=n(f);return g.length===0||c.copy(g,0,0,f),g}if(c.length!==void 0)return typeof c.length!="number"||S(c.length)?n(0):m(c);if(c.type==="Buffer"&&Array.isArray(c.data))return m(c.data)}function E(c){if(c>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return c|0}function P(c){return+c!=c&&(c=0),i.alloc(+c)}i.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==i.prototype},i.compare=function(c,f){if(p(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),p(f,Uint8Array)&&(f=i.from(f,f.offset,f.byteLength)),!i.isBuffer(c)||!i.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===f)return 0;let g=c.length,v=f.length;for(let _=0,L=Math.min(g,v);_<L;++_)if(c[_]!==f[_]){g=c[_],v=f[_];break}return g<v?-1:v<g?1:0},i.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(c,f){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return i.alloc(0);let g;if(f===void 0)for(f=0,g=0;g<c.length;++g)f+=c[g].length;let v=i.allocUnsafe(f),_=0;for(g=0;g<c.length;++g){let L=c[g];if(p(L,Uint8Array))_+L.length>v.length?(i.isBuffer(L)||(L=i.from(L)),L.copy(v,_)):Uint8Array.prototype.set.call(v,L,_);else if(i.isBuffer(L))L.copy(v,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=L.length}return v};function w(c,f){if(i.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||p(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let g=c.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&g===0)return 0;let _=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return U(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return J(c).length;default:if(_)return v?-1:U(c).length;f=(""+f).toLowerCase(),_=!0}}i.byteLength=w;function k(c,f,g){let v=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,f>>>=0,g<=f))return"";for(c||(c="utf8");;)switch(c){case"hex":return ue(this,f,g);case"utf8":case"utf-8":return ie(this,f,g);case"ascii":return pe(this,f,g);case"latin1":case"binary":return ce(this,f,g);case"base64":return $(this,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,f,g);default:if(v)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),v=!0}}i.prototype._isBuffer=!0;function N(c,f,g){let v=c[f];c[f]=c[g],c[g]=v}i.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<c;f+=2)N(this,f,f+1);return this},i.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<c;f+=4)N(this,f,f+3),N(this,f+1,f+2);return this},i.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<c;f+=8)N(this,f,f+7),N(this,f+1,f+6),N(this,f+2,f+5),N(this,f+3,f+4);return this},i.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?ie(this,0,c):k.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(c){if(!i.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:i.compare(this,c)===0},i.prototype.inspect=function(){let c="",f=wr.INSPECT_MAX_BYTES;return c=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(c+=" ... "),"<Buffer "+c+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(c,f,g,v,_){if(p(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),!i.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(f===void 0&&(f=0),g===void 0&&(g=c?c.length:0),v===void 0&&(v=0),_===void 0&&(_=this.length),f<0||g>c.length||v<0||_>this.length)throw new RangeError("out of range index");if(v>=_&&f>=g)return 0;if(v>=_)return-1;if(f>=g)return 1;if(f>>>=0,g>>>=0,v>>>=0,_>>>=0,this===c)return 0;let L=_-v,Y=g-f,we=Math.min(L,Y),ve=this.slice(v,_),xe=c.slice(f,g);for(let Pe=0;Pe<we;++Pe)if(ve[Pe]!==xe[Pe]){L=ve[Pe],Y=xe[Pe];break}return L<Y?-1:Y<L?1:0};function F(c,f,g,v,_){if(c.length===0)return-1;if(typeof g=="string"?(v=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,S(g)&&(g=_?0:c.length-1),g<0&&(g=c.length+g),g>=c.length){if(_)return-1;g=c.length-1}else if(g<0)if(_)g=0;else return-1;if(typeof f=="string"&&(f=i.from(f,v)),i.isBuffer(f))return f.length===0?-1:M(c,f,g,v,_);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(c,f,g):Uint8Array.prototype.lastIndexOf.call(c,f,g):M(c,[f],g,v,_);throw new TypeError("val must be string, number or Buffer")}function M(c,f,g,v,_){let L=1,Y=c.length,we=f.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(c.length<2||f.length<2)return-1;L=2,Y/=2,we/=2,g/=2}function ve(Pe,Re){return L===1?Pe[Re]:Pe.readUInt16BE(Re*L)}let xe;if(_){let Pe=-1;for(xe=g;xe<Y;xe++)if(ve(c,xe)===ve(f,Pe===-1?0:xe-Pe)){if(Pe===-1&&(Pe=xe),xe-Pe+1===we)return Pe*L}else Pe!==-1&&(xe-=xe-Pe),Pe=-1}else for(g+we>Y&&(g=Y-we),xe=g;xe>=0;xe--){let Pe=!0;for(let Re=0;Re<we;Re++)if(ve(c,xe+Re)!==ve(f,Re)){Pe=!1;break}if(Pe)return xe}return-1}i.prototype.includes=function(c,f,g){return this.indexOf(c,f,g)!==-1},i.prototype.indexOf=function(c,f,g){return F(this,c,f,g,!0)},i.prototype.lastIndexOf=function(c,f,g){return F(this,c,f,g,!1)};function j(c,f,g,v){g=Number(g)||0;let _=c.length-g;v?(v=Number(v),v>_&&(v=_)):v=_;let L=f.length;v>L/2&&(v=L/2);let Y;for(Y=0;Y<v;++Y){let we=parseInt(f.substr(Y*2,2),16);if(S(we))return Y;c[g+Y]=we}return Y}function K(c,f,g,v){return x(U(f,c.length-g),c,g,v)}function se(c,f,g,v){return x(H(f),c,g,v)}function oe(c,f,g,v){return x(J(f),c,g,v)}function fe(c,f,g,v){return x(X(f,c.length-g),c,g,v)}i.prototype.write=function(c,f,g,v){if(f===void 0)v="utf8",g=this.length,f=0;else if(g===void 0&&typeof f=="string")v=f,g=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(g)?(g=g>>>0,v===void 0&&(v="utf8")):(v=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let _=this.length-f;if((g===void 0||g>_)&&(g=_),c.length>0&&(g<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let L=!1;for(;;)switch(v){case"hex":return j(this,c,f,g);case"utf8":case"utf-8":return K(this,c,f,g);case"ascii":case"latin1":case"binary":return se(this,c,f,g);case"base64":return oe(this,c,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,c,f,g);default:if(L)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),L=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(c,f,g){return f===0&&g===c.length?e.fromByteArray(c):e.fromByteArray(c.slice(f,g))}function ie(c,f,g){g=Math.min(c.length,g);let v=[],_=f;for(;_<g;){let L=c[_],Y=null,we=L>239?4:L>223?3:L>191?2:1;if(_+we<=g){let ve,xe,Pe,Re;switch(we){case 1:L<128&&(Y=L);break;case 2:ve=c[_+1],(ve&192)===128&&(Re=(L&31)<<6|ve&63,Re>127&&(Y=Re));break;case 3:ve=c[_+1],xe=c[_+2],(ve&192)===128&&(xe&192)===128&&(Re=(L&15)<<12|(ve&63)<<6|xe&63,Re>2047&&(Re<55296||Re>57343)&&(Y=Re));break;case 4:ve=c[_+1],xe=c[_+2],Pe=c[_+3],(ve&192)===128&&(xe&192)===128&&(Pe&192)===128&&(Re=(L&15)<<18|(ve&63)<<12|(xe&63)<<6|Pe&63,Re>65535&&Re<1114112&&(Y=Re))}}Y===null?(Y=65533,we=1):Y>65535&&(Y-=65536,v.push(Y>>>10&1023|55296),Y=56320|Y&1023),v.push(Y),_+=we}return Z(v)}let ae=4096;function Z(c){let f=c.length;if(f<=ae)return String.fromCharCode.apply(String,c);let g="",v=0;for(;v<f;)g+=String.fromCharCode.apply(String,c.slice(v,v+=ae));return g}function pe(c,f,g){let v="";g=Math.min(c.length,g);for(let _=f;_<g;++_)v+=String.fromCharCode(c[_]&127);return v}function ce(c,f,g){let v="";g=Math.min(c.length,g);for(let _=f;_<g;++_)v+=String.fromCharCode(c[_]);return v}function ue(c,f,g){let v=c.length;(!f||f<0)&&(f=0),(!g||g<0||g>v)&&(g=v);let _="";for(let L=f;L<g;++L)_+=C[c[L]];return _}function Ee(c,f,g){let v=c.slice(f,g),_="";for(let L=0;L<v.length-1;L+=2)_+=String.fromCharCode(v[L]+v[L+1]*256);return _}i.prototype.slice=function(c,f){let g=this.length;c=~~c,f=f===void 0?g:~~f,c<0?(c+=g,c<0&&(c=0)):c>g&&(c=g),f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),f<c&&(f=c);let v=this.subarray(c,f);return Object.setPrototypeOf(v,i.prototype),v};function ne(c,f,g){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+f>g)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c],_=1,L=0;for(;++L<f&&(_*=256);)v+=this[c+L]*_;return v},i.prototype.readUintBE=i.prototype.readUIntBE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c+--f],_=1;for(;f>0&&(_*=256);)v+=this[c+--f]*_;return v},i.prototype.readUint8=i.prototype.readUInt8=function(c,f){return c=c>>>0,f||ne(c,1,this.length),this[c]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(c,f){return c=c>>>0,f||ne(c,2,this.length),this[c]|this[c+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(c,f){return c=c>>>0,f||ne(c,2,this.length),this[c]<<8|this[c+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},i.prototype.readBigUInt64LE=A(function(c){c=c>>>0,I(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&R(c,this.length-8);let v=f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,_=this[++c]+this[++c]*2**8+this[++c]*2**16+g*2**24;return BigInt(v)+(BigInt(_)<<BigInt(32))}),i.prototype.readBigUInt64BE=A(function(c){c=c>>>0,I(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&R(c,this.length-8);let v=f*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],_=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+g;return(BigInt(v)<<BigInt(32))+BigInt(_)}),i.prototype.readIntLE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c],_=1,L=0;for(;++L<f&&(_*=256);)v+=this[c+L]*_;return _*=128,v>=_&&(v-=Math.pow(2,8*f)),v},i.prototype.readIntBE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=f,_=1,L=this[c+--v];for(;v>0&&(_*=256);)L+=this[c+--v]*_;return _*=128,L>=_&&(L-=Math.pow(2,8*f)),L},i.prototype.readInt8=function(c,f){return c=c>>>0,f||ne(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},i.prototype.readInt16LE=function(c,f){c=c>>>0,f||ne(c,2,this.length);let g=this[c]|this[c+1]<<8;return g&32768?g|4294901760:g},i.prototype.readInt16BE=function(c,f){c=c>>>0,f||ne(c,2,this.length);let g=this[c+1]|this[c]<<8;return g&32768?g|4294901760:g},i.prototype.readInt32LE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},i.prototype.readInt32BE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},i.prototype.readBigInt64LE=A(function(c){c=c>>>0,I(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&R(c,this.length-8);let v=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(g<<24);return(BigInt(v)<<BigInt(32))+BigInt(f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),i.prototype.readBigInt64BE=A(function(c){c=c>>>0,I(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&R(c,this.length-8);let v=(f<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(v)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+g)}),i.prototype.readFloatLE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),t.read(this,c,!0,23,4)},i.prototype.readFloatBE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),t.read(this,c,!1,23,4)},i.prototype.readDoubleLE=function(c,f){return c=c>>>0,f||ne(c,8,this.length),t.read(this,c,!0,52,8)},i.prototype.readDoubleBE=function(c,f){return c=c>>>0,f||ne(c,8,this.length),t.read(this,c,!1,52,8)};function de(c,f,g,v,_,L){if(!i.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>_||f<L)throw new RangeError('"value" argument is out of bounds');if(g+v>c.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(c,f,g,v){if(c=+c,f=f>>>0,g=g>>>0,!v){let Y=Math.pow(2,8*g)-1;de(this,c,f,g,Y,0)}let _=1,L=0;for(this[f]=c&255;++L<g&&(_*=256);)this[f+L]=c/_&255;return f+g},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(c,f,g,v){if(c=+c,f=f>>>0,g=g>>>0,!v){let Y=Math.pow(2,8*g)-1;de(this,c,f,g,Y,0)}let _=g-1,L=1;for(this[f+_]=c&255;--_>=0&&(L*=256);)this[f+_]=c/L&255;return f+g},i.prototype.writeUint8=i.prototype.writeUInt8=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,1,255,0),this[f]=c&255,f+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,65535,0),this[f]=c&255,this[f+1]=c>>>8,f+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,65535,0),this[f]=c>>>8,this[f+1]=c&255,f+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,4294967295,0),this[f+3]=c>>>24,this[f+2]=c>>>16,this[f+1]=c>>>8,this[f]=c&255,f+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,4294967295,0),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4};function D(c,f,g,v,_){te(f,v,_,c,g,7);let L=Number(f&BigInt(4294967295));c[g++]=L,L=L>>8,c[g++]=L,L=L>>8,c[g++]=L,L=L>>8,c[g++]=L;let Y=Number(f>>BigInt(32)&BigInt(4294967295));return c[g++]=Y,Y=Y>>8,c[g++]=Y,Y=Y>>8,c[g++]=Y,Y=Y>>8,c[g++]=Y,g}function he(c,f,g,v,_){te(f,v,_,c,g,7);let L=Number(f&BigInt(4294967295));c[g+7]=L,L=L>>8,c[g+6]=L,L=L>>8,c[g+5]=L,L=L>>8,c[g+4]=L;let Y=Number(f>>BigInt(32)&BigInt(4294967295));return c[g+3]=Y,Y=Y>>8,c[g+2]=Y,Y=Y>>8,c[g+1]=Y,Y=Y>>8,c[g]=Y,g+8}i.prototype.writeBigUInt64LE=A(function(c,f=0){return D(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=A(function(c,f=0){return he(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(c,f,g,v){if(c=+c,f=f>>>0,!v){let we=Math.pow(2,8*g-1);de(this,c,f,g,we-1,-we)}let _=0,L=1,Y=0;for(this[f]=c&255;++_<g&&(L*=256);)c<0&&Y===0&&this[f+_-1]!==0&&(Y=1),this[f+_]=(c/L>>0)-Y&255;return f+g},i.prototype.writeIntBE=function(c,f,g,v){if(c=+c,f=f>>>0,!v){let we=Math.pow(2,8*g-1);de(this,c,f,g,we-1,-we)}let _=g-1,L=1,Y=0;for(this[f+_]=c&255;--_>=0&&(L*=256);)c<0&&Y===0&&this[f+_+1]!==0&&(Y=1),this[f+_]=(c/L>>0)-Y&255;return f+g},i.prototype.writeInt8=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,1,127,-128),c<0&&(c=255+c+1),this[f]=c&255,f+1},i.prototype.writeInt16LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,32767,-32768),this[f]=c&255,this[f+1]=c>>>8,f+2},i.prototype.writeInt16BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,32767,-32768),this[f]=c>>>8,this[f+1]=c&255,f+2},i.prototype.writeInt32LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,2147483647,-2147483648),this[f]=c&255,this[f+1]=c>>>8,this[f+2]=c>>>16,this[f+3]=c>>>24,f+4},i.prototype.writeInt32BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4},i.prototype.writeBigInt64LE=A(function(c,f=0){return D(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=A(function(c,f=0){return he(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(c,f,g,v,_,L){if(g+v>c.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Q(c,f,g,v,_){return f=+f,g=g>>>0,_||be(c,f,g,4),t.write(c,f,g,v,23,4),g+4}i.prototype.writeFloatLE=function(c,f,g){return Q(this,c,f,!0,g)},i.prototype.writeFloatBE=function(c,f,g){return Q(this,c,f,!1,g)};function Ae(c,f,g,v,_){return f=+f,g=g>>>0,_||be(c,f,g,8),t.write(c,f,g,v,52,8),g+8}i.prototype.writeDoubleLE=function(c,f,g){return Ae(this,c,f,!0,g)},i.prototype.writeDoubleBE=function(c,f,g){return Ae(this,c,f,!1,g)},i.prototype.copy=function(c,f,g,v){if(!i.isBuffer(c))throw new TypeError("argument should be a Buffer");if(g||(g=0),!v&&v!==0&&(v=this.length),f>=c.length&&(f=c.length),f||(f=0),v>0&&v<g&&(v=g),v===g||c.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),c.length-f<v-g&&(v=c.length-f+g);let _=v-g;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,g,v):Uint8Array.prototype.set.call(c,this.subarray(g,v),f),_},i.prototype.fill=function(c,f,g,v){if(typeof c=="string"){if(typeof f=="string"?(v=f,f=0,g=this.length):typeof g=="string"&&(v=g,g=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!i.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(c.length===1){let L=c.charCodeAt(0);(v==="utf8"&&L<128||v==="latin1")&&(c=L)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(f<0||this.length<f||this.length<g)throw new RangeError("Out of range index");if(g<=f)return this;f=f>>>0,g=g===void 0?this.length:g>>>0,c||(c=0);let _;if(typeof c=="number")for(_=f;_<g;++_)this[_]=c;else{let L=i.isBuffer(c)?c:i.from(c,v),Y=L.length;if(Y===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(_=0;_<g-f;++_)this[_+f]=L[_%Y]}return this};let re={};function z(c,f,g){re[c]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(c,f){return`The "${c}" argument must be of type number. Received type ${typeof f}`},TypeError),z("ERR_OUT_OF_RANGE",function(c,f,g){let v=`The value of "${c}" is out of range.`,_=g;return Number.isInteger(g)&&Math.abs(g)>2**32?_=le(String(g)):typeof g=="bigint"&&(_=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(_=le(_)),_+="n"),v+=` It must be ${f}. Received ${_}`,v},RangeError);function le(c){let f="",g=c.length,v=c[0]==="-"?1:0;for(;g>=v+4;g-=3)f=`_${c.slice(g-3,g)}${f}`;return`${c.slice(0,g)}${f}`}function ee(c,f,g){I(f,"offset"),(c[f]===void 0||c[f+g]===void 0)&&R(f,c.length-(g+1))}function te(c,f,g,v,_,L){if(c>g||c<f){let Y=typeof f=="bigint"?"n":"",we;throw f===0||f===BigInt(0)?we=`>= 0${Y} and < 2${Y} ** ${(L+1)*8}${Y}`:we=`>= -(2${Y} ** ${(L+1)*8-1}${Y}) and < 2 ** ${(L+1)*8-1}${Y}`,new re.ERR_OUT_OF_RANGE("value",we,c)}ee(v,_,L)}function I(c,f){if(typeof c!="number")throw new re.ERR_INVALID_ARG_TYPE(f,"number",c)}function R(c,f,g){throw Math.floor(c)!==c?(I(c,g),new re.ERR_OUT_OF_RANGE("offset","an integer",c)):f<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,c)}let W=/[^+/0-9A-Za-z-_]/g;function O(c){if(c=c.split("=")[0],c=c.trim().replace(W,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function U(c,f){f=f||1/0;let g,v=c.length,_=null,L=[];for(let Y=0;Y<v;++Y){if(g=c.charCodeAt(Y),g>55295&&g<57344){if(!_){if(g>56319){(f-=3)>-1&&L.push(239,191,189);continue}else if(Y+1===v){(f-=3)>-1&&L.push(239,191,189);continue}_=g;continue}if(g<56320){(f-=3)>-1&&L.push(239,191,189),_=g;continue}g=(_-55296<<10|g-56320)+65536}else _&&(f-=3)>-1&&L.push(239,191,189);if(_=null,g<128){if((f-=1)<0)break;L.push(g)}else if(g<2048){if((f-=2)<0)break;L.push(g>>6|192,g&63|128)}else if(g<65536){if((f-=3)<0)break;L.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((f-=4)<0)break;L.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return L}function H(c){let f=[];for(let g=0;g<c.length;++g)f.push(c.charCodeAt(g)&255);return f}function X(c,f){let g,v,_,L=[];for(let Y=0;Y<c.length&&!((f-=2)<0);++Y)g=c.charCodeAt(Y),v=g>>8,_=g%256,L.push(_),L.push(v);return L}function J(c){return e.toByteArray(O(c))}function x(c,f,g,v){let _;for(_=0;_<v&&!(_+g>=f.length||_>=c.length);++_)f[_+g]=c[_];return _}function p(c,f){return c instanceof f||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===f.name}function S(c){return c!==c}let C=function(){let c="0123456789abcdef",f=new Array(256);for(let g=0;g<16;++g){let v=g*16;for(let _=0;_<16;++_)f[v+_]=c[g]+c[_]}return f}();function A(c){return typeof BigInt>"u"?G:c}function G(){throw new Error("BigInt not supported")}return wr}var ln,Co,Tn,Oo,wr,Po,tr,Ei,Zu,ec,at=Et(()=>{ge(),ye(),me(),ln={},Co=!1,Tn={},Oo=!1,wr={},Po=!1,tr=Up(),tr.Buffer,tr.SlowBuffer,tr.INSPECT_MAX_BYTES,tr.kMaxLength,Ei=tr.Buffer,Zu=tr.INSPECT_MAX_BYTES,ec=tr.kMaxLength}),ye=Et(()=>{at()}),Mp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,s){return s===0||s>this.max?!1:(this.aliasToTopic[s]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};e.default=t}),Ze=_e((e,t)=>{ge(),ye(),me();var r=class extends Error{constructor(s){if(!Array.isArray(s))throw new TypeError(`Expected input to be an Array, got ${typeof s}`);let l="";for(let n=0;n<s.length;n++)l+=`    ${s[n].stack}
`;super(l),this.name="AggregateError",this.errors=s}};t.exports={AggregateError:r,ArrayIsArray(s){return Array.isArray(s)},ArrayPrototypeIncludes(s,l){return s.includes(l)},ArrayPrototypeIndexOf(s,l){return s.indexOf(l)},ArrayPrototypeJoin(s,l){return s.join(l)},ArrayPrototypeMap(s,l){return s.map(l)},ArrayPrototypePop(s,l){return s.pop(l)},ArrayPrototypePush(s,l){return s.push(l)},ArrayPrototypeSlice(s,l,n){return s.slice(l,n)},Error,FunctionPrototypeCall(s,l,...n){return s.call(l,...n)},FunctionPrototypeSymbolHasInstance(s,l){return Function.prototype[Symbol.hasInstance].call(s,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(s,l){return Object.defineProperties(s,l)},ObjectDefineProperty(s,l,n){return Object.defineProperty(s,l,n)},ObjectGetOwnPropertyDescriptor(s,l){return Object.getOwnPropertyDescriptor(s,l)},ObjectKeys(s){return Object.keys(s)},ObjectSetPrototypeOf(s,l){return Object.setPrototypeOf(s,l)},Promise,PromisePrototypeCatch(s,l){return s.catch(l)},PromisePrototypeThen(s,l,n){return s.then(l,n)},PromiseReject(s){return Promise.reject(s)},PromiseResolve(s){return Promise.resolve(s)},ReflectApply:Reflect.apply,RegExpPrototypeTest(s,l){return s.test(l)},SafeSet:Set,String,StringPrototypeSlice(s,l,n){return s.slice(l,n)},StringPrototypeToLowerCase(s){return s.toLowerCase()},StringPrototypeToUpperCase(s){return s.toUpperCase()},StringPrototypeTrim(s){return s.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(s,l,n){return s.set(l,n)},Boolean,Uint8Array}}),tc=_e((e,t)=>{ge(),ye(),me(),t.exports={format(r,...s){return r.replace(/%([sdifj])/g,function(...[l,n]){let i=s.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(r){switch(typeof r){case"string":if(r.includes("'"))if(r.includes('"')){if(!r.includes("`")&&!r.includes("${"))return`\`${r}\``}else return`"${r}"`;return`'${r}'`;case"number":return isNaN(r)?"NaN":Object.is(r,-0)?String(r):r;case"bigint":return`${String(r)}n`;case"boolean":case"undefined":return String(r);case"object":return"{}"}}}}),St=_e((e,t)=>{ge(),ye(),me();var{format:r,inspect:s}=tc(),{AggregateError:l}=Ze(),n=globalThis.AggregateError||l,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",h={};function d(w,k){if(!w)throw new h.ERR_INTERNAL_ASSERTION(k)}function m(w){let k="",N=w.length,F=w[0]==="-"?1:0;for(;N>=F+4;N-=3)k=`_${w.slice(N-3,N)}${k}`;return`${w.slice(0,N)}${k}`}function y(w,k,N){if(typeof k=="function")return d(k.length<=N.length,`Code: ${w}; The provided arguments length (${N.length}) does not match the required ones (${k.length}).`),k(...N);let F=(k.match(/%[dfijoOs]/g)||[]).length;return d(F===N.length,`Code: ${w}; The provided arguments length (${N.length}) does not match the required ones (${F}).`),N.length===0?k:r(k,...N)}function b(w,k,N){N||(N=Error);class F extends N{constructor(...j){super(y(w,k,j))}toString(){return`${this.name} [${w}]: ${this.message}`}}Object.defineProperties(F.prototype,{name:{value:N.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${w}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),F.prototype.code=w,F.prototype[i]=!0,h[w]=F}function T(w){let k=u+w.name;return Object.defineProperty(w,"name",{value:k}),w}function E(w,k){if(w&&k&&w!==k){if(Array.isArray(k.errors))return k.errors.push(w),k;let N=new n([k,w],k.message);return N.code=k.code,N}return w||k}var P=class extends Error{constructor(w="The operation was aborted",k=void 0){if(k!==void 0&&typeof k!="object")throw new h.ERR_INVALID_ARG_TYPE("options","Object",k);super(w,k),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(w,k,N)=>{d(typeof w=="string","'name' must be a string"),Array.isArray(k)||(k=[k]);let F="The ";w.endsWith(" argument")?F+=`${w} `:F+=`"${w}" ${w.includes(".")?"property":"argument"} `,F+="must be ";let M=[],j=[],K=[];for(let oe of k)d(typeof oe=="string","All expected entries have to be of type string"),a.includes(oe)?M.push(oe.toLowerCase()):o.test(oe)?j.push(oe):(d(oe!=="object",'The value "object" should be written as "Object"'),K.push(oe));if(j.length>0){let oe=M.indexOf("object");oe!==-1&&(M.splice(M,oe,1),j.push("Object"))}if(M.length>0){switch(M.length){case 1:F+=`of type ${M[0]}`;break;case 2:F+=`one of type ${M[0]} or ${M[1]}`;break;default:{let oe=M.pop();F+=`one of type ${M.join(", ")}, or ${oe}`}}(j.length>0||K.length>0)&&(F+=" or ")}if(j.length>0){switch(j.length){case 1:F+=`an instance of ${j[0]}`;break;case 2:F+=`an instance of ${j[0]} or ${j[1]}`;break;default:{let oe=j.pop();F+=`an instance of ${j.join(", ")}, or ${oe}`}}K.length>0&&(F+=" or ")}switch(K.length){case 0:break;case 1:K[0].toLowerCase()!==K[0]&&(F+="an "),F+=`${K[0]}`;break;case 2:F+=`one of ${K[0]} or ${K[1]}`;break;default:{let oe=K.pop();F+=`one of ${K.join(", ")}, or ${oe}`}}if(N==null)F+=`. Received ${N}`;else if(typeof N=="function"&&N.name)F+=`. Received function ${N.name}`;else if(typeof N=="object"){var se;if((se=N.constructor)!==null&&se!==void 0&&se.name)F+=`. Received an instance of ${N.constructor.name}`;else{let oe=s(N,{depth:-1});F+=`. Received ${oe}`}}else{let oe=s(N,{colors:!1});oe.length>25&&(oe=`${oe.slice(0,25)}...`),F+=`. Received type ${typeof N} (${oe})`}return F},TypeError),b("ERR_INVALID_ARG_VALUE",(w,k,N="is invalid")=>{let F=s(k);return F.length>128&&(F=F.slice(0,128)+"..."),`The ${w.includes(".")?"property":"argument"} '${w}' ${N}. Received ${F}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(w,k,N)=>{var F;let M=N!=null&&(F=N.constructor)!==null&&F!==void 0&&F.name?`instance of ${N.constructor.name}`:`type ${typeof N}`;return`Expected ${w} to be returned from the "${k}" function but got ${M}.`},TypeError),b("ERR_MISSING_ARGS",(...w)=>{d(w.length>0,"At least one arg needs to be specified");let k,N=w.length;switch(w=(Array.isArray(w)?w:[w]).map(F=>`"${F}"`).join(" or "),N){case 1:k+=`The ${w[0]} argument`;break;case 2:k+=`The ${w[0]} and ${w[1]} arguments`;break;default:{let F=w.pop();k+=`The ${w.join(", ")}, and ${F} arguments`}break}return`${k} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(w,k,N)=>{d(k,'Missing "range" argument');let F;if(Number.isInteger(N)&&Math.abs(N)>2**32)F=m(String(N));else if(typeof N=="bigint"){F=String(N);let M=BigInt(2)**BigInt(32);(N>M||N<-M)&&(F=m(F)),F+="n"}else F=s(N);return`The value of "${w}" is out of range. It must be ${k}. Received ${F}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:P,aggregateTwoErrors:T(E),hideStackFrames:T,codes:h}}),Fn=_e((e,t)=>{ge(),ye(),me();var{AbortController:r,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=s,t.exports.default=r});function $e(){$e.init.call(this)}function li(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function rc(e){return e._maxListeners===void 0?$e.defaultMaxListeners:e._maxListeners}function al(e,t,r,s){var l,n,i,a;if(li(r),(n=e._events)===void 0?(n=e._events=Object.create(null),e._eventsCount=0):(n.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),n=e._events),i=n[t]),i===void 0)i=n[t]=r,++e._eventsCount;else if(typeof i=="function"?i=n[t]=s?[r,i]:[i,r]:s?i.unshift(r):i.push(r),(l=rc(e))>0&&i.length>l&&!i.warned){i.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=i.length,a=o,console&&console.warn&&console.warn(a)}return e}function Bp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ll(e,t,r){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},l=Bp.bind(s);return l.listener=r,s.wrapFn=l,l}function ul(e,t,r){var s=e._events;if(s===void 0)return[];var l=s[t];return l===void 0?[]:typeof l=="function"?r?[l.listener||l]:[l]:r?function(n){for(var i=new Array(n.length),a=0;a<i.length;++a)i[a]=n[a].listener||n[a];return i}(l):nc(l,l.length)}function cl(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function nc(e,t){for(var r=new Array(t),s=0;s<t;++s)r[s]=e[s];return r}var hl,fl,Wr,is,ss,os,Ct,dl=Et(()=>{ge(),ye(),me(),Wr=typeof Reflect=="object"?Reflect:null,is=Wr&&typeof Wr.apply=="function"?Wr.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},fl=Wr&&typeof Wr.ownKeys=="function"?Wr.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},ss=Number.isNaN||function(e){return e!=e},hl=$e,$e.EventEmitter=$e,$e.prototype._events=void 0,$e.prototype._eventsCount=0,$e.prototype._maxListeners=void 0,os=10,Object.defineProperty($e,"defaultMaxListeners",{enumerable:!0,get:function(){return os},set:function(e){if(typeof e!="number"||e<0||ss(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");os=e}}),$e.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$e.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ss(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},$e.prototype.getMaxListeners=function(){return rc(this)},$e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var s=e==="error",l=this._events;if(l!==void 0)s=s&&l.error===void 0;else if(!s)return!1;if(s){var n;if(t.length>0&&(n=t[0]),n instanceof Error)throw n;var i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}var a=l[e];if(a===void 0)return!1;if(typeof a=="function")is(a,this,t);else{var o=a.length,u=nc(a,o);for(r=0;r<o;++r)is(u[r],this,t)}return!0},$e.prototype.addListener=function(e,t){return al(this,e,t,!1)},$e.prototype.on=$e.prototype.addListener,$e.prototype.prependListener=function(e,t){return al(this,e,t,!0)},$e.prototype.once=function(e,t){return li(t),this.on(e,ll(this,e,t)),this},$e.prototype.prependOnceListener=function(e,t){return li(t),this.prependListener(e,ll(this,e,t)),this},$e.prototype.removeListener=function(e,t){var r,s,l,n,i;if(li(t),(s=this._events)===void 0)return this;if((r=s[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(l=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){i=r[n].listener,l=n;break}if(l<0)return this;l===0?r.shift():function(a,o){for(;o+1<a.length;o++)a[o]=a[o+1];a.pop()}(r,l),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,i||t)}return this},$e.prototype.off=$e.prototype.removeListener,$e.prototype.removeAllListeners=function(e){var t,r,s;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var l,n=Object.keys(r);for(s=0;s<n.length;++s)(l=n[s])!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},$e.prototype.listeners=function(e){return ul(this,e,!0)},$e.prototype.rawListeners=function(e){return ul(this,e,!1)},$e.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):cl.call(e,t)},$e.prototype.listenerCount=cl,$e.prototype.eventNames=function(){return this._eventsCount>0?fl(this._events):[]},Ct=hl,Ct.EventEmitter,Ct.defaultMaxListeners,Ct.init,Ct.listenerCount,Ct.EventEmitter,Ct.defaultMaxListeners,Ct.init,Ct.listenerCount}),Br={};mn(Br,{EventEmitter:()=>ic,default:()=>Ct,defaultMaxListeners:()=>sc,init:()=>oc,listenerCount:()=>ac,on:()=>lc,once:()=>uc});var ic,sc,oc,ac,lc,uc,en=Et(()=>{ge(),ye(),me(),dl(),dl(),Ct.once=function(e,t){return new Promise((r,s)=>{function l(...i){n!==void 0&&e.removeListener("error",n),r(i)}let n;t!=="error"&&(n=i=>{e.removeListener(name,l),s(i)},e.once("error",n)),e.once(t,l)})},Ct.on=function(e,t){let r=[],s=[],l=null,n=!1,i={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(l){let h=Promise.reject(l);return l=null,h}return n?createIterResult(void 0,!0):new Promise((h,d)=>s.push({resolve:h,reject:d}))},async return(){e.removeListener(t,a),e.removeListener("error",o),n=!0;for(let u of s)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){l=u,e.removeListener(t,a),e.removeListener("error",o)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",o),i;function a(...u){let h=s.shift();h?h.resolve(createIterResult(u,!1)):r.push(u)}function o(u){n=!0;let h=s.shift();h?h.reject(u):l=u,i.return()}},{EventEmitter:ic,defaultMaxListeners:sc,init:oc,listenerCount:ac,on:lc,once:uc}=Ct}),It=_e((e,t)=>{ge(),ye(),me();var r=(at(),qe(ot)),{format:s,inspect:l}=tc(),{codes:{ERR_INVALID_ARG_TYPE:n}}=St(),{kResistStopPropagation:i,AggregateError:a,SymbolDispose:o}=Ze(),u=globalThis.AbortSignal||Fn().AbortSignal,h=globalThis.AbortController||Fn().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||r.Blob,y=typeof m<"u"?function(E){return E instanceof m}:function(E){return!1},b=(E,P)=>{if(E!==void 0&&(E===null||typeof E!="object"||!("aborted"in E)))throw new n(P,"AbortSignal",E)},T=(E,P)=>{if(typeof E!="function")throw new n(P,"Function",E)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(E){let P=!1;return function(...w){P||(P=!0,E.apply(this,w))}},createDeferredPromise:function(){let E,P;return{promise:new Promise((w,k)=>{E=w,P=k}),resolve:E,reject:P}},promisify(E){return new Promise((P,w)=>{E((k,...N)=>k?w(k):P(...N))})},debuglog(){return function(){}},format:s,inspect:l,types:{isAsyncFunction(E){return E instanceof d},isArrayBufferView(E){return ArrayBuffer.isView(E)}},isBlob:y,deprecate(E,P){return E},addAbortListener:(en(),qe(Br)).addAbortListener||function(E,P){if(E===void 0)throw new n("signal","AbortSignal",E);b(E,"signal"),T(P,"listener");let w;return E.aborted?queueMicrotask(()=>P()):(E.addEventListener("abort",P,{__proto__:null,once:!0,[i]:!0}),w=()=>{E.removeEventListener("abort",P)}),{__proto__:null,[o](){var k;(k=w)===null||k===void 0||k()}}},AbortSignalAny:u.any||function(E){if(E.length===1)return E[0];let P=new h,w=()=>P.abort();return E.forEach(k=>{b(k,"signals"),k.addEventListener("abort",w,{once:!0})}),P.signal.addEventListener("abort",()=>{E.forEach(k=>k.removeEventListener("abort",w))},{once:!0}),P.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),$n=_e((e,t)=>{ge(),ye(),me();var{ArrayIsArray:r,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:l,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:u,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:m,String:y,StringPrototypeToUpperCase:b,StringPrototypeTrim:T}=Ze(),{hideStackFrames:E,codes:{ERR_SOCKET_BAD_PORT:P,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:k,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:F}}=St(),{normalizeEncoding:M}=It(),{isAsyncFunction:j,isArrayBufferView:K}=It().types,se={};function oe(p){return p===(p|0)}function fe(p){return p===p>>>0}var $=/^[0-7]+$/,ie="must be a 32-bit unsigned integer or an octal string";function ae(p,S,C){if(typeof p>"u"&&(p=C),typeof p=="string"){if(m($,p)===null)throw new k(S,p,ie);p=h(p,8)}return ce(p,S),p}var Z=E((p,S,C=u,A=o)=>{if(typeof p!="number")throw new w(S,"number",p);if(!i(p))throw new N(S,"an integer",p);if(p<C||p>A)throw new N(S,`>= ${C} && <= ${A}`,p)}),pe=E((p,S,C=-2147483648,A=2147483647)=>{if(typeof p!="number")throw new w(S,"number",p);if(!i(p))throw new N(S,"an integer",p);if(p<C||p>A)throw new N(S,`>= ${C} && <= ${A}`,p)}),ce=E((p,S,C=!1)=>{if(typeof p!="number")throw new w(S,"number",p);if(!i(p))throw new N(S,"an integer",p);let A=C?1:0,G=4294967295;if(p<A||p>G)throw new N(S,`>= ${A} && <= ${G}`,p)});function ue(p,S){if(typeof p!="string")throw new w(S,"string",p)}function Ee(p,S,C=void 0,A){if(typeof p!="number")throw new w(S,"number",p);if(C!=null&&p<C||A!=null&&p>A||(C!=null||A!=null)&&a(p))throw new N(S,`${C!=null?`>= ${C}`:""}${C!=null&&A!=null?" && ":""}${A!=null?`<= ${A}`:""}`,p)}var ne=E((p,S,C)=>{if(!s(C,p)){let A="must be one of: "+l(n(C,G=>typeof G=="string"?`'${G}'`:y(G)),", ");throw new k(S,p,A)}});function de(p,S){if(typeof p!="boolean")throw new w(S,"boolean",p)}function D(p,S,C){return p==null||!d(p,S)?C:p[S]}var he=E((p,S,C=null)=>{let A=D(C,"allowArray",!1),G=D(C,"allowFunction",!1);if(!D(C,"nullable",!1)&&p===null||!A&&r(p)||typeof p!="object"&&(!G||typeof p!="function"))throw new w(S,"Object",p)}),be=E((p,S)=>{if(p!=null&&typeof p!="object"&&typeof p!="function")throw new w(S,"a dictionary",p)}),Q=E((p,S,C=0)=>{if(!r(p))throw new w(S,"Array",p);if(p.length<C){let A=`must be longer than ${C}`;throw new k(S,p,A)}});function Ae(p,S){Q(p,S);for(let C=0;C<p.length;C++)ue(p[C],`${S}[${C}]`)}function re(p,S){Q(p,S);for(let C=0;C<p.length;C++)de(p[C],`${S}[${C}]`)}function z(p,S){Q(p,S);for(let C=0;C<p.length;C++){let A=p[C],G=`${S}[${C}]`;if(A==null)throw new w(G,"AbortSignal",A);R(A,G)}}function le(p,S="signal"){if(ue(p,S),se[p]===void 0)throw se[b(p)]!==void 0?new F(p+" (signals must use all capital letters)"):new F(p)}var ee=E((p,S="buffer")=>{if(!K(p))throw new w(S,["Buffer","TypedArray","DataView"],p)});function te(p,S){let C=M(S),A=p.length;if(C==="hex"&&A%2!==0)throw new k("encoding",S,`is invalid for data of length ${A}`)}function I(p,S="Port",C=!0){if(typeof p!="number"&&typeof p!="string"||typeof p=="string"&&T(p).length===0||+p!==+p>>>0||p>65535||p===0&&!C)throw new P(S,p,C);return p|0}var R=E((p,S)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new w(S,"AbortSignal",p)}),W=E((p,S)=>{if(typeof p!="function")throw new w(S,"Function",p)}),O=E((p,S)=>{if(typeof p!="function"||j(p))throw new w(S,"Function",p)}),U=E((p,S)=>{if(p!==void 0)throw new w(S,"undefined",p)});function H(p,S,C){if(!s(C,p))throw new w(S,`('${l(C,"|")}')`,p)}var X=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function J(p,S){if(typeof p>"u"||!m(X,p))throw new k(S,p,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function x(p){if(typeof p=="string")return J(p,"hints"),p;if(r(p)){let S=p.length,C="";if(S===0)return C;for(let A=0;A<S;A++){let G=p[A];J(G,"hints"),C+=G,A!==S-1&&(C+=", ")}return C}throw new k("hints",p,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:oe,isUint32:fe,parseFileMode:ae,validateArray:Q,validateStringArray:Ae,validateBooleanArray:re,validateAbortSignalArray:z,validateBoolean:de,validateBuffer:ee,validateDictionary:be,validateEncoding:te,validateFunction:W,validateInt32:pe,validateInteger:Z,validateNumber:Ee,validateObject:he,validateOneOf:ne,validatePlainFunction:O,validatePort:I,validateSignalName:le,validateString:ue,validateUint32:ce,validateUndefined:U,validateUnion:H,validateAbortSignal:R,validateLinkHeaderValue:x}}),tn=_e((e,t)=>{ge(),ye(),me();var r=t.exports={},s,l;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=n}catch{s=n}try{typeof clearTimeout=="function"?l=clearTimeout:l=i}catch{l=i}})();function a(P){if(s===setTimeout)return setTimeout(P,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(P,0);try{return s(P,0)}catch{try{return s.call(null,P,0)}catch{return s.call(this,P,0)}}}function o(P){if(l===clearTimeout)return clearTimeout(P);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(P);try{return l(P)}catch{try{return l.call(null,P)}catch{return l.call(this,P)}}}var u=[],h=!1,d,m=-1;function y(){!h||!d||(h=!1,d.length?u=d.concat(u):m=-1,u.length&&b())}function b(){if(!h){var P=a(y);h=!0;for(var w=u.length;w;){for(d=u,u=[];++m<w;)d&&d[m].run();m=-1,w=u.length}d=null,h=!1,o(P)}}r.nextTick=function(P){var w=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)w[k-1]=arguments[k];u.push(new T(P,w)),u.length===1&&!h&&a(b)};function T(P,w){this.fun=P,this.array=w}T.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function E(){}r.on=E,r.addListener=E,r.once=E,r.off=E,r.removeListener=E,r.removeAllListeners=E,r.emit=E,r.prependListener=E,r.prependOnceListener=E,r.listeners=function(P){return[]},r.binding=function(P){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(P){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),gr=_e((e,t)=>{ge(),ye(),me();var{SymbolAsyncIterator:r,SymbolIterator:s,SymbolFor:l}=Ze(),n=l("nodejs.stream.destroyed"),i=l("nodejs.stream.errored"),a=l("nodejs.stream.readable"),o=l("nodejs.stream.writable"),u=l("nodejs.stream.disturbed"),h=l("nodejs.webstream.isClosedPromise"),d=l("nodejs.webstream.controllerErrorFunction");function m(D,he=!1){var be;return!!(D&&typeof D.pipe=="function"&&typeof D.on=="function"&&(!he||typeof D.pause=="function"&&typeof D.resume=="function")&&(!D._writableState||((be=D._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!D._writableState||D._readableState))}function y(D){var he;return!!(D&&typeof D.write=="function"&&typeof D.on=="function"&&(!D._readableState||((he=D._writableState)===null||he===void 0?void 0:he.writable)!==!1))}function b(D){return!!(D&&typeof D.pipe=="function"&&D._readableState&&typeof D.on=="function"&&typeof D.write=="function")}function T(D){return D&&(D._readableState||D._writableState||typeof D.write=="function"&&typeof D.on=="function"||typeof D.pipe=="function"&&typeof D.on=="function")}function E(D){return!!(D&&!T(D)&&typeof D.pipeThrough=="function"&&typeof D.getReader=="function"&&typeof D.cancel=="function")}function P(D){return!!(D&&!T(D)&&typeof D.getWriter=="function"&&typeof D.abort=="function")}function w(D){return!!(D&&!T(D)&&typeof D.readable=="object"&&typeof D.writable=="object")}function k(D){return E(D)||P(D)||w(D)}function N(D,he){return D==null?!1:he===!0?typeof D[r]=="function":he===!1?typeof D[s]=="function":typeof D[r]=="function"||typeof D[s]=="function"}function F(D){if(!T(D))return null;let he=D._writableState,be=D._readableState,Q=he||be;return!!(D.destroyed||D[n]||Q!=null&&Q.destroyed)}function M(D){if(!y(D))return null;if(D.writableEnded===!0)return!0;let he=D._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function j(D,he){if(!y(D))return null;if(D.writableFinished===!0)return!0;let be=D._writableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.finished)!="boolean"?null:!!(be.finished||he===!1&&be.ended===!0&&be.length===0)}function K(D){if(!m(D))return null;if(D.readableEnded===!0)return!0;let he=D._readableState;return!he||he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function se(D,he){if(!m(D))return null;let be=D._readableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.endEmitted)!="boolean"?null:!!(be.endEmitted||he===!1&&be.ended===!0&&be.length===0)}function oe(D){return D&&D[a]!=null?D[a]:typeof(D==null?void 0:D.readable)!="boolean"?null:F(D)?!1:m(D)&&D.readable&&!se(D)}function fe(D){return D&&D[o]!=null?D[o]:typeof(D==null?void 0:D.writable)!="boolean"?null:F(D)?!1:y(D)&&D.writable&&!M(D)}function $(D,he){return T(D)?F(D)?!0:!((he==null?void 0:he.readable)!==!1&&oe(D)||(he==null?void 0:he.writable)!==!1&&fe(D)):null}function ie(D){var he,be;return T(D)?D.writableErrored?D.writableErrored:(he=(be=D._writableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function ae(D){var he,be;return T(D)?D.readableErrored?D.readableErrored:(he=(be=D._readableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function Z(D){if(!T(D))return null;if(typeof D.closed=="boolean")return D.closed;let he=D._writableState,be=D._readableState;return typeof(he==null?void 0:he.closed)=="boolean"||typeof(be==null?void 0:be.closed)=="boolean"?(he==null?void 0:he.closed)||(be==null?void 0:be.closed):typeof D._closed=="boolean"&&pe(D)?D._closed:null}function pe(D){return typeof D._closed=="boolean"&&typeof D._defaultKeepAlive=="boolean"&&typeof D._removedConnection=="boolean"&&typeof D._removedContLen=="boolean"}function ce(D){return typeof D._sent100=="boolean"&&pe(D)}function ue(D){var he;return typeof D._consuming=="boolean"&&typeof D._dumped=="boolean"&&((he=D.req)===null||he===void 0?void 0:he.upgradeOrConnect)===void 0}function Ee(D){if(!T(D))return null;let he=D._writableState,be=D._readableState,Q=he||be;return!Q&&ce(D)||!!(Q&&Q.autoDestroy&&Q.emitClose&&Q.closed===!1)}function ne(D){var he;return!!(D&&((he=D[u])!==null&&he!==void 0?he:D.readableDidRead||D.readableAborted))}function de(D){var he,be,Q,Ae,re,z,le,ee,te,I;return!!(D&&((he=(be=(Q=(Ae=(re=(z=D[i])!==null&&z!==void 0?z:D.readableErrored)!==null&&re!==void 0?re:D.writableErrored)!==null&&Ae!==void 0?Ae:(le=D._readableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&Q!==void 0?Q:(ee=D._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&be!==void 0?be:(te=D._readableState)===null||te===void 0?void 0:te.errored)!==null&&he!==void 0?he:!((I=D._writableState)===null||I===void 0)&&I.errored))}t.exports={isDestroyed:F,kIsDestroyed:n,isDisturbed:ne,kIsDisturbed:u,isErrored:de,kIsErrored:i,isReadable:oe,kIsReadable:a,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:o,isClosed:Z,isDuplexNodeStream:b,isFinished:$,isIterable:N,isReadableNodeStream:m,isReadableStream:E,isReadableEnded:K,isReadableFinished:se,isReadableErrored:ae,isNodeStream:T,isWebStream:k,isWritable:fe,isWritableNodeStream:y,isWritableStream:P,isWritableEnded:M,isWritableFinished:j,isWritableErrored:ie,isServerRequest:ue,isServerResponse:ce,willEmitClose:Ee,isTransformStream:w}}),Lr=_e((e,t)=>{ge(),ye(),me();var r=tn(),{AbortError:s,codes:l}=St(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=l,{kEmptyObject:a,once:o}=It(),{validateAbortSignal:u,validateFunction:h,validateObject:d,validateBoolean:m}=$n(),{Promise:y,PromisePrototypeThen:b,SymbolDispose:T}=Ze(),{isClosed:E,isReadable:P,isReadableNodeStream:w,isReadableStream:k,isReadableFinished:N,isReadableErrored:F,isWritable:M,isWritableNodeStream:j,isWritableStream:K,isWritableFinished:se,isWritableErrored:oe,isNodeStream:fe,willEmitClose:$,kIsClosedPromise:ie}=gr(),ae;function Z(ne){return ne.setHeader&&typeof ne.abort=="function"}var pe=()=>{};function ce(ne,de,D){var he,be;if(arguments.length===2?(D=de,de=a):de==null?de=a:d(de,"options"),h(D,"callback"),u(de.signal,"options.signal"),D=o(D),k(ne)||K(ne))return ue(ne,de,D);if(!fe(ne))throw new n("stream",["ReadableStream","WritableStream","Stream"],ne);let Q=(he=de.readable)!==null&&he!==void 0?he:w(ne),Ae=(be=de.writable)!==null&&be!==void 0?be:j(ne),re=ne._writableState,z=ne._readableState,le=()=>{ne.writable||I()},ee=$(ne)&&w(ne)===Q&&j(ne)===Ae,te=se(ne,!1),I=()=>{te=!0,ne.destroyed&&(ee=!1),!(ee&&(!ne.readable||Q))&&(!Q||R)&&D.call(ne)},R=N(ne,!1),W=()=>{R=!0,ne.destroyed&&(ee=!1),!(ee&&(!ne.writable||Ae))&&(!Ae||te)&&D.call(ne)},O=p=>{D.call(ne,p)},U=E(ne),H=()=>{U=!0;let p=oe(ne)||F(ne);if(p&&typeof p!="boolean")return D.call(ne,p);if(Q&&!R&&w(ne,!0)&&!N(ne,!1))return D.call(ne,new i);if(Ae&&!te&&!se(ne,!1))return D.call(ne,new i);D.call(ne)},X=()=>{U=!0;let p=oe(ne)||F(ne);if(p&&typeof p!="boolean")return D.call(ne,p);D.call(ne)},J=()=>{ne.req.on("finish",I)};Z(ne)?(ne.on("complete",I),ee||ne.on("abort",H),ne.req?J():ne.on("request",J)):Ae&&!re&&(ne.on("end",le),ne.on("close",le)),!ee&&typeof ne.aborted=="boolean"&&ne.on("aborted",H),ne.on("end",W),ne.on("finish",I),de.error!==!1&&ne.on("error",O),ne.on("close",H),U?r.nextTick(H):re!=null&&re.errorEmitted||z!=null&&z.errorEmitted?ee||r.nextTick(X):(!Q&&(!ee||P(ne))&&(te||M(ne)===!1)||!Ae&&(!ee||M(ne))&&(R||P(ne)===!1)||z&&ne.req&&ne.aborted)&&r.nextTick(X);let x=()=>{D=pe,ne.removeListener("aborted",H),ne.removeListener("complete",I),ne.removeListener("abort",H),ne.removeListener("request",J),ne.req&&ne.req.removeListener("finish",I),ne.removeListener("end",le),ne.removeListener("close",le),ne.removeListener("finish",I),ne.removeListener("end",W),ne.removeListener("error",O),ne.removeListener("close",H)};if(de.signal&&!U){let p=()=>{let S=D;x(),S.call(ne,new s(void 0,{cause:de.signal.reason}))};if(de.signal.aborted)r.nextTick(p);else{ae=ae||It().addAbortListener;let S=ae(de.signal,p),C=D;D=o((...A)=>{S[T](),C.apply(ne,A)})}}return x}function ue(ne,de,D){let he=!1,be=pe;if(de.signal)if(be=()=>{he=!0,D.call(ne,new s(void 0,{cause:de.signal.reason}))},de.signal.aborted)r.nextTick(be);else{ae=ae||It().addAbortListener;let Ae=ae(de.signal,be),re=D;D=o((...z)=>{Ae[T](),re.apply(ne,z)})}let Q=(...Ae)=>{he||r.nextTick(()=>D.apply(ne,Ae))};return b(ne[ie].promise,Q,Q),pe}function Ee(ne,de){var D;let he=!1;return de===null&&(de=a),(D=de)!==null&&D!==void 0&&D.cleanup&&(m(de.cleanup,"cleanup"),he=de.cleanup),new y((be,Q)=>{let Ae=ce(ne,de,re=>{he&&Ae(),re?Q(re):be()})})}t.exports=ce,t.exports.finished=Ee}),yn=_e((e,t)=>{ge(),ye(),me();var r=tn(),{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:l},AbortError:n}=St(),{Symbol:i}=Ze(),{kIsDestroyed:a,isDestroyed:o,isFinished:u,isServerRequest:h}=gr(),d=i("kDestroy"),m=i("kConstruct");function y($,ie,ae){$&&($.stack,ie&&!ie.errored&&(ie.errored=$),ae&&!ae.errored&&(ae.errored=$))}function b($,ie){let ae=this._readableState,Z=this._writableState,pe=Z||ae;return Z!=null&&Z.destroyed||ae!=null&&ae.destroyed?(typeof ie=="function"&&ie(),this):(y($,Z,ae),Z&&(Z.destroyed=!0),ae&&(ae.destroyed=!0),pe.constructed?T(this,$,ie):this.once(d,function(ce){T(this,s(ce,$),ie)}),this)}function T($,ie,ae){let Z=!1;function pe(ce){if(Z)return;Z=!0;let ue=$._readableState,Ee=$._writableState;y(ce,Ee,ue),Ee&&(Ee.closed=!0),ue&&(ue.closed=!0),typeof ae=="function"&&ae(ce),ce?r.nextTick(E,$,ce):r.nextTick(P,$)}try{$._destroy(ie||null,pe)}catch(ce){pe(ce)}}function E($,ie){w($,ie),P($)}function P($){let ie=$._readableState,ae=$._writableState;ae&&(ae.closeEmitted=!0),ie&&(ie.closeEmitted=!0),(ae!=null&&ae.emitClose||ie!=null&&ie.emitClose)&&$.emit("close")}function w($,ie){let ae=$._readableState,Z=$._writableState;Z!=null&&Z.errorEmitted||ae!=null&&ae.errorEmitted||(Z&&(Z.errorEmitted=!0),ae&&(ae.errorEmitted=!0),$.emit("error",ie))}function k(){let $=this._readableState,ie=this._writableState;$&&($.constructed=!0,$.closed=!1,$.closeEmitted=!1,$.destroyed=!1,$.errored=null,$.errorEmitted=!1,$.reading=!1,$.ended=$.readable===!1,$.endEmitted=$.readable===!1),ie&&(ie.constructed=!0,ie.destroyed=!1,ie.closed=!1,ie.closeEmitted=!1,ie.errored=null,ie.errorEmitted=!1,ie.finalCalled=!1,ie.prefinished=!1,ie.ended=ie.writable===!1,ie.ending=ie.writable===!1,ie.finished=ie.writable===!1)}function N($,ie,ae){let Z=$._readableState,pe=$._writableState;if(pe!=null&&pe.destroyed||Z!=null&&Z.destroyed)return this;Z!=null&&Z.autoDestroy||pe!=null&&pe.autoDestroy?$.destroy(ie):ie&&(ie.stack,pe&&!pe.errored&&(pe.errored=ie),Z&&!Z.errored&&(Z.errored=ie),ae?r.nextTick(w,$,ie):w($,ie))}function F($,ie){if(typeof $._construct!="function")return;let ae=$._readableState,Z=$._writableState;ae&&(ae.constructed=!1),Z&&(Z.constructed=!1),$.once(m,ie),!($.listenerCount(m)>1)&&r.nextTick(M,$)}function M($){let ie=!1;function ae(Z){if(ie){N($,Z??new l);return}ie=!0;let pe=$._readableState,ce=$._writableState,ue=ce||pe;pe&&(pe.constructed=!0),ce&&(ce.constructed=!0),ue.destroyed?$.emit(d,Z):Z?N($,Z,!0):r.nextTick(j,$)}try{$._construct(Z=>{r.nextTick(ae,Z)})}catch(Z){r.nextTick(ae,Z)}}function j($){$.emit(m)}function K($){return($==null?void 0:$.setHeader)&&typeof $.abort=="function"}function se($){$.emit("close")}function oe($,ie){$.emit("error",ie),r.nextTick(se,$)}function fe($,ie){!$||o($)||(!ie&&!u($)&&(ie=new n),h($)?($.socket=null,$.destroy(ie)):K($)?$.abort():K($.req)?$.req.abort():typeof $.destroy=="function"?$.destroy(ie):typeof $.close=="function"?$.close():ie?r.nextTick(oe,$,ie):r.nextTick(se,$),$.destroyed||($[a]=!0))}t.exports={construct:F,destroyer:fe,destroy:b,undestroy:k,errorOrDestroy:N}}),ga=_e((e,t)=>{ge(),ye(),me();var{ArrayIsArray:r,ObjectSetPrototypeOf:s}=Ze(),{EventEmitter:l}=(en(),qe(Br));function n(a){l.call(this,a)}s(n.prototype,l.prototype),s(n,l),n.prototype.pipe=function(a,o){let u=this;function h(P){a.writable&&a.write(P)===!1&&u.pause&&u.pause()}u.on("data",h);function d(){u.readable&&u.resume&&u.resume()}a.on("drain",d),!a._isStdio&&(!o||o.end!==!1)&&(u.on("end",y),u.on("close",b));let m=!1;function y(){m||(m=!0,a.end())}function b(){m||(m=!0,typeof a.destroy=="function"&&a.destroy())}function T(P){E(),l.listenerCount(this,"error")===0&&this.emit("error",P)}i(u,"error",T),i(a,"error",T);function E(){u.removeListener("data",h),a.removeListener("drain",d),u.removeListener("end",y),u.removeListener("close",b),u.removeListener("error",T),a.removeListener("error",T),u.removeListener("end",E),u.removeListener("close",E),a.removeListener("close",E)}return u.on("end",E),u.on("close",E),a.on("close",E),a.emit("pipe",u),a};function i(a,o,u){if(typeof a.prependListener=="function")return a.prependListener(o,u);!a._events||!a._events[o]?a.on(o,u):r(a._events[o])?a._events[o].unshift(u):a._events[o]=[u,a._events[o]]}t.exports={Stream:n,prependListener:i}}),Li=_e((e,t)=>{ge(),ye(),me();var{SymbolDispose:r}=Ze(),{AbortError:s,codes:l}=St(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:a}=gr(),o=Lr(),{ERR_INVALID_ARG_TYPE:u}=l,h,d=(m,y)=>{if(typeof m!="object"||!("aborted"in m))throw new u(y,"AbortSignal",m)};t.exports.addAbortSignal=function(m,y){if(d(m,"signal"),!n(y)&&!i(y))throw new u("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(m,y){if(typeof m!="object"||!("aborted"in m))return y;let b=n(y)?()=>{y.destroy(new s(void 0,{cause:m.reason}))}:()=>{y[a](new s(void 0,{cause:m.reason}))};if(m.aborted)b();else{h=h||It().addAbortListener;let T=h(m,b);o(y,T[r])}return y}}),Lp=_e((e,t)=>{ge(),ye(),me();var{StringPrototypeSlice:r,SymbolIterator:s,TypedArrayPrototypeSet:l,Uint8Array:n}=Ze(),{Buffer:i}=(at(),qe(ot)),{inspect:a}=It();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){let u={data:o,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(o){let u={data:o,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let u=this.head,h=""+u.data;for(;(u=u.next)!==null;)h+=o+u.data;return h}concat(o){if(this.length===0)return i.alloc(0);let u=i.allocUnsafe(o>>>0),h=this.head,d=0;for(;h;)l(u,h.data,d),d+=h.data.length,h=h.next;return u}consume(o,u){let h=this.head.data;if(o<h.length){let d=h.slice(0,o);return this.head.data=h.slice(o),d}return o===h.length?this.shift():u?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[s](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let u="",h=this.head,d=0;do{let m=h.data;if(o>m.length)u+=m,o-=m.length;else{o===m.length?(u+=m,++d,h.next?this.head=h.next:this.head=this.tail=null):(u+=r(m,0,o),this.head=h,h.data=r(m,o));break}++d}while((h=h.next)!==null);return this.length-=d,u}_getBuffer(o){let u=i.allocUnsafe(o),h=o,d=this.head,m=0;do{let y=d.data;if(o>y.length)l(u,y,h-o),o-=y.length;else{o===y.length?(l(u,y,h-o),++m,d.next?this.head=d.next:this.head=this.tail=null):(l(u,new n(y.buffer,y.byteOffset,o),h-o),this.head=d,d.data=y.slice(o));break}++m}while((d=d.next)!==null);return this.length-=m,u}[Symbol.for("nodejs.util.inspect.custom")](o,u){return a(this,{...u,depth:0,customInspect:!1})}}}),Ni=_e((e,t)=>{ge(),ye(),me();var{MathFloor:r,NumberIsInteger:s}=Ze(),{validateInteger:l}=$n(),{ERR_INVALID_ARG_VALUE:n}=St().codes,i=16*1024,a=16;function o(m,y,b){return m.highWaterMark!=null?m.highWaterMark:y?m[b]:null}function u(m){return m?a:i}function h(m,y){l(y,"value",0),m?a=y:i=y}function d(m,y,b,T){let E=o(y,T,b);if(E!=null){if(!s(E)||E<0){let P=T?`options.${b}`:"options.highWaterMark";throw new n(P,E)}return r(E)}return u(m.objectMode)}t.exports={getHighWaterMark:d,getDefaultHighWaterMark:u,setDefaultHighWaterMark:h}}),Np=_e((e,t)=>{ge(),ye(),me();var r=(at(),qe(ot)),s=r.Buffer;function l(i,a){for(var o in i)a[o]=i[o]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=r:(l(r,e),e.Buffer=n);function n(i,a,o){return s(i,a,o)}n.prototype=Object.create(s.prototype),l(s,n),n.from=function(i,a,o){if(typeof i=="number")throw new TypeError("Argument must not be a number");return s(i,a,o)},n.alloc=function(i,a,o){if(typeof i!="number")throw new TypeError("Argument must be a number");var u=s(i);return a!==void 0?typeof o=="string"?u.fill(a,o):u.fill(a):u.fill(0),u},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return s(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)}}),jp=_e(e=>{ge(),ye(),me();var t=Np().Buffer,r=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(w){if(!w)return"utf8";for(var k;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(k)return;w=(""+w).toLowerCase(),k=!0}}function l(w){var k=s(w);if(typeof k!="string"&&(t.isEncoding===r||!r(w)))throw new Error("Unknown encoding: "+w);return k||w}e.StringDecoder=n;function n(w){this.encoding=l(w);var k;switch(this.encoding){case"utf16le":this.text=m,this.end=y,k=4;break;case"utf8":this.fillLast=u,k=4;break;case"base64":this.text=b,this.end=T,k=3;break;default:this.write=E,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(k)}n.prototype.write=function(w){if(w.length===0)return"";var k,N;if(this.lastNeed){if(k=this.fillLast(w),k===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<w.length?k?k+this.text(w,N):this.text(w,N):k||""},n.prototype.end=d,n.prototype.text=h,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function i(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,k,N){var F=k.length-1;if(F<N)return 0;var M=i(k[F]);return M>=0?(M>0&&(w.lastNeed=M-1),M):--F<N||M===-2?0:(M=i(k[F]),M>=0?(M>0&&(w.lastNeed=M-2),M):--F<N||M===-2?0:(M=i(k[F]),M>=0?(M>0&&(M===2?M=0:w.lastNeed=M-3),M):0))}function o(w,k,N){if((k[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return w.lastNeed=2,"�"}}function u(w){var k=this.lastTotal-this.lastNeed,N=o(this,w);if(N!==void 0)return N;if(this.lastNeed<=w.length)return w.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,k,0,w.length),this.lastNeed-=w.length}function h(w,k){var N=a(this,w,k);if(!this.lastNeed)return w.toString("utf8",k);this.lastTotal=N;var F=w.length-(N-this.lastNeed);return w.copy(this.lastChar,0,F),w.toString("utf8",k,F)}function d(w){var k=w&&w.length?this.write(w):"";return this.lastNeed?k+"�":k}function m(w,k){if((w.length-k)%2===0){var N=w.toString("utf16le",k);if(N){var F=N.charCodeAt(N.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",k,w.length-1)}function y(w){var k=w&&w.length?this.write(w):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,N)}return k}function b(w,k){var N=(w.length-k)%3;return N===0?w.toString("base64",k):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",k,w.length-N))}function T(w){var k=w&&w.length?this.write(w):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function E(w){return w.toString(this.encoding)}function P(w){return w&&w.length?this.write(w):""}}),cc=_e((e,t)=>{ge(),ye(),me();var r=tn(),{PromisePrototypeThen:s,SymbolAsyncIterator:l,SymbolIterator:n}=Ze(),{Buffer:i}=(at(),qe(ot)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=St().codes;function u(h,d,m){let y;if(typeof d=="string"||d instanceof i)return new h({objectMode:!0,...m,read(){this.push(d),this.push(null)}});let b;if(d&&d[l])b=!0,y=d[l]();else if(d&&d[n])b=!1,y=d[n]();else throw new a("iterable",["Iterable"],d);let T=new h({objectMode:!0,highWaterMark:1,...m}),E=!1;T._read=function(){E||(E=!0,w())},T._destroy=function(k,N){s(P(k),()=>r.nextTick(N,k),F=>r.nextTick(N,F||k))};async function P(k){let N=k!=null,F=typeof y.throw=="function";if(N&&F){let{value:M,done:j}=await y.throw(k);if(await M,j)return}if(typeof y.return=="function"){let{value:M}=await y.return();await M}}async function w(){for(;;){try{let{value:k,done:N}=b?await y.next():y.next();if(N)T.push(null);else{let F=k&&typeof k.then=="function"?await k:k;if(F===null)throw E=!1,new o;if(T.push(F))continue;E=!1}}catch(k){T.destroy(k)}break}}return T}t.exports=u}),ji=_e((e,t)=>{ge(),ye(),me();var r=tn(),{ArrayPrototypeIndexOf:s,NumberIsInteger:l,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:h,SafeSet:d,SymbolAsyncDispose:m,SymbolAsyncIterator:y,Symbol:b}=Ze();t.exports=A,A.ReadableState=C;var{EventEmitter:T}=(en(),qe(Br)),{Stream:E,prependListener:P}=ga(),{Buffer:w}=(at(),qe(ot)),{addAbortSignal:k}=Li(),N=Lr(),F=It().debuglog("stream",B=>{F=B}),M=Lp(),j=yn(),{getHighWaterMark:K,getDefaultHighWaterMark:se}=Ni(),{aggregateTwoErrors:oe,codes:{ERR_INVALID_ARG_TYPE:fe,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:ie,ERR_STREAM_PUSH_AFTER_EOF:ae,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Z},AbortError:pe}=St(),{validateObject:ce}=$n(),ue=b("kPaused"),{StringDecoder:Ee}=jp(),ne=cc();u(A.prototype,E.prototype),u(A,E);var de=()=>{},{errorOrDestroy:D}=j,he=1,be=2,Q=4,Ae=8,re=16,z=32,le=64,ee=128,te=256,I=512,R=1024,W=2048,O=4096,U=8192,H=16384,X=32768,J=65536,x=1<<17,p=1<<18;function S(B){return{enumerable:!1,get(){return(this.state&B)!==0},set(V){V?this.state|=B:this.state&=~B}}}a(C.prototype,{objectMode:S(he),ended:S(be),endEmitted:S(Q),reading:S(Ae),constructed:S(re),sync:S(z),needReadable:S(le),emittedReadable:S(ee),readableListening:S(te),resumeScheduled:S(I),errorEmitted:S(R),emitClose:S(W),autoDestroy:S(O),destroyed:S(U),closed:S(H),closeEmitted:S(X),multiAwaitDrain:S(J),readingMore:S(x),dataEmitted:S(p)});function C(B,V,Se){typeof Se!="boolean"&&(Se=V instanceof fr()),this.state=W|O|re|z,B&&B.objectMode&&(this.state|=he),Se&&B&&B.readableObjectMode&&(this.state|=he),this.highWaterMark=B?K(this,B,"readableHighWaterMark",Se):se(!1),this.buffer=new M,this.length=0,this.pipes=[],this.flowing=null,this[ue]=null,B&&B.emitClose===!1&&(this.state&=~W),B&&B.autoDestroy===!1&&(this.state&=~O),this.errored=null,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,B&&B.encoding&&(this.decoder=new Ee(B.encoding),this.encoding=B.encoding)}function A(B){if(!(this instanceof A))return new A(B);let V=this instanceof fr();this._readableState=new C(B,this,V),B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&!V&&k(B.signal,this)),E.call(this,B),j.construct(this,()=>{this._readableState.needReadable&&we(this,this._readableState)})}A.prototype.destroy=j.destroy,A.prototype._undestroy=j.undestroy,A.prototype._destroy=function(B,V){V(B)},A.prototype[T.captureRejectionSymbol]=function(B){this.destroy(B)},A.prototype[m]=function(){let B;return this.destroyed||(B=this.readableEnded?null:new pe,this.destroy(B)),new h((V,Se)=>N(this,Te=>Te&&Te!==B?Se(Te):V(null)))},A.prototype.push=function(B,V){return G(this,B,V,!1)},A.prototype.unshift=function(B,V){return G(this,B,V,!0)};function G(B,V,Se,Te){F("readableAddChunk",V);let Ce=B._readableState,ht;if((Ce.state&he)===0&&(typeof V=="string"?(Se=Se||Ce.defaultEncoding,Ce.encoding!==Se&&(Te&&Ce.encoding?V=w.from(V,Se).toString(Ce.encoding):(V=w.from(V,Se),Se=""))):V instanceof w?Se="":E._isUint8Array(V)?(V=E._uint8ArrayToBuffer(V),Se=""):V!=null&&(ht=new fe("chunk",["string","Buffer","Uint8Array"],V))),ht)D(B,ht);else if(V===null)Ce.state&=~Ae,_(B,Ce);else if((Ce.state&he)!==0||V&&V.length>0)if(Te)if((Ce.state&Q)!==0)D(B,new Z);else{if(Ce.destroyed||Ce.errored)return!1;c(B,Ce,V,!0)}else if(Ce.ended)D(B,new ae);else{if(Ce.destroyed||Ce.errored)return!1;Ce.state&=~Ae,Ce.decoder&&!Se?(V=Ce.decoder.write(V),Ce.objectMode||V.length!==0?c(B,Ce,V,!1):we(B,Ce)):c(B,Ce,V,!1)}else Te||(Ce.state&=~Ae,we(B,Ce));return!Ce.ended&&(Ce.length<Ce.highWaterMark||Ce.length===0)}function c(B,V,Se,Te){V.flowing&&V.length===0&&!V.sync&&B.listenerCount("data")>0?((V.state&J)!==0?V.awaitDrainWriters.clear():V.awaitDrainWriters=null,V.dataEmitted=!0,B.emit("data",Se)):(V.length+=V.objectMode?1:Se.length,Te?V.buffer.unshift(Se):V.buffer.push(Se),(V.state&le)!==0&&L(B)),we(B,V)}A.prototype.isPaused=function(){let B=this._readableState;return B[ue]===!0||B.flowing===!1},A.prototype.setEncoding=function(B){let V=new Ee(B);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;let Se=this._readableState.buffer,Te="";for(let Ce of Se)Te+=V.write(Ce);return Se.clear(),Te!==""&&Se.push(Te),this._readableState.length=Te.length,this};var f=1073741824;function g(B){if(B>f)throw new ie("size","<= 1GiB",B);return B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++,B}function v(B,V){return B<=0||V.length===0&&V.ended?0:(V.state&he)!==0?1:n(B)?V.flowing&&V.length?V.buffer.first().length:V.length:B<=V.length?B:V.ended?V.length:0}A.prototype.read=function(B){F("read",B),B===void 0?B=NaN:l(B)||(B=i(B,10));let V=this._readableState,Se=B;if(B>V.highWaterMark&&(V.highWaterMark=g(B)),B!==0&&(V.state&=~ee),B===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return F("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?Ke(this):L(this),null;if(B=v(B,V),B===0&&V.ended)return V.length===0&&Ke(this),null;let Te=(V.state&le)!==0;if(F("need readable",Te),(V.length===0||V.length-B<V.highWaterMark)&&(Te=!0,F("length less than watermark",Te)),V.ended||V.reading||V.destroyed||V.errored||!V.constructed)Te=!1,F("reading, ended or constructing",Te);else if(Te){F("do read"),V.state|=Ae|z,V.length===0&&(V.state|=le);try{this._read(V.highWaterMark)}catch(ht){D(this,ht)}V.state&=~z,V.reading||(B=v(Se,V))}let Ce;return B>0?Ce=Be(B,V):Ce=null,Ce===null?(V.needReadable=V.length<=V.highWaterMark,B=0):(V.length-=B,V.multiAwaitDrain?V.awaitDrainWriters.clear():V.awaitDrainWriters=null),V.length===0&&(V.ended||(V.needReadable=!0),Se!==B&&V.ended&&Ke(this)),Ce!==null&&!V.errorEmitted&&!V.closeEmitted&&(V.dataEmitted=!0,this.emit("data",Ce)),Ce};function _(B,V){if(F("onEofChunk"),!V.ended){if(V.decoder){let Se=V.decoder.end();Se&&Se.length&&(V.buffer.push(Se),V.length+=V.objectMode?1:Se.length)}V.ended=!0,V.sync?L(B):(V.needReadable=!1,V.emittedReadable=!0,Y(B))}}function L(B){let V=B._readableState;F("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(F("emitReadable",V.flowing),V.emittedReadable=!0,r.nextTick(Y,B))}function Y(B){let V=B._readableState;F("emitReadable_",V.destroyed,V.length,V.ended),!V.destroyed&&!V.errored&&(V.length||V.ended)&&(B.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,xt(B)}function we(B,V){!V.readingMore&&V.constructed&&(V.readingMore=!0,r.nextTick(ve,B,V))}function ve(B,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){let Se=V.length;if(F("maybeReadMore read 0"),B.read(0),Se===V.length)break}V.readingMore=!1}A.prototype._read=function(B){throw new $("_read()")},A.prototype.pipe=function(B,V){let Se=this,Te=this._readableState;Te.pipes.length===1&&(Te.multiAwaitDrain||(Te.multiAwaitDrain=!0,Te.awaitDrainWriters=new d(Te.awaitDrainWriters?[Te.awaitDrainWriters]:[]))),Te.pipes.push(B),F("pipe count=%d opts=%j",Te.pipes.length,V);let Ce=(!V||V.end!==!1)&&B!==r.stdout&&B!==r.stderr?Pt:wn;Te.endEmitted?r.nextTick(Ce):Se.once("end",Ce),B.on("unpipe",ht);function ht(jr,Qt){F("onunpipe"),jr===Se&&Qt&&Qt.hasUnpiped===!1&&(Qt.hasUnpiped=!0,Eh())}function Pt(){F("onend"),B.end()}let Nr,_a=!1;function Eh(){F("cleanup"),B.removeListener("close",Hi),B.removeListener("finish",$i),Nr&&B.removeListener("drain",Nr),B.removeListener("error",Wi),B.removeListener("unpipe",ht),Se.removeListener("end",Pt),Se.removeListener("end",wn),Se.removeListener("data",Sa),_a=!0,Nr&&Te.awaitDrainWriters&&(!B._writableState||B._writableState.needDrain)&&Nr()}function Ea(){_a||(Te.pipes.length===1&&Te.pipes[0]===B?(F("false write response, pause",0),Te.awaitDrainWriters=B,Te.multiAwaitDrain=!1):Te.pipes.length>1&&Te.pipes.includes(B)&&(F("false write response, pause",Te.awaitDrainWriters.size),Te.awaitDrainWriters.add(B)),Se.pause()),Nr||(Nr=xe(Se,B),B.on("drain",Nr))}Se.on("data",Sa);function Sa(jr){F("ondata");let Qt=B.write(jr);F("dest.write",Qt),Qt===!1&&Ea()}function Wi(jr){if(F("onerror",jr),wn(),B.removeListener("error",Wi),B.listenerCount("error")===0){let Qt=B._writableState||B._readableState;Qt&&!Qt.errorEmitted?D(B,jr):B.emit("error",jr)}}P(B,"error",Wi);function Hi(){B.removeListener("finish",$i),wn()}B.once("close",Hi);function $i(){F("onfinish"),B.removeListener("close",Hi),wn()}B.once("finish",$i);function wn(){F("unpipe"),Se.unpipe(B)}return B.emit("pipe",Se),B.writableNeedDrain===!0?Ea():Te.flowing||(F("pipe resume"),Se.resume()),B};function xe(B,V){return function(){let Se=B._readableState;Se.awaitDrainWriters===V?(F("pipeOnDrain",1),Se.awaitDrainWriters=null):Se.multiAwaitDrain&&(F("pipeOnDrain",Se.awaitDrainWriters.size),Se.awaitDrainWriters.delete(V)),(!Se.awaitDrainWriters||Se.awaitDrainWriters.size===0)&&B.listenerCount("data")&&B.resume()}}A.prototype.unpipe=function(B){let V=this._readableState,Se={hasUnpiped:!1};if(V.pipes.length===0)return this;if(!B){let Ce=V.pipes;V.pipes=[],this.pause();for(let ht=0;ht<Ce.length;ht++)Ce[ht].emit("unpipe",this,{hasUnpiped:!1});return this}let Te=s(V.pipes,B);return Te===-1?this:(V.pipes.splice(Te,1),V.pipes.length===0&&this.pause(),B.emit("unpipe",this,Se),this)},A.prototype.on=function(B,V){let Se=E.prototype.on.call(this,B,V),Te=this._readableState;return B==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):B==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,F("on readable",Te.length,Te.reading),Te.length?L(this):Te.reading||r.nextTick(Re,this)),Se},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(B,V){let Se=E.prototype.removeListener.call(this,B,V);return B==="readable"&&r.nextTick(Pe,this),Se},A.prototype.off=A.prototype.removeListener,A.prototype.removeAllListeners=function(B){let V=E.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&r.nextTick(Pe,this),V};function Pe(B){let V=B._readableState;V.readableListening=B.listenerCount("readable")>0,V.resumeScheduled&&V[ue]===!1?V.flowing=!0:B.listenerCount("data")>0?B.resume():V.readableListening||(V.flowing=null)}function Re(B){F("readable nexttick read 0"),B.read(0)}A.prototype.resume=function(){let B=this._readableState;return B.flowing||(F("resume"),B.flowing=!B.readableListening,Dt(this,B)),B[ue]=!1,this};function Dt(B,V){V.resumeScheduled||(V.resumeScheduled=!0,r.nextTick(At,B,V))}function At(B,V){F("resume",V.reading),V.reading||B.read(0),V.resumeScheduled=!1,B.emit("resume"),xt(B),V.flowing&&!V.reading&&B.read(0)}A.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ue]=!0,this};function xt(B){let V=B._readableState;for(F("flow",V.flowing);V.flowing&&B.read()!==null;);}A.prototype.wrap=function(B){let V=!1;B.on("data",Te=>{!this.push(Te)&&B.pause&&(V=!0,B.pause())}),B.on("end",()=>{this.push(null)}),B.on("error",Te=>{D(this,Te)}),B.on("close",()=>{this.destroy()}),B.on("destroy",()=>{this.destroy()}),this._read=()=>{V&&B.resume&&(V=!1,B.resume())};let Se=o(B);for(let Te=1;Te<Se.length;Te++){let Ce=Se[Te];this[Ce]===void 0&&typeof B[Ce]=="function"&&(this[Ce]=B[Ce].bind(B))}return this},A.prototype[y]=function(){return Ye(this)},A.prototype.iterator=function(B){return B!==void 0&&ce(B,"options"),Ye(this,B)};function Ye(B,V){typeof B.read!="function"&&(B=A.wrap(B,{objectMode:!0}));let Se=it(B,V);return Se.stream=B,Se}async function*it(B,V){let Se=de;function Te(Pt){this===B?(Se(),Se=de):Se=Pt}B.on("readable",Te);let Ce,ht=N(B,{writable:!1},Pt=>{Ce=Pt?oe(Ce,Pt):null,Se(),Se=de});try{for(;;){let Pt=B.destroyed?null:B.read();if(Pt!==null)yield Pt;else{if(Ce)throw Ce;if(Ce===null)return;await new h(Te)}}}catch(Pt){throw Ce=oe(Ce,Pt),Ce}finally{(Ce||(V==null?void 0:V.destroyOnReturn)!==!1)&&(Ce===void 0||B._readableState.autoDestroy)?j.destroyer(B,null):(B.off("readable",Te),ht())}}a(A.prototype,{readable:{__proto__:null,get(){let B=this._readableState;return!!B&&B.readable!==!1&&!B.destroyed&&!B.errorEmitted&&!B.endEmitted},set(B){this._readableState&&(this._readableState.readable=!!B)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(B){this._readableState&&(this._readableState.destroyed=B)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(C.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ue]!==!1},set(B){this[ue]=!!B}}}),A._fromList=Be;function Be(B,V){if(V.length===0)return null;let Se;return V.objectMode?Se=V.buffer.shift():!B||B>=V.length?(V.decoder?Se=V.buffer.join(""):V.buffer.length===1?Se=V.buffer.first():Se=V.buffer.concat(V.length),V.buffer.clear()):Se=V.buffer.consume(B,V.decoder),Se}function Ke(B){let V=B._readableState;F("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,r.nextTick(ct,V,B))}function ct(B,V){if(F("endReadableNT",B.endEmitted,B.length),!B.errored&&!B.closeEmitted&&!B.endEmitted&&B.length===0){if(B.endEmitted=!0,V.emit("end"),V.writable&&V.allowHalfOpen===!1)r.nextTick(nt,V);else if(B.autoDestroy){let Se=V._writableState;(!Se||Se.autoDestroy&&(Se.finished||Se.writable===!1))&&V.destroy()}}}function nt(B){B.writable&&!B.writableEnded&&!B.destroyed&&B.end()}A.from=function(B,V){return ne(A,B,V)};var bt;function br(){return bt===void 0&&(bt={}),bt}A.fromWeb=function(B,V){return br().newStreamReadableFromReadableStream(B,V)},A.toWeb=function(B,V){return br().newReadableStreamFromStreamReadable(B,V)},A.wrap=function(B,V){var Se,Te;return new A({objectMode:(Se=(Te=B.readableObjectMode)!==null&&Te!==void 0?Te:B.objectMode)!==null&&Se!==void 0?Se:!0,...V,destroy(Ce,ht){j.destroyer(B,Ce),ht(Ce)}}).wrap(B)}}),ma=_e((e,t)=>{ge(),ye(),me();var r=tn(),{ArrayPrototypeSlice:s,Error:l,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:h,SymbolHasInstance:d}=Ze();t.exports=ce,ce.WritableState=Z;var{EventEmitter:m}=(en(),qe(Br)),y=ga().Stream,{Buffer:b}=(at(),qe(ot)),T=yn(),{addAbortSignal:E}=Li(),{getHighWaterMark:P,getDefaultHighWaterMark:w}=Ni(),{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:F,ERR_STREAM_CANNOT_PIPE:M,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:K,ERR_STREAM_NULL_VALUES:se,ERR_STREAM_WRITE_AFTER_END:oe,ERR_UNKNOWN_ENCODING:fe}=St().codes,{errorOrDestroy:$}=T;o(ce.prototype,y.prototype),o(ce,y);function ie(){}var ae=h("kOnFinished");function Z(O,U,H){typeof H!="boolean"&&(H=U instanceof fr()),this.objectMode=!!(O&&O.objectMode),H&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?P(this,O,"writableHighWaterMark",H):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let X=!!(O&&O.decodeStrings===!1);this.decodeStrings=!X,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,U),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,pe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ae]=[]}function pe(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}Z.prototype.getBuffer=function(){return s(this.buffered,this.bufferedIndex)},i(Z.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ce(O){let U=this instanceof fr();if(!U&&!n(ce,this))return new ce(O);this._writableState=new Z(O,this,U),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&E(O.signal,this)),y.call(this,O),T.construct(this,()=>{let H=this._writableState;H.writing||Ae(this,H),ee(this,H)})}i(ce,d,{__proto__:null,value:function(O){return n(this,O)?!0:this!==ce?!1:O&&O._writableState instanceof Z}}),ce.prototype.pipe=function(){$(this,new M)};function ue(O,U,H,X){let J=O._writableState;if(typeof H=="function")X=H,H=J.defaultEncoding;else{if(!H)H=J.defaultEncoding;else if(H!=="buffer"&&!b.isEncoding(H))throw new fe(H);typeof X!="function"&&(X=ie)}if(U===null)throw new se;if(!J.objectMode)if(typeof U=="string")J.decodeStrings!==!1&&(U=b.from(U,H),H="buffer");else if(U instanceof b)H="buffer";else if(y._isUint8Array(U))U=y._uint8ArrayToBuffer(U),H="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],U);let x;return J.ending?x=new oe:J.destroyed&&(x=new j("write")),x?(r.nextTick(X,x),$(O,x,!0),x):(J.pendingcb++,Ee(O,J,U,H,X))}ce.prototype.write=function(O,U,H){return ue(this,O,U,H)===!0},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||Ae(this,O))},ce.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=u(O)),!b.isEncoding(O))throw new fe(O);return this._writableState.defaultEncoding=O,this};function Ee(O,U,H,X,J){let x=U.objectMode?1:H.length;U.length+=x;let p=U.length<U.highWaterMark;return p||(U.needDrain=!0),U.writing||U.corked||U.errored||!U.constructed?(U.buffered.push({chunk:H,encoding:X,callback:J}),U.allBuffers&&X!=="buffer"&&(U.allBuffers=!1),U.allNoop&&J!==ie&&(U.allNoop=!1)):(U.writelen=x,U.writecb=J,U.writing=!0,U.sync=!0,O._write(H,X,U.onwrite),U.sync=!1),p&&!U.errored&&!U.destroyed}function ne(O,U,H,X,J,x,p){U.writelen=X,U.writecb=p,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new j("write")):H?O._writev(J,U.onwrite):O._write(J,x,U.onwrite),U.sync=!1}function de(O,U,H,X){--U.pendingcb,X(H),Q(U),$(O,H)}function D(O,U){let H=O._writableState,X=H.sync,J=H.writecb;if(typeof J!="function"){$(O,new F);return}H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0,U?(U.stack,H.errored||(H.errored=U),O._readableState&&!O._readableState.errored&&(O._readableState.errored=U),X?r.nextTick(de,O,H,U,J):de(O,H,U,J)):(H.buffered.length>H.bufferedIndex&&Ae(O,H),X?H.afterWriteTickInfo!==null&&H.afterWriteTickInfo.cb===J?H.afterWriteTickInfo.count++:(H.afterWriteTickInfo={count:1,cb:J,stream:O,state:H},r.nextTick(he,H.afterWriteTickInfo)):be(O,H,1,J))}function he({stream:O,state:U,count:H,cb:X}){return U.afterWriteTickInfo=null,be(O,U,H,X)}function be(O,U,H,X){for(!U.ending&&!O.destroyed&&U.length===0&&U.needDrain&&(U.needDrain=!1,O.emit("drain"));H-- >0;)U.pendingcb--,X();U.destroyed&&Q(U),ee(O,U)}function Q(O){if(O.writing)return;for(let J=O.bufferedIndex;J<O.buffered.length;++J){var U;let{chunk:x,callback:p}=O.buffered[J],S=O.objectMode?1:x.length;O.length-=S,p((U=O.errored)!==null&&U!==void 0?U:new j("write"))}let H=O[ae].splice(0);for(let J=0;J<H.length;J++){var X;H[J]((X=O.errored)!==null&&X!==void 0?X:new j("end"))}pe(O)}function Ae(O,U){if(U.corked||U.bufferProcessing||U.destroyed||!U.constructed)return;let{buffered:H,bufferedIndex:X,objectMode:J}=U,x=H.length-X;if(!x)return;let p=X;if(U.bufferProcessing=!0,x>1&&O._writev){U.pendingcb-=x-1;let S=U.allNoop?ie:A=>{for(let G=p;G<H.length;++G)H[G].callback(A)},C=U.allNoop&&p===0?H:s(H,p);C.allBuffers=U.allBuffers,ne(O,U,!0,U.length,C,"",S),pe(U)}else{do{let{chunk:S,encoding:C,callback:A}=H[p];H[p++]=null;let G=J?1:S.length;ne(O,U,!1,G,S,C,A)}while(p<H.length&&!U.writing);p===H.length?pe(U):p>256?(H.splice(0,p),U.bufferedIndex=0):U.bufferedIndex=p}U.bufferProcessing=!1}ce.prototype._write=function(O,U,H){if(this._writev)this._writev([{chunk:O,encoding:U}],H);else throw new N("_write()")},ce.prototype._writev=null,ce.prototype.end=function(O,U,H){let X=this._writableState;typeof O=="function"?(H=O,O=null,U=null):typeof U=="function"&&(H=U,U=null);let J;if(O!=null){let x=ue(this,O,U);x instanceof l&&(J=x)}return X.corked&&(X.corked=1,this.uncork()),J||(!X.errored&&!X.ending?(X.ending=!0,ee(this,X,!0),X.ended=!0):X.finished?J=new K("end"):X.destroyed&&(J=new j("end"))),typeof H=="function"&&(J||X.finished?r.nextTick(H,J):X[ae].push(H)),this};function re(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function z(O,U){let H=!1;function X(J){if(H){$(O,J??F());return}if(H=!0,U.pendingcb--,J){let x=U[ae].splice(0);for(let p=0;p<x.length;p++)x[p](J);$(O,J,U.sync)}else re(U)&&(U.prefinished=!0,O.emit("prefinish"),U.pendingcb++,r.nextTick(te,O,U))}U.sync=!0,U.pendingcb++;try{O._final(X)}catch(J){X(J)}U.sync=!1}function le(O,U){!U.prefinished&&!U.finalCalled&&(typeof O._final=="function"&&!U.destroyed?(U.finalCalled=!0,z(O,U)):(U.prefinished=!0,O.emit("prefinish")))}function ee(O,U,H){re(U)&&(le(O,U),U.pendingcb===0&&(H?(U.pendingcb++,r.nextTick((X,J)=>{re(J)?te(X,J):J.pendingcb--},O,U)):re(U)&&(U.pendingcb++,te(O,U))))}function te(O,U){U.pendingcb--,U.finished=!0;let H=U[ae].splice(0);for(let X=0;X<H.length;X++)H[X]();if(O.emit("finish"),U.autoDestroy){let X=O._readableState;(!X||X.autoDestroy&&(X.endEmitted||X.readable===!1))&&O.destroy()}}a(ce.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var I=T.destroy;ce.prototype.destroy=function(O,U){let H=this._writableState;return!H.destroyed&&(H.bufferedIndex<H.buffered.length||H[ae].length)&&r.nextTick(Q,H),I.call(this,O,U),this},ce.prototype._undestroy=T.undestroy,ce.prototype._destroy=function(O,U){U(O)},ce.prototype[m.captureRejectionSymbol]=function(O){this.destroy(O)};var R;function W(){return R===void 0&&(R={}),R}ce.fromWeb=function(O,U){return W().newStreamWritableFromWritableStream(O,U)},ce.toWeb=function(O){return W().newWritableStreamFromStreamWritable(O)}}),Dp=_e((e,t)=>{ge(),ye(),me();var r=tn(),s=(at(),qe(ot)),{isReadable:l,isWritable:n,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:m}=gr(),y=Lr(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:T,ERR_INVALID_RETURN_VALUE:E}}=St(),{destroyer:P}=yn(),w=fr(),k=ji(),N=ma(),{createDeferredPromise:F}=It(),M=cc(),j=globalThis.Blob||s.Blob,K=typeof j<"u"?function(ae){return ae instanceof j}:function(ae){return!1},se=globalThis.AbortController||Fn().AbortController,{FunctionPrototypeCall:oe}=Ze(),fe=class extends w{constructor(ae){super(ae),(ae==null?void 0:ae.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ae==null?void 0:ae.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function ae(Z,pe){if(h(Z))return Z;if(o(Z))return ie({readable:Z});if(u(Z))return ie({writable:Z});if(a(Z))return ie({writable:!1,readable:!1});if(d(Z))return ie({readable:k.fromWeb(Z)});if(m(Z))return ie({writable:N.fromWeb(Z)});if(typeof Z=="function"){let{value:ue,write:Ee,final:ne,destroy:de}=$(Z);if(i(ue))return M(fe,ue,{objectMode:!0,write:Ee,final:ne,destroy:de});let D=ue==null?void 0:ue.then;if(typeof D=="function"){let he,be=oe(D,ue,Q=>{if(Q!=null)throw new E("nully","body",Q)},Q=>{P(he,Q)});return he=new fe({objectMode:!0,readable:!1,write:Ee,final(Q){ne(async()=>{try{await be,r.nextTick(Q,null)}catch(Ae){r.nextTick(Q,Ae)}})},destroy:de})}throw new E("Iterable, AsyncIterable or AsyncFunction",pe,ue)}if(K(Z))return ae(Z.arrayBuffer());if(i(Z))return M(fe,Z,{objectMode:!0,writable:!1});if(d(Z==null?void 0:Z.readable)&&m(Z==null?void 0:Z.writable))return fe.fromWeb(Z);if(typeof(Z==null?void 0:Z.writable)=="object"||typeof(Z==null?void 0:Z.readable)=="object"){let ue=Z!=null&&Z.readable?o(Z==null?void 0:Z.readable)?Z==null?void 0:Z.readable:ae(Z.readable):void 0,Ee=Z!=null&&Z.writable?u(Z==null?void 0:Z.writable)?Z==null?void 0:Z.writable:ae(Z.writable):void 0;return ie({readable:ue,writable:Ee})}let ce=Z==null?void 0:Z.then;if(typeof ce=="function"){let ue;return oe(ce,Z,Ee=>{Ee!=null&&ue.push(Ee),ue.push(null)},Ee=>{P(ue,Ee)}),ue=new fe({objectMode:!0,writable:!1,read(){}})}throw new T(pe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Z)};function $(ae){let{promise:Z,resolve:pe}=F(),ce=new se,ue=ce.signal;return{value:ae(async function*(){for(;;){let Ee=Z;Z=null;let{chunk:ne,done:de,cb:D}=await Ee;if(r.nextTick(D),de)return;if(ue.aborted)throw new b(void 0,{cause:ue.reason});({promise:Z,resolve:pe}=F()),yield ne}}(),{signal:ue}),write(Ee,ne,de){let D=pe;pe=null,D({chunk:Ee,done:!1,cb:de})},final(Ee){let ne=pe;pe=null,ne({done:!0,cb:Ee})},destroy(Ee,ne){ce.abort(),ne(Ee)}}}function ie(ae){let Z=ae.readable&&typeof ae.readable.read!="function"?k.wrap(ae.readable):ae.readable,pe=ae.writable,ce=!!l(Z),ue=!!n(pe),Ee,ne,de,D,he;function be(Q){let Ae=D;D=null,Ae?Ae(Q):Q&&he.destroy(Q)}return he=new fe({readableObjectMode:!!(Z!=null&&Z.readableObjectMode),writableObjectMode:!!(pe!=null&&pe.writableObjectMode),readable:ce,writable:ue}),ue&&(y(pe,Q=>{ue=!1,Q&&P(Z,Q),be(Q)}),he._write=function(Q,Ae,re){pe.write(Q,Ae)?re():Ee=re},he._final=function(Q){pe.end(),ne=Q},pe.on("drain",function(){if(Ee){let Q=Ee;Ee=null,Q()}}),pe.on("finish",function(){if(ne){let Q=ne;ne=null,Q()}})),ce&&(y(Z,Q=>{ce=!1,Q&&P(Z,Q),be(Q)}),Z.on("readable",function(){if(de){let Q=de;de=null,Q()}}),Z.on("end",function(){he.push(null)}),he._read=function(){for(;;){let Q=Z.read();if(Q===null){de=he._read;return}if(!he.push(Q))return}}),he._destroy=function(Q,Ae){!Q&&D!==null&&(Q=new b),de=null,Ee=null,ne=null,D===null?Ae(Q):(D=Ae,P(pe,Q),P(Z,Q))},he}}),fr=_e((e,t)=>{ge(),ye(),me();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:l,ObjectSetPrototypeOf:n}=Ze();t.exports=o;var i=ji(),a=ma();n(o.prototype,i.prototype),n(o,i);{let m=l(a.prototype);for(let y=0;y<m.length;y++){let b=m[y];o.prototype[b]||(o.prototype[b]=a.prototype[b])}}function o(m){if(!(this instanceof o))return new o(m);i.call(this,m),a.call(this,m),m?(this.allowHalfOpen=m.allowHalfOpen!==!1,m.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),m.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(o.prototype,{writable:{__proto__:null,...s(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(a.prototype,"writableLength")},writableFinished:{__proto__:null,...s(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(m){this._readableState&&this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}});var u;function h(){return u===void 0&&(u={}),u}o.fromWeb=function(m,y){return h().newStreamDuplexFromReadableWritablePair(m,y)},o.toWeb=function(m){return h().newReadableWritablePairFromDuplex(m)};var d;o.from=function(m){return d||(d=Dp()),d(m,"body")}}),hc=_e((e,t)=>{ge(),ye(),me();var{ObjectSetPrototypeOf:r,Symbol:s}=Ze();t.exports=o;var{ERR_METHOD_NOT_IMPLEMENTED:l}=St().codes,n=fr(),{getHighWaterMark:i}=Ni();r(o.prototype,n.prototype),r(o,n);var a=s("kCallback");function o(d){if(!(this instanceof o))return new o(d);let m=d?i(this,d,"readableHighWaterMark",!0):null;m===0&&(d={...d,highWaterMark:null,readableHighWaterMark:m,writableHighWaterMark:d.writableHighWaterMark||0}),n.call(this,d),this._readableState.sync=!1,this[a]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",h)}function u(d){typeof this._flush=="function"&&!this.destroyed?this._flush((m,y)=>{if(m){d?d(m):this.destroy(m);return}y!=null&&this.push(y),this.push(null),d&&d()}):(this.push(null),d&&d())}function h(){this._final!==u&&u.call(this)}o.prototype._final=u,o.prototype._transform=function(d,m,y){throw new l("_transform()")},o.prototype._write=function(d,m,y){let b=this._readableState,T=this._writableState,E=b.length;this._transform(d,m,(P,w)=>{if(P){y(P);return}w!=null&&this.push(w),T.ended||E===b.length||b.length<b.highWaterMark?y():this[a]=y})},o.prototype._read=function(){if(this[a]){let d=this[a];this[a]=null,d()}}}),fc=_e((e,t)=>{ge(),ye(),me();var{ObjectSetPrototypeOf:r}=Ze();t.exports=l;var s=hc();r(l.prototype,s.prototype),r(l,s);function l(n){if(!(this instanceof l))return new l(n);s.call(this,n)}l.prototype._transform=function(n,i,a){a(null,n)}}),ya=_e((e,t)=>{ge(),ye(),me();var r=tn(),{ArrayIsArray:s,Promise:l,SymbolAsyncIterator:n,SymbolDispose:i}=Ze(),a=Lr(),{once:o}=It(),u=yn(),h=fr(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:T,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:P}=St(),{validateFunction:w,validateAbortSignal:k}=$n(),{isIterable:N,isReadable:F,isReadableNodeStream:M,isNodeStream:j,isTransformStream:K,isWebStream:se,isReadableStream:oe,isReadableFinished:fe}=gr(),$=globalThis.AbortController||Fn().AbortController,ie,ae,Z;function pe(Q,Ae,re){let z=!1;Q.on("close",()=>{z=!0});let le=a(Q,{readable:Ae,writable:re},ee=>{z=!ee});return{destroy:ee=>{z||(z=!0,u.destroyer(Q,ee||new T("pipe")))},cleanup:le}}function ce(Q){return w(Q[Q.length-1],"streams[stream.length - 1]"),Q.pop()}function ue(Q){if(N(Q))return Q;if(M(Q))return Ee(Q);throw new m("val",["Readable","Iterable","AsyncIterable"],Q)}async function*Ee(Q){ae||(ae=ji()),yield*ae.prototype[n].call(Q)}async function ne(Q,Ae,re,{end:z}){let le,ee=null,te=W=>{if(W&&(le=W),ee){let O=ee;ee=null,O()}},I=()=>new l((W,O)=>{le?O(le):ee=()=>{le?O(le):W()}});Ae.on("drain",te);let R=a(Ae,{readable:!1},te);try{Ae.writableNeedDrain&&await I();for await(let W of Q)Ae.write(W)||await I();z&&(Ae.end(),await I()),re()}catch(W){re(le!==W?d(le,W):W)}finally{R(),Ae.off("drain",te)}}async function de(Q,Ae,re,{end:z}){K(Ae)&&(Ae=Ae.writable);let le=Ae.getWriter();try{for await(let ee of Q)await le.ready,le.write(ee).catch(()=>{});await le.ready,z&&await le.close(),re()}catch(ee){try{await le.abort(ee),re(ee)}catch(te){re(te)}}}function D(...Q){return he(Q,o(ce(Q)))}function he(Q,Ae,re){if(Q.length===1&&s(Q[0])&&(Q=Q[0]),Q.length<2)throw new b("streams");let z=new $,le=z.signal,ee=re==null?void 0:re.signal,te=[];k(ee,"options.signal");function I(){J(new P)}Z=Z||It().addAbortListener;let R;ee&&(R=Z(ee,I));let W,O,U=[],H=0;function X(C){J(C,--H===0)}function J(C,A){var G;if(C&&(!W||W.code==="ERR_STREAM_PREMATURE_CLOSE")&&(W=C),!(!W&&!A)){for(;U.length;)U.shift()(W);(G=R)===null||G===void 0||G[i](),z.abort(),A&&(W||te.forEach(c=>c()),r.nextTick(Ae,W,O))}}let x;for(let C=0;C<Q.length;C++){let A=Q[C],G=C<Q.length-1,c=C>0,f=G||(re==null?void 0:re.end)!==!1,g=C===Q.length-1;if(j(A)){let v=function(_){_&&_.name!=="AbortError"&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"&&X(_)};if(f){let{destroy:_,cleanup:L}=pe(A,G,c);U.push(_),F(A)&&g&&te.push(L)}A.on("error",v),F(A)&&g&&te.push(()=>{A.removeListener("error",v)})}if(C===0)if(typeof A=="function"){if(x=A({signal:le}),!N(x))throw new y("Iterable, AsyncIterable or Stream","source",x)}else N(A)||M(A)||K(A)?x=A:x=h.from(A);else if(typeof A=="function"){if(K(x)){var p;x=ue((p=x)===null||p===void 0?void 0:p.readable)}else x=ue(x);if(x=A(x,{signal:le}),G){if(!N(x,!0))throw new y("AsyncIterable",`transform[${C-1}]`,x)}else{var S;ie||(ie=fc());let v=new ie({objectMode:!0}),_=(S=x)===null||S===void 0?void 0:S.then;if(typeof _=="function")H++,_.call(x,we=>{O=we,we!=null&&v.write(we),f&&v.end(),r.nextTick(X)},we=>{v.destroy(we),r.nextTick(X,we)});else if(N(x,!0))H++,ne(x,v,X,{end:f});else if(oe(x)||K(x)){let we=x.readable||x;H++,ne(we,v,X,{end:f})}else throw new y("AsyncIterable or Promise","destination",x);x=v;let{destroy:L,cleanup:Y}=pe(x,!1,!0);U.push(L),g&&te.push(Y)}}else if(j(A)){if(M(x)){H+=2;let v=be(x,A,X,{end:f});F(A)&&g&&te.push(v)}else if(K(x)||oe(x)){let v=x.readable||x;H++,ne(v,A,X,{end:f})}else if(N(x))H++,ne(x,A,X,{end:f});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);x=A}else if(se(A)){if(M(x))H++,de(ue(x),A,X,{end:f});else if(oe(x)||N(x))H++,de(x,A,X,{end:f});else if(K(x))H++,de(x.readable,A,X,{end:f});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x);x=A}else x=h.from(A)}return(le!=null&&le.aborted||ee!=null&&ee.aborted)&&r.nextTick(I),x}function be(Q,Ae,re,{end:z}){let le=!1;if(Ae.on("close",()=>{le||re(new E)}),Q.pipe(Ae,{end:!1}),z){let ee=function(){le=!0,Ae.end()};fe(Q)?r.nextTick(ee):Q.once("end",ee)}else re();return a(Q,{readable:!0,writable:!1},ee=>{let te=Q._readableState;ee&&ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?Q.once("end",re).once("error",re):re(ee)}),a(Ae,{readable:!1,writable:!0},re)}t.exports={pipelineImpl:he,pipeline:D}}),dc=_e((e,t)=>{ge(),ye(),me();var{pipeline:r}=ya(),s=fr(),{destroyer:l}=yn(),{isNodeStream:n,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:u,isWritableStream:h,isReadableStream:d}=gr(),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:b}}=St(),T=Lr();t.exports=function(...E){if(E.length===0)throw new b("streams");if(E.length===1)return s.from(E[0]);let P=[...E];if(typeof E[0]=="function"&&(E[0]=s.from(E[0])),typeof E[E.length-1]=="function"){let $=E.length-1;E[$]=s.from(E[$])}for(let $=0;$<E.length;++$)if(!(!n(E[$])&&!o(E[$]))){if($<E.length-1&&!(i(E[$])||d(E[$])||u(E[$])))throw new y(`streams[${$}]`,P[$],"must be readable");if($>0&&!(a(E[$])||h(E[$])||u(E[$])))throw new y(`streams[${$}]`,P[$],"must be writable")}let w,k,N,F,M;function j($){let ie=F;F=null,ie?ie($):$?M.destroy($):!fe&&!oe&&M.destroy()}let K=E[0],se=r(E,j),oe=!!(a(K)||h(K)||u(K)),fe=!!(i(se)||d(se)||u(se));if(M=new s({writableObjectMode:!!(K!=null&&K.writableObjectMode),readableObjectMode:!!(se!=null&&se.readableObjectMode),writable:oe,readable:fe}),oe){if(n(K))M._write=function(ie,ae,Z){K.write(ie,ae)?Z():w=Z},M._final=function(ie){K.end(),k=ie},K.on("drain",function(){if(w){let ie=w;w=null,ie()}});else if(o(K)){let ie=(u(K)?K.writable:K).getWriter();M._write=async function(ae,Z,pe){try{await ie.ready,ie.write(ae).catch(()=>{}),pe()}catch(ce){pe(ce)}},M._final=async function(ae){try{await ie.ready,ie.close().catch(()=>{}),k=ae}catch(Z){ae(Z)}}}let $=u(se)?se.readable:se;T($,()=>{if(k){let ie=k;k=null,ie()}})}if(fe){if(n(se))se.on("readable",function(){if(N){let $=N;N=null,$()}}),se.on("end",function(){M.push(null)}),M._read=function(){for(;;){let $=se.read();if($===null){N=M._read;return}if(!M.push($))return}};else if(o(se)){let $=(u(se)?se.readable:se).getReader();M._read=async function(){for(;;)try{let{value:ie,done:ae}=await $.read();if(!M.push(ie))return;if(ae){M.push(null);return}}catch{return}}}}return M._destroy=function($,ie){!$&&F!==null&&($=new m),N=null,w=null,k=null,F===null?ie($):(F=ie,n(se)&&l(se,$))},M}}),Fp=_e((e,t)=>{ge(),ye(),me();var r=globalThis.AbortController||Fn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:l,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:a}=St(),{validateAbortSignal:o,validateInteger:u,validateObject:h}=$n(),d=Ze().Symbol("kWeak"),m=Ze().Symbol("kResistStopPropagation"),{finished:y}=Lr(),b=dc(),{addAbortSignalNoValidate:T}=Li(),{isWritable:E,isNodeStream:P}=gr(),{deprecate:w}=It(),{ArrayPrototypePush:k,Boolean:N,MathFloor:F,Number:M,NumberIsNaN:j,Promise:K,PromiseReject:se,PromiseResolve:oe,PromisePrototypeThen:fe,Symbol:$}=Ze(),ie=$("kEmpty"),ae=$("kEof");function Z(ee,te){if(te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),P(ee)&&!E(ee))throw new s("stream",ee,"must be writable");let I=b(this,ee);return te!=null&&te.signal&&T(te.signal,I),I}function pe(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal");let I=1;(te==null?void 0:te.concurrency)!=null&&(I=F(te.concurrency));let R=I-1;return(te==null?void 0:te.highWaterMark)!=null&&(R=F(te.highWaterMark)),u(I,"options.concurrency",1),u(R,"options.highWaterMark",0),R+=I,(async function*(){let W=It().AbortSignalAny([te==null?void 0:te.signal].filter(N)),O=this,U=[],H={signal:W},X,J,x=!1,p=0;function S(){x=!0,C()}function C(){p-=1,A()}function A(){J&&!x&&p<I&&U.length<R&&(J(),J=null)}async function G(){try{for await(let c of O){if(x)return;if(W.aborted)throw new a;try{if(c=ee(c,H),c===ie)continue;c=oe(c)}catch(f){c=se(f)}p+=1,fe(c,C,S),U.push(c),X&&(X(),X=null),!x&&(U.length>=R||p>=I)&&await new K(f=>{J=f})}U.push(ae)}catch(c){let f=se(c);fe(f,C,S),U.push(f)}finally{x=!0,X&&(X(),X=null)}}G();try{for(;;){for(;U.length>0;){let c=await U[0];if(c===ae)return;if(W.aborted)throw new a;c!==ie&&(yield c),U.shift(),A()}await new K(c=>{X=c})}}finally{x=!0,J&&(J(),J=null)}}).call(this)}function ce(ee=void 0){return ee!=null&&h(ee,"options"),(ee==null?void 0:ee.signal)!=null&&o(ee.signal,"options.signal"),(async function*(){let te=0;for await(let R of this){var I;if(ee!=null&&(I=ee.signal)!==null&&I!==void 0&&I.aborted)throw new a({cause:ee.signal.reason});yield[te++,R]}}).call(this)}async function ue(ee,te=void 0){for await(let I of D.call(this,ee,te))return!0;return!1}async function Ee(ee,te=void 0){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);return!await ue.call(this,async(...I)=>!await ee(...I),te)}async function ne(ee,te){for await(let I of D.call(this,ee,te))return I}async function de(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);async function I(R,W){return await ee(R,W),ie}for await(let R of pe.call(this,I,te));}function D(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);async function I(R,W){return await ee(R,W)?R:ie}return pe.call(this,I,te)}var he=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(ee,te,I){var R;if(typeof ee!="function")throw new l("reducer",["Function","AsyncFunction"],ee);I!=null&&h(I,"options"),(I==null?void 0:I.signal)!=null&&o(I.signal,"options.signal");let W=arguments.length>1;if(I!=null&&(R=I.signal)!==null&&R!==void 0&&R.aborted){let J=new a(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await y(this.destroy(J)),J}let O=new r,U=O.signal;if(I!=null&&I.signal){let J={once:!0,[d]:this,[m]:!0};I.signal.addEventListener("abort",()=>O.abort(),J)}let H=!1;try{for await(let J of this){var X;if(H=!0,I!=null&&(X=I.signal)!==null&&X!==void 0&&X.aborted)throw new a;W?te=await ee(te,J,{signal:U}):(te=J,W=!0)}if(!H&&!W)throw new he}finally{O.abort()}return te}async function Q(ee){ee!=null&&h(ee,"options"),(ee==null?void 0:ee.signal)!=null&&o(ee.signal,"options.signal");let te=[];for await(let R of this){var I;if(ee!=null&&(I=ee.signal)!==null&&I!==void 0&&I.aborted)throw new a(void 0,{cause:ee.signal.reason});k(te,R)}return te}function Ae(ee,te){let I=pe.call(this,ee,te);return(async function*(){for await(let R of I)yield*R}).call(this)}function re(ee){if(ee=M(ee),j(ee))return 0;if(ee<0)throw new i("number",">= 0",ee);return ee}function z(ee,te=void 0){return te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),ee=re(ee),(async function*(){var I;if(te!=null&&(I=te.signal)!==null&&I!==void 0&&I.aborted)throw new a;for await(let W of this){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;ee--<=0&&(yield W)}}).call(this)}function le(ee,te=void 0){return te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&o(te.signal,"options.signal"),ee=re(ee),(async function*(){var I;if(te!=null&&(I=te.signal)!==null&&I!==void 0&&I.aborted)throw new a;for await(let W of this){var R;if(te!=null&&(R=te.signal)!==null&&R!==void 0&&R.aborted)throw new a;if(ee-- >0&&(yield W),ee<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:w(ce,"readable.asIndexedPairs will be removed in a future version."),drop:z,filter:D,flatMap:Ae,map:pe,take:le,compose:Z},t.exports.promiseReturningOperators={every:Ee,forEach:de,reduce:be,toArray:Q,some:ue,find:ne}}),pc=_e((e,t)=>{ge(),ye(),me();var{ArrayPrototypePop:r,Promise:s}=Ze(),{isIterable:l,isNodeStream:n,isWebStream:i}=gr(),{pipelineImpl:a}=ya(),{finished:o}=Lr();gc();function u(...h){return new s((d,m)=>{let y,b,T=h[h.length-1];if(T&&typeof T=="object"&&!n(T)&&!l(T)&&!i(T)){let E=r(h);y=E.signal,b=E.end}a(h,(E,P)=>{E?m(E):d(P)},{signal:y,end:b})})}t.exports={finished:o,pipeline:u}}),gc=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(at(),qe(ot)),{ObjectDefineProperty:s,ObjectKeys:l,ReflectApply:n}=Ze(),{promisify:{custom:i}}=It(),{streamReturningOperators:a,promiseReturningOperators:o}=Fp(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=St(),h=dc(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:m}=Ni(),{pipeline:y}=ya(),{destroyer:b}=yn(),T=Lr(),E=pc(),P=gr(),w=t.exports=ga().Stream;w.isDestroyed=P.isDestroyed,w.isDisturbed=P.isDisturbed,w.isErrored=P.isErrored,w.isReadable=P.isReadable,w.isWritable=P.isWritable,w.Readable=ji();for(let N of l(a)){let F=function(...j){if(new.target)throw u();return w.Readable.from(n(M,this,j))},M=a[N];s(F,"name",{__proto__:null,value:M.name}),s(F,"length",{__proto__:null,value:M.length}),s(w.Readable.prototype,N,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}for(let N of l(o)){let F=function(...j){if(new.target)throw u();return n(M,this,j)},M=o[N];s(F,"name",{__proto__:null,value:M.name}),s(F,"length",{__proto__:null,value:M.length}),s(w.Readable.prototype,N,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}w.Writable=ma(),w.Duplex=fr(),w.Transform=hc(),w.PassThrough=fc(),w.pipeline=y;var{addAbortSignal:k}=Li();w.addAbortSignal=k,w.finished=T,w.destroy=b,w.compose=h,w.setDefaultHighWaterMark=d,w.getDefaultHighWaterMark=m,s(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),s(y,i,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),s(T,i,{__proto__:null,enumerable:!0,get(){return E.finished}}),w.Stream=w,w._isUint8Array=function(N){return N instanceof Uint8Array},w._uint8ArrayToBuffer=function(N){return r.from(N.buffer,N.byteOffset,N.byteLength)}}),rn=_e((e,t)=>{ge(),ye(),me();var r=gc(),s=pc(),l=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=l,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return s}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),Wp=_e((e,t)=>{ge(),ye(),me(),typeof Object.create=="function"?t.exports=function(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,s){if(s){r.super_=s;var l=function(){};l.prototype=s.prototype,r.prototype=new l,r.prototype.constructor=r}}}),Hp=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(at(),qe(ot)),s=Symbol.for("BufferList");function l(n){if(!(this instanceof l))return new l(n);l._init.call(this,n)}l._init=function(n){Object.defineProperty(this,s,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},l.prototype._new=function(n){return new l(n)},l.prototype._offset=function(n){if(n===0)return[0,0];let i=0;for(let a=0;a<this._bufs.length;a++){let o=i+this._bufs[a].length;if(n<o||a===this._bufs.length-1)return[a,n-i];i=o}},l.prototype._reverseOffset=function(n){let i=n[0],a=n[1];for(let o=0;o<i;o++)a+=this._bufs[o].length;return a},l.prototype.get=function(n){if(n>this.length||n<0)return;let i=this._offset(n);return this._bufs[i[0]][i[1]]},l.prototype.slice=function(n,i){return typeof n=="number"&&n<0&&(n+=this.length),typeof i=="number"&&i<0&&(i+=this.length),this.copy(null,0,n,i)},l.prototype.copy=function(n,i,a,o){if((typeof a!="number"||a<0)&&(a=0),(typeof o!="number"||o>this.length)&&(o=this.length),a>=this.length||o<=0)return n||r.alloc(0);let u=!!n,h=this._offset(a),d=o-a,m=d,y=u&&i||0,b=h[1];if(a===0&&o===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let T=0;T<this._bufs.length;T++)this._bufs[T].copy(n,y),y+=this._bufs[T].length;return n}if(m<=this._bufs[h[0]].length-b)return u?this._bufs[h[0]].copy(n,i,b,b+m):this._bufs[h[0]].slice(b,b+m);u||(n=r.allocUnsafe(d));for(let T=h[0];T<this._bufs.length;T++){let E=this._bufs[T].length-b;if(m>E)this._bufs[T].copy(n,y,b),y+=E;else{this._bufs[T].copy(n,y,b,b+m),y+=E;break}m-=E,b&&(b=0)}return n.length>y?n.slice(0,y):n},l.prototype.shallowSlice=function(n,i){if(n=n||0,i=typeof i!="number"?this.length:i,n<0&&(n+=this.length),i<0&&(i+=this.length),n===i)return this._new();let a=this._offset(n),o=this._offset(i),u=this._bufs.slice(a[0],o[0]+1);return o[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,o[1]),a[1]!==0&&(u[0]=u[0].slice(a[1])),this._new(u)},l.prototype.toString=function(n,i,a){return this.slice(i,a).toString(n)},l.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},l.prototype.duplicate=function(){let n=this._new();for(let i=0;i<this._bufs.length;i++)n.append(this._bufs[i]);return n},l.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(r.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let i=0;i<n.length;i++)this.append(n[i]);else if(this._isBufferList(n))for(let i=0;i<n._bufs.length;i++)this.append(n._bufs[i]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(r.from(n));return this},l.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},l.prototype.indexOf=function(n,i,a){if(a===void 0&&typeof i=="string"&&(a=i,i=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=r.from([n]):typeof n=="string"?n=r.from(n,a):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=r.from(n.buffer,n.byteOffset,n.byteLength):r.isBuffer(n)||(n=r.from(n)),i=Number(i||0),isNaN(i)&&(i=0),i<0&&(i=this.length+i),i<0&&(i=0),n.length===0)return i>this.length?this.length:i;let o=this._offset(i),u=o[0],h=o[1];for(;u<this._bufs.length;u++){let d=this._bufs[u];for(;h<d.length;)if(d.length-h>=n.length){let m=d.indexOf(n,h);if(m!==-1)return this._reverseOffset([u,m]);h=d.length-n.length+1}else{let m=this._reverseOffset([u,h]);if(this._match(m,n))return m;h++}h=0}return-1},l.prototype._match=function(n,i){if(this.length-n<i.length)return!1;for(let a=0;a<i.length;a++)if(this.get(n+a)!==i[a])return!1;return!0},function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let i in n)(function(a){n[a]===null?l.prototype[a]=function(o,u){return this.slice(o,o+u)[a](0,u)}:l.prototype[a]=function(o=0){return this.slice(o,o+n[a])[a](0)}})(i)}(),l.prototype._isBufferList=function(n){return n instanceof l||l.isBufferList(n)},l.isBufferList=function(n){return n!=null&&n[s]},t.exports=l}),$p=_e((e,t)=>{ge(),ye(),me();var r=rn().Duplex,s=Wp(),l=Hp();function n(i){if(!(this instanceof n))return new n(i);if(typeof i=="function"){this._callback=i;let a=(function(o){this._callback&&(this._callback(o),this._callback=null)}).bind(this);this.on("pipe",function(o){o.on("error",a)}),this.on("unpipe",function(o){o.removeListener("error",a)}),i=null}l._init.call(this,i),r.call(this)}s(n,r),Object.assign(n.prototype,l.prototype),n.prototype._new=function(i){return new n(i)},n.prototype._write=function(i,a,o){this._appendBuffer(i),typeof o=="function"&&o()},n.prototype._read=function(i){if(!this.length)return this.push(null);i=Math.min(i,this.length),this.push(this.slice(0,i)),this.consume(i)},n.prototype.end=function(i){r.prototype.end.call(this,i),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(i,a){this._bufs.length=0,this.length=0,a(i)},n.prototype._isBufferList=function(i){return i instanceof n||i instanceof l||n.isBufferList(i)},n.isBufferList=l.isBufferList,t.exports=n,t.exports.BufferListStream=n,t.exports.BufferList=l}),qp=_e((e,t)=>{ge(),ye(),me();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r}),mc=_e((e,t)=>{ge(),ye(),me();var r=t.exports,{Buffer:s}=(at(),qe(ot));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let n in r.requiredHeaderFlags){let i=r.requiredHeaderFlags[n];r.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+i.toString(16)+" for "+r.types[n]+" packet"}r.codes={};for(let n in r.types){let i=r.types[n];r.codes[i]=n}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=s.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=s.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=s.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let n in r.properties){let i=r.properties[n];r.propertiesCodes[i]=n}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function l(n){return[0,1,2].map(i=>[0,1].map(a=>[0,1].map(o=>{let u=s.alloc(1);return u.writeUInt8(r.codes[n]<<r.CMD_SHIFT|(a?r.DUP_MASK:0)|i<<r.QOS_SHIFT|o,0,!0),u})))}r.PUBLISH_HEADER=l("publish"),r.SUBSCRIBE_HEADER=l("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=l("unsubscribe"),r.ACKS={unsuback:l("unsuback"),puback:l("puback"),pubcomp:l("pubcomp"),pubrel:l("pubrel"),pubrec:l("pubrec")},r.SUBACK_HEADER=s.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=s.from([3]),r.VERSION4=s.from([4]),r.VERSION5=s.from([5]),r.VERSION131=s.from([131]),r.VERSION132=s.from([132]),r.QOS=[0,1,2].map(n=>s.from([n])),r.EMPTY={pingreq:s.from([r.codes.pingreq<<4,0]),pingresp:s.from([r.codes.pingresp<<4,0]),disconnect:s.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Vp=_e((e,t)=>{ge(),ye(),me();var r=1e3,s=r*60,l=s*60,n=l*24,i=n*7,a=n*365.25;t.exports=function(m,y){y=y||{};var b=typeof m;if(b==="string"&&m.length>0)return o(m);if(b==="number"&&isFinite(m))return y.long?h(m):u(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function o(m){if(m=String(m),!(m.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var b=parseFloat(y[1]),T=(y[2]||"ms").toLowerCase();switch(T){case"years":case"year":case"yrs":case"yr":case"y":return b*a;case"weeks":case"week":case"w":return b*i;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*l;case"minutes":case"minute":case"mins":case"min":case"m":return b*s;case"seconds":case"second":case"secs":case"sec":case"s":return b*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function u(m){var y=Math.abs(m);return y>=n?Math.round(m/n)+"d":y>=l?Math.round(m/l)+"h":y>=s?Math.round(m/s)+"m":y>=r?Math.round(m/r)+"s":m+"ms"}function h(m){var y=Math.abs(m);return y>=n?d(m,y,n,"day"):y>=l?d(m,y,l,"hour"):y>=s?d(m,y,s,"minute"):y>=r?d(m,y,r,"second"):m+" ms"}function d(m,y,b,T){var E=y>=b*1.5;return Math.round(m/b)+" "+T+(E?"s":"")}}),Kp=_e((e,t)=>{ge(),ye(),me();function r(s){n.debug=n,n.default=n,n.coerce=d,n.disable=u,n.enable=a,n.enabled=h,n.humanize=Vp(),n.destroy=m,Object.keys(s).forEach(y=>{n[y]=s[y]}),n.names=[],n.skips=[],n.formatters={};function l(y){let b=0;for(let T=0;T<y.length;T++)b=(b<<5)-b+y.charCodeAt(T),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=l;function n(y){let b,T=null,E,P;function w(...k){if(!w.enabled)return;let N=w,F=Number(new Date),M=F-(b||F);N.diff=M,N.prev=b,N.curr=F,b=F,k[0]=n.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let j=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(K,se)=>{if(K==="%%")return"%";j++;let oe=n.formatters[se];if(typeof oe=="function"){let fe=k[j];K=oe.call(N,fe),k.splice(j,1),j--}return K}),n.formatArgs.call(N,k),(N.log||n.log).apply(N,k)}return w.namespace=y,w.useColors=n.useColors(),w.color=n.selectColor(y),w.extend=i,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(E!==n.namespaces&&(E=n.namespaces,P=n.enabled(y)),P),set:k=>{T=k}}),typeof n.init=="function"&&n.init(w),w}function i(y,b){let T=n(this.namespace+(typeof b>"u"?":":b)+y);return T.log=this.log,T}function a(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let b=(typeof y=="string"?y:"").trim().replace(" ",",").split(",").filter(Boolean);for(let T of b)T[0]==="-"?n.skips.push(T.slice(1)):n.names.push(T)}function o(y,b){let T=0,E=0,P=-1,w=0;for(;T<y.length;)if(E<b.length&&(b[E]===y[T]||b[E]==="*"))b[E]==="*"?(P=E,w=T,E++):(T++,E++);else if(P!==-1)E=P+1,w++,T=w;else return!1;for(;E<b.length&&b[E]==="*";)E++;return E===b.length}function u(){let y=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),y}function h(y){for(let b of n.skips)if(o(y,b))return!1;for(let b of n.names)if(o(y,b))return!0;return!1}function d(y){return y instanceof Error?y.stack||y.message:y}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}t.exports=r}),dr=_e((e,t)=>{ge(),ye(),me(),e.formatArgs=s,e.save=l,e.load=n,e.useColors=r,e.storage=i(),e.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let o;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(o=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(o[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;o.splice(1,0,u,"color: inherit");let h=0,d=0;o[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(h++,m==="%c"&&(d=h))}),o.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function l(o){try{o?e.storage.setItem("debug",o):e.storage.removeItem("debug")}catch{}}function n(){let o;try{o=e.storage.getItem("debug")}catch{}return!o&&typeof De<"u"&&"env"in De&&(o=De.env.DEBUG),o}function i(){try{return localStorage}catch{}}t.exports=Kp()(e);var{formatters:a}=t.exports;a.j=function(o){try{return JSON.stringify(o)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),zp=_e((e,t)=>{ge(),ye(),me();var r=$p(),{EventEmitter:s}=(en(),qe(Br)),l=qp(),n=mc(),i=dr()("mqtt-packet:parser"),a=class Ro extends s{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof Ro?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Ro().parser(u)}_resetState(){i("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new l,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),i("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,i("parse: state complete. _stateCounter is now: %d",this._stateCounter),i("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return i("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),h=u>>n.CMD_SHIFT;this.packet.cmd=n.types[h];let d=u&15,m=n.requiredHeaderFlags[h];return m!=null&&d!==m?this._emitError(new Error(n.requiredHeaderFlagsErrors[h])):(this.packet.retain=(u&n.RETAIN_MASK)!==0,this.packet.qos=u>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&n.DUP_MASK)!==0,i("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),i("_parseLength %d",u.value),!!u}_parsePayload(){i("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return i("_parsePayload complete result: %s",u),u}_parseConnect(){i("_parseConnect");let u,h,d,m,y={},b=this.packet,T=this._parseString();if(T===null)return this._emitError(new Error("Cannot parse protocolId"));if(T!=="MQTT"&&T!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=T,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));y.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let E=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),P=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(y.will)b.will={},b.will.retain=E,b.will.qos=P;else{if(E)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(P)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(b.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(b.properties=k)}let w=this._parseString();if(w===null)return this._emitError(new Error("Packet too short"));if(b.clientId=w,i("_parseConnect: packet.clientId: %s",b.clientId),y.will){if(b.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(b.will.properties=k)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=u,i("_parseConnect: packet.will.topic: %s",b.will.topic),h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=h,i("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(y.username){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse username"));b.username=m,i("_parseConnect: packet.username: %s",b.username)}if(y.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));b.password=d}return this.settings=b,i("_parseConnect: complete"),b}_parseConnack(){i("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let h=this._list.readUInt8(this._pos++);if(h>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(h&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}i("_parseConnack: complete")}_parsePublish(){i("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}u.payload=this._list.slice(this._pos,u.length),i("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){i("_parseSubscribe");let u=this.packet,h,d,m,y,b,T,E;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let P=this._parseProperties();Object.getOwnPropertyNames(P).length&&(u.properties=P)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(m=d&n.SUBSCRIBE_OPTIONS_QOS_MASK,m>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(T=(d>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(d>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=d>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,y>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));E={topic:h,qos:m},this.settings.protocolVersion===5?(E.nl=T,E.rap=b,E.rh=y):this.settings.bridgeMode&&(E.rh=0,E.rap=!0,E.nl=!0),i("_parseSubscribe: push subscription `%s` to subscription",E),u.subscriptions.push(E)}}}_parseSuback(){i("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[h])return this._emitError(new Error("Invalid suback code"))}else if(h>2&&h!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(h)}}}_parseUnsubscribe(){i("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let h=this._parseString();if(h===null)return this._emitError(new Error("Cannot parse topic"));i("_parseUnsubscribe: push topic `%s` to unsubscriptions",h),u.unsubscriptions.push(h)}}}_parseUnsuback(){i("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let h=this._parseProperties();for(Object.getOwnPropertyNames(h).length&&(u.properties=h),u.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){i("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}i("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}}return!0}_parseDisconnect(){let u=this.packet;if(i("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}return i("_parseDisconnect result: true"),!0}_parseAuth(){i("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let h=this._parseProperties();return Object.getOwnPropertyNames(h).length&&(u.properties=h),i("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(i("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let m=this._list.toString("utf8",this._pos,d);return this._pos+=h,i("_parseString: result: %s",m),m}_parseStringPair(){return i("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),h=u+this._pos;if(u===-1||h>this._list.length||h>this.packet.length)return null;let d=this._list.slice(this._pos,h);return this._pos+=u,i("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,i("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,i("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){i("_parseVarByteNum");let h=4,d=0,m=1,y=0,b=!1,T,E=this._pos?this._pos:0;for(;d<h&&E+d<this._list.length;){if(T=this._list.readUInt8(E+d++),y+=m*(T&n.VARBYTEINT_MASK),m*=128,(T&n.VARBYTEINT_FIN_MASK)===0){b=!0;break}if(this._list.length<=d)break}return!b&&d===h&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),E&&(this._pos+=d),b?u?b={bytes:d,value:y}:b=y:b=!1,i("_parseVarByteNum: result: %o",b),b}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),i("_parseByte: result: %o",u),u}_parseByType(u){switch(i("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){i("_parseProperties");let u=this._parseVarByteNum(),h=this._pos+u,d={};for(;this._pos<h;){let m=this._parseByte();if(!m)return this._emitError(new Error("Cannot parse property code type")),!1;let y=n.propertiesCodes[m];if(!y)return this._emitError(new Error("Unknown property")),!1;if(y==="userProperties"){d[y]||(d[y]=Object.create(null));let b=this._parseByType(n.propertiesTypes[y]);if(d[y][b.name])if(Array.isArray(d[y][b.name]))d[y][b.name].push(b.value);else{let T=d[y][b.name];d[y][b.name]=[T],d[y][b.name].push(b.value)}else d[y][b.name]=b.value;continue}d[y]?Array.isArray(d[y])?d[y].push(this._parseByType(n.propertiesTypes[y])):(d[y]=[d[y]],d[y].push(this._parseByType(n.propertiesTypes[y]))):d[y]=this._parseByType(n.propertiesTypes[y])}return d}_newPacket(){return i("_newPacket"),this.packet&&(this._list.consume(this.packet.length),i("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),i("_newPacket: new packet"),this.packet=new l,this._pos=0,!0}_emitError(u){i("_emitError",u),this.error=u,this.emit("error",u)}};t.exports=a}),Gp=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(at(),qe(ot)),s=65536,l={},n=r.isBuffer(r.from([1,2]).subarray(0,1));function i(h){let d=r.allocUnsafe(2);return d.writeUInt8(h>>8,0),d.writeUInt8(h&255,1),d}function a(){for(let h=0;h<s;h++)l[h]=i(h)}function o(h){let d=0,m=0,y=r.allocUnsafe(4);do d=h%128|0,h=h/128|0,h>0&&(d=d|128),y.writeUInt8(d,m++);while(h>0&&m<4);return h>0&&(m=0),n?y.subarray(0,m):y.slice(0,m)}function u(h){let d=r.allocUnsafe(4);return d.writeUInt32BE(h,0),d}t.exports={cache:l,generateCache:a,generateNumber:i,genBufVariableByteInt:o,generate4ByteBuffer:u}}),Yp=_e((e,t)=>{ge(),ye(),me(),typeof De>"u"||!De.version||De.version.indexOf("v0.")===0||De.version.indexOf("v1.")===0&&De.version.indexOf("v1.8.")!==0?t.exports={nextTick:r}:t.exports=De;function r(s,l,n,i){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,o,u;switch(a){case 0:case 1:return De.nextTick(s);case 2:return De.nextTick(function(){s.call(null,l)});case 3:return De.nextTick(function(){s.call(null,l,n)});case 4:return De.nextTick(function(){s.call(null,l,n,i)});default:for(o=new Array(a-1),u=0;u<o.length;)o[u++]=arguments[u];return De.nextTick(function(){s.apply(null,o)})}}}),yc=_e((e,t)=>{ge(),ye(),me();var r=mc(),{Buffer:s}=(at(),qe(ot)),l=s.allocUnsafe(0),n=s.from([0]),i=Gp(),a=Yp().nextTick,o=dr()("mqtt-packet:writeToStream"),u=i.cache,h=i.generateNumber,d=i.generateCache,m=i.genBufVariableByteInt,y=i.generate4ByteBuffer,b=ce,T=!0;function E(re,z,le){switch(o("generate called"),z.cork&&(z.cork(),a(P,z)),T&&(T=!1,d()),o("generate: packet.cmd: %s",re.cmd),re.cmd){case"connect":return w(re,z);case"connack":return k(re,z,le);case"publish":return N(re,z,le);case"puback":case"pubrec":case"pubrel":case"pubcomp":return F(re,z,le);case"subscribe":return M(re,z,le);case"suback":return j(re,z,le);case"unsubscribe":return K(re,z,le);case"unsuback":return se(re,z,le);case"pingreq":case"pingresp":return oe(re,z);case"disconnect":return fe(re,z,le);case"auth":return $(re,z,le);default:return z.destroy(new Error("Unknown command")),!1}}Object.defineProperty(E,"cacheNumbers",{get(){return b===ce},set(re){re?((!u||Object.keys(u).length===0)&&(T=!0),b=ce):(T=!1,b=ue)}});function P(re){re.uncork()}function w(re,z,le){let ee=re||{},te=ee.protocolId||"MQTT",I=ee.protocolVersion||4,R=ee.will,W=ee.clean,O=ee.keepalive||0,U=ee.clientId||"",H=ee.username,X=ee.password,J=ee.properties;W===void 0&&(W=!0);let x=0;if(typeof te!="string"&&!s.isBuffer(te))return z.destroy(new Error("Invalid protocolId")),!1;if(x+=te.length+2,I!==3&&I!==4&&I!==5)return z.destroy(new Error("Invalid protocol version")),!1;if(x+=1,(typeof U=="string"||s.isBuffer(U))&&(U||I>=4)&&(U||W))x+=s.byteLength(U)+2;else{if(I<4)return z.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(W*1===0)return z.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof O!="number"||O<0||O>65535||O%1!==0)return z.destroy(new Error("Invalid keepalive")),!1;x+=2,x+=1;let p,S;if(I===5){if(p=de(z,J),!p)return!1;x+=p.length}if(R){if(typeof R!="object")return z.destroy(new Error("Invalid will")),!1;if(!R.topic||typeof R.topic!="string")return z.destroy(new Error("Invalid will topic")),!1;if(x+=s.byteLength(R.topic)+2,x+=2,R.payload)if(R.payload.length>=0)typeof R.payload=="string"?x+=s.byteLength(R.payload):x+=R.payload.length;else return z.destroy(new Error("Invalid will payload")),!1;if(S={},I===5){if(S=de(z,R.properties),!S)return!1;x+=S.length}}let C=!1;if(H!=null)if(Ae(H))C=!0,x+=s.byteLength(H)+2;else return z.destroy(new Error("Invalid username")),!1;if(X!=null){if(!C)return z.destroy(new Error("Username is required to use password")),!1;if(Ae(X))x+=Q(X)+2;else return z.destroy(new Error("Invalid password")),!1}z.write(r.CONNECT_HEADER),ae(z,x),ne(z,te),ee.bridgeMode&&(I+=128),z.write(I===131?r.VERSION131:I===132?r.VERSION132:I===4?r.VERSION4:I===5?r.VERSION5:r.VERSION3);let A=0;return A|=H!=null?r.USERNAME_MASK:0,A|=X!=null?r.PASSWORD_MASK:0,A|=R&&R.retain?r.WILL_RETAIN_MASK:0,A|=R&&R.qos?R.qos<<r.WILL_QOS_SHIFT:0,A|=R?r.WILL_FLAG_MASK:0,A|=W?r.CLEAN_SESSION_MASK:0,z.write(s.from([A])),b(z,O),I===5&&p.write(),ne(z,U),R&&(I===5&&S.write(),Z(z,R.topic),ne(z,R.payload)),H!=null&&ne(z,H),X!=null&&ne(z,X),!0}function k(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=ee===5?te.reasonCode:te.returnCode,R=te.properties,W=2;if(typeof I!="number")return z.destroy(new Error("Invalid return code")),!1;let O=null;if(ee===5){if(O=de(z,R),!O)return!1;W+=O.length}return z.write(r.CONNACK_HEADER),ae(z,W),z.write(te.sessionPresent?r.SESSIONPRESENT_HEADER:n),z.write(s.from([I])),O==null||O.write(),!0}function N(re,z,le){o("publish: packet: %o",re);let ee=le?le.protocolVersion:4,te=re||{},I=te.qos||0,R=te.retain?r.RETAIN_MASK:0,W=te.topic,O=te.payload||l,U=te.messageId,H=te.properties,X=0;if(typeof W=="string")X+=s.byteLength(W)+2;else if(s.isBuffer(W))X+=W.length+2;else return z.destroy(new Error("Invalid topic")),!1;if(s.isBuffer(O)?X+=O.length:X+=s.byteLength(O),I&&typeof U!="number")return z.destroy(new Error("Invalid messageId")),!1;I&&(X+=2);let J=null;if(ee===5){if(J=de(z,H),!J)return!1;X+=J.length}return z.write(r.PUBLISH_HEADER[I][te.dup?1:0][R?1:0]),ae(z,X),b(z,Q(W)),z.write(W),I>0&&b(z,U),J==null||J.write(),o("publish: payload: %o",O),z.write(O)}function F(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.cmd||"puback",R=te.messageId,W=te.dup&&I==="pubrel"?r.DUP_MASK:0,O=0,U=te.reasonCode,H=te.properties,X=ee===5?3:2;if(I==="pubrel"&&(O=1),typeof R!="number")return z.destroy(new Error("Invalid messageId")),!1;let J=null;if(ee===5&&typeof H=="object"){if(J=D(z,H,le,X),!J)return!1;X+=J.length}return z.write(r.ACKS[I][O][W][0]),X===3&&(X+=U!==0?1:-1),ae(z,X),b(z,R),ee===5&&X!==2&&z.write(s.from([U])),J!==null?J.write():X===4&&z.write(s.from([0])),!0}function M(re,z,le){o("subscribe: packet: ");let ee=le?le.protocolVersion:4,te=re||{},I=te.dup?r.DUP_MASK:0,R=te.messageId,W=te.subscriptions,O=te.properties,U=0;if(typeof R!="number")return z.destroy(new Error("Invalid messageId")),!1;U+=2;let H=null;if(ee===5){if(H=de(z,O),!H)return!1;U+=H.length}if(typeof W=="object"&&W.length)for(let J=0;J<W.length;J+=1){let x=W[J].topic,p=W[J].qos;if(typeof x!="string")return z.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof p!="number")return z.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ee===5){if(typeof(W[J].nl||!1)!="boolean")return z.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(W[J].rap||!1)!="boolean")return z.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let S=W[J].rh||0;if(typeof S!="number"||S>2)return z.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}U+=s.byteLength(x)+2+1}else return z.destroy(new Error("Invalid subscriptions")),!1;o("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),z.write(r.SUBSCRIBE_HEADER[1][I?1:0][0]),ae(z,U),b(z,R),H!==null&&H.write();let X=!0;for(let J of W){let x=J.topic,p=J.qos,S=+J.nl,C=+J.rap,A=J.rh,G;Z(z,x),G=r.SUBSCRIBE_OPTIONS_QOS[p],ee===5&&(G|=S?r.SUBSCRIBE_OPTIONS_NL:0,G|=C?r.SUBSCRIBE_OPTIONS_RAP:0,G|=A?r.SUBSCRIBE_OPTIONS_RH[A]:0),X=z.write(s.from([G]))}return X}function j(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.messageId,R=te.granted,W=te.properties,O=0;if(typeof I!="number")return z.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof R=="object"&&R.length)for(let H=0;H<R.length;H+=1){if(typeof R[H]!="number")return z.destroy(new Error("Invalid qos vector")),!1;O+=1}else return z.destroy(new Error("Invalid qos vector")),!1;let U=null;if(ee===5){if(U=D(z,W,le,O),!U)return!1;O+=U.length}return z.write(r.SUBACK_HEADER),ae(z,O),b(z,I),U!==null&&U.write(),z.write(s.from(R))}function K(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.messageId,R=te.dup?r.DUP_MASK:0,W=te.unsubscriptions,O=te.properties,U=0;if(typeof I!="number")return z.destroy(new Error("Invalid messageId")),!1;if(U+=2,typeof W=="object"&&W.length)for(let J=0;J<W.length;J+=1){if(typeof W[J]!="string")return z.destroy(new Error("Invalid unsubscriptions")),!1;U+=s.byteLength(W[J])+2}else return z.destroy(new Error("Invalid unsubscriptions")),!1;let H=null;if(ee===5){if(H=de(z,O),!H)return!1;U+=H.length}z.write(r.UNSUBSCRIBE_HEADER[1][R?1:0][0]),ae(z,U),b(z,I),H!==null&&H.write();let X=!0;for(let J=0;J<W.length;J++)X=Z(z,W[J]);return X}function se(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.messageId,R=te.dup?r.DUP_MASK:0,W=te.granted,O=te.properties,U=te.cmd,H=0,X=2;if(typeof I!="number")return z.destroy(new Error("Invalid messageId")),!1;if(ee===5)if(typeof W=="object"&&W.length)for(let x=0;x<W.length;x+=1){if(typeof W[x]!="number")return z.destroy(new Error("Invalid qos vector")),!1;X+=1}else return z.destroy(new Error("Invalid qos vector")),!1;let J=null;if(ee===5){if(J=D(z,O,le,X),!J)return!1;X+=J.length}return z.write(r.ACKS[U][H][R][0]),ae(z,X),b(z,I),J!==null&&J.write(),ee===5&&z.write(s.from(W)),!0}function oe(re,z,le){return z.write(r.EMPTY[re.cmd])}function fe(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.reasonCode,R=te.properties,W=ee===5?1:0,O=null;if(ee===5){if(O=D(z,R,le,W),!O)return!1;W+=O.length}return z.write(s.from([r.codes.disconnect<<4])),ae(z,W),ee===5&&z.write(s.from([I])),O!==null&&O.write(),!0}function $(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},I=te.reasonCode,R=te.properties,W=ee===5?1:0;ee!==5&&z.destroy(new Error("Invalid mqtt version for auth packet"));let O=D(z,R,le,W);return O?(W+=O.length,z.write(s.from([r.codes.auth<<4])),ae(z,W),z.write(s.from([I])),O!==null&&O.write(),!0):!1}var ie={};function ae(re,z){if(z>r.VARBYTEINT_MAX)return re.destroy(new Error(`Invalid variable byte integer: ${z}`)),!1;let le=ie[z];return le||(le=m(z),z<16384&&(ie[z]=le)),o("writeVarByteInt: writing to stream: %o",le),re.write(le)}function Z(re,z){let le=s.byteLength(z);return b(re,le),o("writeString: %s",z),re.write(z,"utf8")}function pe(re,z,le){Z(re,z),Z(re,le)}function ce(re,z){return o("writeNumberCached: number: %d",z),o("writeNumberCached: %o",u[z]),re.write(u[z])}function ue(re,z){let le=h(z);return o("writeNumberGenerated: %o",le),re.write(le)}function Ee(re,z){let le=y(z);return o("write4ByteNumber: %o",le),re.write(le)}function ne(re,z){typeof z=="string"?Z(re,z):z?(b(re,z.length),re.write(z)):b(re,0)}function de(re,z){if(typeof z!="object"||z.length!=null)return{length:1,write(){be(re,{},0)}};let le=0;function ee(te,I){let R=r.propertiesTypes[te],W=0;switch(R){case"byte":{if(typeof I!="boolean")return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=2;break}case"int8":{if(typeof I!="number"||I<0||I>255)return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=2;break}case"binary":{if(I&&I===null)return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=1+s.byteLength(I)+2;break}case"int16":{if(typeof I!="number"||I<0||I>65535)return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=3;break}case"int32":{if(typeof I!="number"||I<0||I>4294967295)return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=5;break}case"var":{if(typeof I!="number"||I<0||I>268435455)return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=1+s.byteLength(m(I));break}case"string":{if(typeof I!="string")return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=3+s.byteLength(I.toString());break}case"pair":{if(typeof I!="object")return re.destroy(new Error(`Invalid ${te}: ${I}`)),!1;W+=Object.getOwnPropertyNames(I).reduce((O,U)=>{let H=I[U];return Array.isArray(H)?O+=H.reduce((X,J)=>(X+=3+s.byteLength(U.toString())+2+s.byteLength(J.toString()),X),0):O+=3+s.byteLength(U.toString())+2+s.byteLength(I[U].toString()),O},0);break}default:return re.destroy(new Error(`Invalid property ${te}: ${I}`)),!1}return W}if(z)for(let te in z){let I=0,R=0,W=z[te];if(W!==void 0){if(Array.isArray(W))for(let O=0;O<W.length;O++){if(R=ee(te,W[O]),!R)return!1;I+=R}else{if(R=ee(te,W),!R)return!1;I=R}if(!I)return!1;le+=I}}return{length:s.byteLength(m(le))+le,write(){be(re,z,le)}}}function D(re,z,le,ee){let te=["reasonString","userProperties"],I=le&&le.properties&&le.properties.maximumPacketSize?le.properties.maximumPacketSize:0,R=de(re,z);if(I)for(;ee+R.length>I;){let W=te.shift();if(W&&z[W])delete z[W],R=de(re,z);else return!1}return R}function he(re,z,le){switch(r.propertiesTypes[z]){case"byte":{re.write(s.from([r.properties[z]])),re.write(s.from([+le]));break}case"int8":{re.write(s.from([r.properties[z]])),re.write(s.from([le]));break}case"binary":{re.write(s.from([r.properties[z]])),ne(re,le);break}case"int16":{re.write(s.from([r.properties[z]])),b(re,le);break}case"int32":{re.write(s.from([r.properties[z]])),Ee(re,le);break}case"var":{re.write(s.from([r.properties[z]])),ae(re,le);break}case"string":{re.write(s.from([r.properties[z]])),Z(re,le);break}case"pair":{Object.getOwnPropertyNames(le).forEach(ee=>{let te=le[ee];Array.isArray(te)?te.forEach(I=>{re.write(s.from([r.properties[z]])),pe(re,ee.toString(),I.toString())}):(re.write(s.from([r.properties[z]])),pe(re,ee.toString(),te.toString()))});break}default:return re.destroy(new Error(`Invalid property ${z} value: ${le}`)),!1}}function be(re,z,le){ae(re,le);for(let ee in z)if(Object.prototype.hasOwnProperty.call(z,ee)&&z[ee]!=null){let te=z[ee];if(Array.isArray(te))for(let I=0;I<te.length;I++)he(re,ee,te[I]);else he(re,ee,te)}}function Q(re){return re?re instanceof s?re.length:s.byteLength(re):0}function Ae(re){return typeof re=="string"||re instanceof s}t.exports=E}),Qp=_e((e,t)=>{ge(),ye(),me();var r=yc(),{EventEmitter:s}=(en(),qe(Br)),{Buffer:l}=(at(),qe(ot));function n(a,o){let u=new i;return r(a,u,o),u.concat()}var i=class extends s{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,o=new Array(this._array.length),u=this._array,h=0,d;for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?o[d]=u[d].length:o[d]=l.byteLength(u[d]),a+=o[d];let m=l.allocUnsafe(a);for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?(u[d].copy(m,h),h+=o[d]):(m.write(u[d],h),h+=o[d]);return m}destroy(a){a&&this.emit("error",a)}};t.exports=n}),Jp=_e(e=>{ge(),ye(),me(),e.parser=zp().parser,e.generate=Qp(),e.writeToStream=yc()}),bc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};e.default=t}),Xp=_e((e,t)=>{ge(),ye(),me(),t.exports=s;function r(n){return n instanceof Ei?Ei.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function s(n){if(n=n||{},n.circles)return l(n);let i=new Map;if(i.set(Date,d=>new Date(d)),i.set(Map,(d,m)=>new Map(o(Array.from(d),m))),i.set(Set,(d,m)=>new Set(o(Array.from(d),m))),n.constructorHandlers)for(let d of n.constructorHandlers)i.set(d[0],d[1]);let a=null;return n.proto?h:u;function o(d,m){let y=Object.keys(d),b=new Array(y.length);for(let T=0;T<y.length;T++){let E=y[T],P=d[E];typeof P!="object"||P===null?b[E]=P:P.constructor!==Object&&(a=i.get(P.constructor))?b[E]=a(P,m):ArrayBuffer.isView(P)?b[E]=r(P):b[E]=m(P)}return b}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return o(d,u);if(d.constructor!==Object&&(a=i.get(d.constructor)))return a(d,u);let m={};for(let y in d){if(Object.hasOwnProperty.call(d,y)===!1)continue;let b=d[y];typeof b!="object"||b===null?m[y]=b:b.constructor!==Object&&(a=i.get(b.constructor))?m[y]=a(b,u):ArrayBuffer.isView(b)?m[y]=r(b):m[y]=u(b)}return m}function h(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return o(d,h);if(d.constructor!==Object&&(a=i.get(d.constructor)))return a(d,h);let m={};for(let y in d){let b=d[y];typeof b!="object"||b===null?m[y]=b:b.constructor!==Object&&(a=i.get(b.constructor))?m[y]=a(b,h):ArrayBuffer.isView(b)?m[y]=r(b):m[y]=h(b)}return m}}function l(n){let i=[],a=[],o=new Map;if(o.set(Date,y=>new Date(y)),o.set(Map,(y,b)=>new Map(h(Array.from(y),b))),o.set(Set,(y,b)=>new Set(h(Array.from(y),b))),n.constructorHandlers)for(let y of n.constructorHandlers)o.set(y[0],y[1]);let u=null;return n.proto?m:d;function h(y,b){let T=Object.keys(y),E=new Array(T.length);for(let P=0;P<T.length;P++){let w=T[P],k=y[w];if(typeof k!="object"||k===null)E[w]=k;else if(k.constructor!==Object&&(u=o.get(k.constructor)))E[w]=u(k,b);else if(ArrayBuffer.isView(k))E[w]=r(k);else{let N=i.indexOf(k);N!==-1?E[w]=a[N]:E[w]=b(k)}}return E}function d(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,d);if(y.constructor!==Object&&(u=o.get(y.constructor)))return u(y,d);let b={};i.push(y),a.push(b);for(let T in y){if(Object.hasOwnProperty.call(y,T)===!1)continue;let E=y[T];if(typeof E!="object"||E===null)b[T]=E;else if(E.constructor!==Object&&(u=o.get(E.constructor)))b[T]=u(E,d);else if(ArrayBuffer.isView(E))b[T]=r(E);else{let P=i.indexOf(E);P!==-1?b[T]=a[P]:b[T]=d(E)}}return i.pop(),a.pop(),b}function m(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,m);if(y.constructor!==Object&&(u=o.get(y.constructor)))return u(y,m);let b={};i.push(y),a.push(b);for(let T in y){let E=y[T];if(typeof E!="object"||E===null)b[T]=E;else if(E.constructor!==Object&&(u=o.get(E.constructor)))b[T]=u(E,m);else if(ArrayBuffer.isView(E))b[T]=r(E);else{let P=i.indexOf(E);P!==-1?b[T]=a[P]:b[T]=m(E)}}return i.pop(),a.pop(),b}}}),Zp=_e((e,t)=>{ge(),ye(),me(),t.exports=Xp()()}),eg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=r;function t(s){let l=s.split("/");for(let n=0;n<l.length;n++)if(l[n]!=="+"){if(l[n]==="#")return n===l.length-1;if(l[n].indexOf("+")!==-1||l[n].indexOf("#")!==-1)return!1}return!0}function r(s){if(s.length===0)return"empty_topic_list";for(let l=0;l<s.length;l++)if(!t(s[l]))return s[l];return null}}),wc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=rn(),r={objectMode:!0},s={clean:!0},l=class{constructor(n){this.options=n||{},this.options=Object.assign(Object.assign({},s),n),this._inflights=new Map}put(n,i){return this._inflights.set(n.messageId,n),i&&i(),this}createStream(){let n=new t.Readable(r),i=[],a=!1,o=0;return this._inflights.forEach((u,h)=>{i.push(u)}),n._read=()=>{!a&&o<i.length?n.push(i[o++]):n.push(null)},n.destroy=u=>{if(!a)return a=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,i){let a=this._inflights.get(n.messageId);return a?(this._inflights.delete(n.messageId),i(null,a)):i&&i(new Error("missing packet")),this}get(n,i){let a=this._inflights.get(n.messageId);return a?i(null,a):i&&i(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};e.default=l}),tg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(s,l,n)=>{s.log("handlePublish: packet %o",l),n=typeof n<"u"?n:s.noop;let i=l.topic.toString(),a=l.payload,{qos:o}=l,{messageId:u}=l,{options:h}=s;if(s.options.protocolVersion===5){let d;if(l.properties&&(d=l.properties.topicAlias),typeof d<"u")if(i.length===0)if(d>0&&d<=65535){let m=s.topicAliasRecv.getTopicByAlias(d);if(m)i=m,s.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,d);else{s.log("handlePublish :: unregistered topic alias. alias: %d",d),s.emit("error",new Error("Received unregistered Topic Alias"));return}}else{s.log("handlePublish :: topic alias out of range. alias: %d",d),s.emit("error",new Error("Received Topic Alias is out of range"));return}else if(s.topicAliasRecv.put(i,d))s.log("handlePublish :: registered topic: %s - alias: %d",i,d);else{s.log("handlePublish :: topic alias out of range. alias: %d",d),s.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(s.log("handlePublish: qos %d",o),o){case 2:{h.customHandleAcks(i,a,l,(d,m)=>{if(typeof d=="number"&&(m=d,d=null),d)return s.emit("error",d);if(t.indexOf(m)===-1)return s.emit("error",new Error("Wrong reason code for pubrec"));m?s._sendPacket({cmd:"pubrec",messageId:u,reasonCode:m},n):s.incomingStore.put(l,()=>{s._sendPacket({cmd:"pubrec",messageId:u},n)})});break}case 1:{h.customHandleAcks(i,a,l,(d,m)=>{if(typeof d=="number"&&(m=d,d=null),d)return s.emit("error",d);if(t.indexOf(m)===-1)return s.emit("error",new Error("Wrong reason code for puback"));m||s.emit("message",i,a,l),s.handleMessage(l,y=>{if(y)return n&&n(y);s._sendPacket({cmd:"puback",messageId:u,reasonCode:m},n)})});break}case 0:s.emit("message",i,a,l),s.handleMessage(l,n);break;default:s.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r}),rg=_e((e,t)=>{t.exports={version:"5.13.1"}}),bn=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=s;var t=class vc extends Error{constructor(n,i){super(n),this.code=i,Object.setPrototypeOf(this,vc.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var r=class _c extends Error{constructor(n,i){super(n),this.packet=i,Object.setPrototypeOf(this,_c.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=r;function s(l,n,i=!1){var a;let o=[n];for(;;){let u=o[0],h=Object.getPrototypeOf(u);if(h!=null&&h.prototype)o.unshift(h);else break}for(let u of o)for(let h of Object.getOwnPropertyNames(u.prototype))(i||h!=="constructor")&&Object.defineProperty(l.prototype,h,(a=Object.getOwnPropertyDescriptor(u.prototype,h))!==null&&a!==void 0?a:Object.create(null))}e.nextTick=typeof(De==null?void 0:De.nextTick)=="function"?De.nextTick:l=>{setTimeout(l,0)},e.MQTTJS_VERSION=rg().version}),Di=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=bn();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(s,l)=>{let{messageId:n}=l,i=l.cmd,a=null,o=s.outgoing[n]?s.outgoing[n].cb:null,u=null;if(!o){s.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(s.log("_handleAck :: packet type",i),i){case"pubcomp":case"puback":{let h=l.reasonCode;h&&h>0&&h!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),s._removeOutgoingAndStoreMessage(n,()=>{o(u,l)})):s._removeOutgoingAndStoreMessage(n,o);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:n};let h=l.reasonCode;h&&h>0&&h!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),s._removeOutgoingAndStoreMessage(n,()=>{o(u,l)})):s._sendPacket(a);break}case"suback":{delete s.outgoing[n],s.messageIdProvider.deallocate(n);let h=l.granted;for(let d=0;d<h.length;d++){let m=h[d];if((m&128)!==0){u=new Error(`Subscribe error: ${e.ReasonCodes[m]}`),u.code=m;let y=s.messageIdToTopic[n];y&&y.forEach(b=>{delete s._resubscribeTopics[b]})}}delete s.messageIdToTopic[n],s._invokeStoreProcessingQueue(),o(u,l);break}case"unsuback":{delete s.outgoing[n],s.messageIdProvider.deallocate(n),s._invokeStoreProcessingQueue(),o(null,l);break}default:s.emit("error",new Error("unrecognized packet type"))}s.disconnecting&&Object.keys(s.outgoing).length===0&&s.emit("outgoingEmpty")};e.default=r}),ng=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=bn(),r=Di(),s=(l,n)=>{let{options:i}=l,a=i.protocolVersion,o=a===5?n.reasonCode:n.returnCode;if(a!==5){let u=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,o);l.emit("error",u);return}l.handleAuth(n,(u,h)=>{if(u){l.emit("error",u);return}if(o===24)l.reconnecting=!1,l._sendPacket(h);else{let d=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[o]}`,o);l.emit("error",d)}})};e.default=s}),ig=_e(e=>{var y,b,T,E,P,w,k,N,F,M,j,K,se,oe,fe,$,ie,ae,Z,pe,ce,ue,Ee,ne,de,D,he,be,Q,Uo,re,z,le,ee,Ec,I,R,W,vr,_r,Mo,ui,ci,Ge,Bo,In,Er,Lo,G;ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,s=typeof De=="object"&&De?De:{},l=(c,f,g,v)=>{typeof s.emitWarning=="function"?s.emitWarning(c,f,g,v):console.error(`[${g}] ${f}: ${c}`)},n=globalThis.AbortController,i=globalThis.AbortSignal;if(typeof n>"u"){i=class{constructor(){Ie(this,"onabort");Ie(this,"_onabort",[]);Ie(this,"reason");Ie(this,"aborted",!1)}addEventListener(g,v){this._onabort.push(v)}},n=class{constructor(){Ie(this,"signal",new i);f()}abort(g){var v,_;if(!this.signal.aborted){this.signal.reason=g,this.signal.aborted=!0;for(let L of this.signal._onabort)L(g);(_=(v=this.signal).onabort)==null||_.call(v,g)}}};let c=((y=s.env)==null?void 0:y.LRU_CACHE_IGNORE_AC_WARNING)!=="1",f=()=>{c&&(c=!1,l("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",f))}}var a=c=>!r.has(c),o=c=>c&&c===Math.floor(c)&&c>0&&isFinite(c),u=c=>o(c)?c<=Math.pow(2,8)?Uint8Array:c<=Math.pow(2,16)?Uint16Array:c<=Math.pow(2,32)?Uint32Array:c<=Number.MAX_SAFE_INTEGER?h:null:null,h=class extends Array{constructor(c){super(c),this.fill(0)}},d=(b=class{constructor(f,g){Ie(this,"heap");Ie(this,"length");if(!q(b,T))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new g(f),this.length=0}static create(f){let g=u(f);if(!g)return[];Ue(b,T,!0);let v=new b(f,g);return Ue(b,T,!1),v}push(f){this.heap[this.length++]=f}pop(){return this.heap[--this.length]}},T=new WeakMap,je(b,T,!1),b),m=(G=class{constructor(f){je(this,Q);je(this,w);je(this,k);je(this,N);je(this,F);je(this,M);je(this,j);Ie(this,"ttl");Ie(this,"ttlResolution");Ie(this,"ttlAutopurge");Ie(this,"updateAgeOnGet");Ie(this,"updateAgeOnHas");Ie(this,"allowStale");Ie(this,"noDisposeOnSet");Ie(this,"noUpdateTTL");Ie(this,"maxEntrySize");Ie(this,"sizeCalculation");Ie(this,"noDeleteOnFetchRejection");Ie(this,"noDeleteOnStaleGet");Ie(this,"allowStaleOnFetchAbort");Ie(this,"allowStaleOnFetchRejection");Ie(this,"ignoreFetchAbort");je(this,K);je(this,se);je(this,oe);je(this,fe);je(this,$);je(this,ie);je(this,ae);je(this,Z);je(this,pe);je(this,ce);je(this,ue);je(this,Ee);je(this,ne);je(this,de);je(this,D);je(this,he);je(this,be);je(this,re,()=>{});je(this,z,()=>{});je(this,le,()=>{});je(this,ee,()=>!1);je(this,I,f=>{});je(this,R,(f,g,v)=>{});je(this,W,(f,g,v,_)=>{if(v||_)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ie(this,E,"LRUCache");let{max:g=0,ttl:v,ttlResolution:_=1,ttlAutopurge:L,updateAgeOnGet:Y,updateAgeOnHas:we,allowStale:ve,dispose:xe,disposeAfter:Pe,noDisposeOnSet:Re,noUpdateTTL:Dt,maxSize:At=0,maxEntrySize:xt=0,sizeCalculation:Ye,fetchMethod:it,memoMethod:Be,noDeleteOnFetchRejection:Ke,noDeleteOnStaleGet:ct,allowStaleOnFetchRejection:nt,allowStaleOnFetchAbort:bt,ignoreFetchAbort:br}=f;if(g!==0&&!o(g))throw new TypeError("max option must be a nonnegative integer");let B=g?u(g):Array;if(!B)throw new Error("invalid max value: "+g);if(Ue(this,w,g),Ue(this,k,At),this.maxEntrySize=xt||q(this,k),this.sizeCalculation=Ye,this.sizeCalculation){if(!q(this,k)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Be!==void 0&&typeof Be!="function")throw new TypeError("memoMethod must be a function if defined");if(Ue(this,j,Be),it!==void 0&&typeof it!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ue(this,M,it),Ue(this,he,!!it),Ue(this,oe,new Map),Ue(this,fe,new Array(g).fill(void 0)),Ue(this,$,new Array(g).fill(void 0)),Ue(this,ie,new B(g)),Ue(this,ae,new B(g)),Ue(this,Z,0),Ue(this,pe,0),Ue(this,ce,d.create(g)),Ue(this,K,0),Ue(this,se,0),typeof xe=="function"&&Ue(this,N,xe),typeof Pe=="function"?(Ue(this,F,Pe),Ue(this,ue,[])):(Ue(this,F,void 0),Ue(this,ue,void 0)),Ue(this,D,!!q(this,N)),Ue(this,be,!!q(this,F)),this.noDisposeOnSet=!!Re,this.noUpdateTTL=!!Dt,this.noDeleteOnFetchRejection=!!Ke,this.allowStaleOnFetchRejection=!!nt,this.allowStaleOnFetchAbort=!!bt,this.ignoreFetchAbort=!!br,this.maxEntrySize!==0){if(q(this,k)!==0&&!o(q(this,k)))throw new TypeError("maxSize must be a positive integer if specified");if(!o(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ke(this,Q,Ec).call(this)}if(this.allowStale=!!ve,this.noDeleteOnStaleGet=!!ct,this.updateAgeOnGet=!!Y,this.updateAgeOnHas=!!we,this.ttlResolution=o(_)||_===0?_:1,this.ttlAutopurge=!!L,this.ttl=v||0,this.ttl){if(!o(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ke(this,Q,Uo).call(this)}if(q(this,w)===0&&this.ttl===0&&q(this,k)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!q(this,w)&&!q(this,k)){let V="LRU_CACHE_UNBOUNDED";a(V)&&(r.add(V),l("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,G))}}static unsafeExposeInternals(f){return{starts:q(f,ne),ttls:q(f,de),sizes:q(f,Ee),keyMap:q(f,oe),keyList:q(f,fe),valList:q(f,$),next:q(f,ie),prev:q(f,ae),get head(){return q(f,Z)},get tail(){return q(f,pe)},free:q(f,ce),isBackgroundFetch:g=>{var v;return ke(v=f,Q,Ge).call(v,g)},backgroundFetch:(g,v,_,L)=>{var Y;return ke(Y=f,Q,ci).call(Y,g,v,_,L)},moveToTail:g=>{var v;return ke(v=f,Q,In).call(v,g)},indexes:g=>{var v;return ke(v=f,Q,vr).call(v,g)},rindexes:g=>{var v;return ke(v=f,Q,_r).call(v,g)},isStale:g=>{var v;return q(v=f,ee).call(v,g)}}}get max(){return q(this,w)}get maxSize(){return q(this,k)}get calculatedSize(){return q(this,se)}get size(){return q(this,K)}get fetchMethod(){return q(this,M)}get memoMethod(){return q(this,j)}get dispose(){return q(this,N)}get disposeAfter(){return q(this,F)}getRemainingTTL(f){return q(this,oe).has(f)?1/0:0}*entries(){for(let f of ke(this,Q,vr).call(this))q(this,$)[f]!==void 0&&q(this,fe)[f]!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield[q(this,fe)[f],q(this,$)[f]])}*rentries(){for(let f of ke(this,Q,_r).call(this))q(this,$)[f]!==void 0&&q(this,fe)[f]!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield[q(this,fe)[f],q(this,$)[f]])}*keys(){for(let f of ke(this,Q,vr).call(this)){let g=q(this,fe)[f];g!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield g)}}*rkeys(){for(let f of ke(this,Q,_r).call(this)){let g=q(this,fe)[f];g!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield g)}}*values(){for(let f of ke(this,Q,vr).call(this))q(this,$)[f]!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield q(this,$)[f])}*rvalues(){for(let f of ke(this,Q,_r).call(this))q(this,$)[f]!==void 0&&!ke(this,Q,Ge).call(this,q(this,$)[f])&&(yield q(this,$)[f])}[(P=Symbol.iterator,E=Symbol.toStringTag,P)](){return this.entries()}find(f,g={}){for(let v of ke(this,Q,vr).call(this)){let _=q(this,$)[v],L=ke(this,Q,Ge).call(this,_)?_.__staleWhileFetching:_;if(L!==void 0&&f(L,q(this,fe)[v],this))return this.get(q(this,fe)[v],g)}}forEach(f,g=this){for(let v of ke(this,Q,vr).call(this)){let _=q(this,$)[v],L=ke(this,Q,Ge).call(this,_)?_.__staleWhileFetching:_;L!==void 0&&f.call(g,L,q(this,fe)[v],this)}}rforEach(f,g=this){for(let v of ke(this,Q,_r).call(this)){let _=q(this,$)[v],L=ke(this,Q,Ge).call(this,_)?_.__staleWhileFetching:_;L!==void 0&&f.call(g,L,q(this,fe)[v],this)}}purgeStale(){let f=!1;for(let g of ke(this,Q,_r).call(this,{allowStale:!0}))q(this,ee).call(this,g)&&(ke(this,Q,Er).call(this,q(this,fe)[g],"expire"),f=!0);return f}info(f){let g=q(this,oe).get(f);if(g===void 0)return;let v=q(this,$)[g],_=ke(this,Q,Ge).call(this,v)?v.__staleWhileFetching:v;if(_===void 0)return;let L={value:_};if(q(this,de)&&q(this,ne)){let Y=q(this,de)[g],we=q(this,ne)[g];if(Y&&we){let ve=Y-(t.now()-we);L.ttl=ve,L.start=Date.now()}}return q(this,Ee)&&(L.size=q(this,Ee)[g]),L}dump(){let f=[];for(let g of ke(this,Q,vr).call(this,{allowStale:!0})){let v=q(this,fe)[g],_=q(this,$)[g],L=ke(this,Q,Ge).call(this,_)?_.__staleWhileFetching:_;if(L===void 0||v===void 0)continue;let Y={value:L};if(q(this,de)&&q(this,ne)){Y.ttl=q(this,de)[g];let we=t.now()-q(this,ne)[g];Y.start=Math.floor(Date.now()-we)}q(this,Ee)&&(Y.size=q(this,Ee)[g]),f.unshift([v,Y])}return f}load(f){this.clear();for(let[g,v]of f){if(v.start){let _=Date.now()-v.start;v.start=t.now()-_}this.set(g,v.value,v)}}set(f,g,v={}){var Dt,At,xt,Ye,it;if(g===void 0)return this.delete(f),this;let{ttl:_=this.ttl,start:L,noDisposeOnSet:Y=this.noDisposeOnSet,sizeCalculation:we=this.sizeCalculation,status:ve}=v,{noUpdateTTL:xe=this.noUpdateTTL}=v,Pe=q(this,W).call(this,f,g,v.size||0,we);if(this.maxEntrySize&&Pe>this.maxEntrySize)return ve&&(ve.set="miss",ve.maxEntrySizeExceeded=!0),ke(this,Q,Er).call(this,f,"set"),this;let Re=q(this,K)===0?void 0:q(this,oe).get(f);if(Re===void 0)Re=q(this,K)===0?q(this,pe):q(this,ce).length!==0?q(this,ce).pop():q(this,K)===q(this,w)?ke(this,Q,ui).call(this,!1):q(this,K),q(this,fe)[Re]=f,q(this,$)[Re]=g,q(this,oe).set(f,Re),q(this,ie)[q(this,pe)]=Re,q(this,ae)[Re]=q(this,pe),Ue(this,pe,Re),qn(this,K)._++,q(this,R).call(this,Re,Pe,ve),ve&&(ve.set="add"),xe=!1;else{ke(this,Q,In).call(this,Re);let Be=q(this,$)[Re];if(g!==Be){if(q(this,he)&&ke(this,Q,Ge).call(this,Be)){Be.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Ke}=Be;Ke!==void 0&&!Y&&(q(this,D)&&((Dt=q(this,N))==null||Dt.call(this,Ke,f,"set")),q(this,be)&&((At=q(this,ue))==null||At.push([Ke,f,"set"])))}else Y||(q(this,D)&&((xt=q(this,N))==null||xt.call(this,Be,f,"set")),q(this,be)&&((Ye=q(this,ue))==null||Ye.push([Be,f,"set"])));if(q(this,I).call(this,Re),q(this,R).call(this,Re,Pe,ve),q(this,$)[Re]=g,ve){ve.set="replace";let Ke=Be&&ke(this,Q,Ge).call(this,Be)?Be.__staleWhileFetching:Be;Ke!==void 0&&(ve.oldValue=Ke)}}else ve&&(ve.set="update")}if(_!==0&&!q(this,de)&&ke(this,Q,Uo).call(this),q(this,de)&&(xe||q(this,le).call(this,Re,_,L),ve&&q(this,z).call(this,ve,Re)),!Y&&q(this,be)&&q(this,ue)){let Be=q(this,ue),Ke;for(;Ke=Be==null?void 0:Be.shift();)(it=q(this,F))==null||it.call(this,...Ke)}return this}pop(){var f;try{for(;q(this,K);){let g=q(this,$)[q(this,Z)];if(ke(this,Q,ui).call(this,!0),ke(this,Q,Ge).call(this,g)){if(g.__staleWhileFetching)return g.__staleWhileFetching}else if(g!==void 0)return g}}finally{if(q(this,be)&&q(this,ue)){let g=q(this,ue),v;for(;v=g==null?void 0:g.shift();)(f=q(this,F))==null||f.call(this,...v)}}}has(f,g={}){let{updateAgeOnHas:v=this.updateAgeOnHas,status:_}=g,L=q(this,oe).get(f);if(L!==void 0){let Y=q(this,$)[L];if(ke(this,Q,Ge).call(this,Y)&&Y.__staleWhileFetching===void 0)return!1;if(q(this,ee).call(this,L))_&&(_.has="stale",q(this,z).call(this,_,L));else return v&&q(this,re).call(this,L),_&&(_.has="hit",q(this,z).call(this,_,L)),!0}else _&&(_.has="miss");return!1}peek(f,g={}){let{allowStale:v=this.allowStale}=g,_=q(this,oe).get(f);if(_===void 0||!v&&q(this,ee).call(this,_))return;let L=q(this,$)[_];return ke(this,Q,Ge).call(this,L)?L.__staleWhileFetching:L}async fetch(f,g={}){let{allowStale:v=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:L=this.noDeleteOnStaleGet,ttl:Y=this.ttl,noDisposeOnSet:we=this.noDisposeOnSet,size:ve=0,sizeCalculation:xe=this.sizeCalculation,noUpdateTTL:Pe=this.noUpdateTTL,noDeleteOnFetchRejection:Re=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Dt=this.allowStaleOnFetchRejection,ignoreFetchAbort:At=this.ignoreFetchAbort,allowStaleOnFetchAbort:xt=this.allowStaleOnFetchAbort,context:Ye,forceRefresh:it=!1,status:Be,signal:Ke}=g;if(!q(this,he))return Be&&(Be.fetch="get"),this.get(f,{allowStale:v,updateAgeOnGet:_,noDeleteOnStaleGet:L,status:Be});let ct={allowStale:v,updateAgeOnGet:_,noDeleteOnStaleGet:L,ttl:Y,noDisposeOnSet:we,size:ve,sizeCalculation:xe,noUpdateTTL:Pe,noDeleteOnFetchRejection:Re,allowStaleOnFetchRejection:Dt,allowStaleOnFetchAbort:xt,ignoreFetchAbort:At,status:Be,signal:Ke},nt=q(this,oe).get(f);if(nt===void 0){Be&&(Be.fetch="miss");let bt=ke(this,Q,ci).call(this,f,nt,ct,Ye);return bt.__returned=bt}else{let bt=q(this,$)[nt];if(ke(this,Q,Ge).call(this,bt)){let Se=v&&bt.__staleWhileFetching!==void 0;return Be&&(Be.fetch="inflight",Se&&(Be.returnedStale=!0)),Se?bt.__staleWhileFetching:bt.__returned=bt}let br=q(this,ee).call(this,nt);if(!it&&!br)return Be&&(Be.fetch="hit"),ke(this,Q,In).call(this,nt),_&&q(this,re).call(this,nt),Be&&q(this,z).call(this,Be,nt),bt;let B=ke(this,Q,ci).call(this,f,nt,ct,Ye),V=B.__staleWhileFetching!==void 0&&v;return Be&&(Be.fetch=br?"stale":"refresh",V&&br&&(Be.returnedStale=!0)),V?B.__staleWhileFetching:B.__returned=B}}async forceFetch(f,g={}){let v=await this.fetch(f,g);if(v===void 0)throw new Error("fetch() returned undefined");return v}memo(f,g={}){let v=q(this,j);if(!v)throw new Error("no memoMethod provided to constructor");let{context:_,forceRefresh:L,...Y}=g,we=this.get(f,Y);if(!L&&we!==void 0)return we;let ve=v(f,we,{options:Y,context:_});return this.set(f,ve,Y),ve}get(f,g={}){let{allowStale:v=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:L=this.noDeleteOnStaleGet,status:Y}=g,we=q(this,oe).get(f);if(we!==void 0){let ve=q(this,$)[we],xe=ke(this,Q,Ge).call(this,ve);return Y&&q(this,z).call(this,Y,we),q(this,ee).call(this,we)?(Y&&(Y.get="stale"),xe?(Y&&v&&ve.__staleWhileFetching!==void 0&&(Y.returnedStale=!0),v?ve.__staleWhileFetching:void 0):(L||ke(this,Q,Er).call(this,f,"expire"),Y&&v&&(Y.returnedStale=!0),v?ve:void 0)):(Y&&(Y.get="hit"),xe?ve.__staleWhileFetching:(ke(this,Q,In).call(this,we),_&&q(this,re).call(this,we),ve))}else Y&&(Y.get="miss")}delete(f){return ke(this,Q,Er).call(this,f,"delete")}clear(){return ke(this,Q,Lo).call(this,"delete")}},w=new WeakMap,k=new WeakMap,N=new WeakMap,F=new WeakMap,M=new WeakMap,j=new WeakMap,K=new WeakMap,se=new WeakMap,oe=new WeakMap,fe=new WeakMap,$=new WeakMap,ie=new WeakMap,ae=new WeakMap,Z=new WeakMap,pe=new WeakMap,ce=new WeakMap,ue=new WeakMap,Ee=new WeakMap,ne=new WeakMap,de=new WeakMap,D=new WeakMap,he=new WeakMap,be=new WeakMap,Q=new WeakSet,Uo=function(){let f=new h(q(this,w)),g=new h(q(this,w));Ue(this,de,f),Ue(this,ne,g),Ue(this,le,(L,Y,we=t.now())=>{if(g[L]=Y!==0?we:0,f[L]=Y,Y!==0&&this.ttlAutopurge){let ve=setTimeout(()=>{q(this,ee).call(this,L)&&ke(this,Q,Er).call(this,q(this,fe)[L],"expire")},Y+1);ve.unref&&ve.unref()}}),Ue(this,re,L=>{g[L]=f[L]!==0?t.now():0}),Ue(this,z,(L,Y)=>{if(f[Y]){let we=f[Y],ve=g[Y];if(!we||!ve)return;L.ttl=we,L.start=ve,L.now=v||_();let xe=L.now-ve;L.remainingTTL=we-xe}});let v=0,_=()=>{let L=t.now();if(this.ttlResolution>0){v=L;let Y=setTimeout(()=>v=0,this.ttlResolution);Y.unref&&Y.unref()}return L};this.getRemainingTTL=L=>{let Y=q(this,oe).get(L);if(Y===void 0)return 0;let we=f[Y],ve=g[Y];if(!we||!ve)return 1/0;let xe=(v||_())-ve;return we-xe},Ue(this,ee,L=>{let Y=g[L],we=f[L];return!!we&&!!Y&&(v||_())-Y>we})},re=new WeakMap,z=new WeakMap,le=new WeakMap,ee=new WeakMap,Ec=function(){let f=new h(q(this,w));Ue(this,se,0),Ue(this,Ee,f),Ue(this,I,g=>{Ue(this,se,q(this,se)-f[g]),f[g]=0}),Ue(this,W,(g,v,_,L)=>{if(ke(this,Q,Ge).call(this,v))return 0;if(!o(_))if(L){if(typeof L!="function")throw new TypeError("sizeCalculation must be a function");if(_=L(v,g),!o(_))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return _}),Ue(this,R,(g,v,_)=>{if(f[g]=v,q(this,k)){let L=q(this,k)-f[g];for(;q(this,se)>L;)ke(this,Q,ui).call(this,!0)}Ue(this,se,q(this,se)+f[g]),_&&(_.entrySize=v,_.totalCalculatedSize=q(this,se))})},I=new WeakMap,R=new WeakMap,W=new WeakMap,vr=function*({allowStale:f=this.allowStale}={}){if(q(this,K))for(let g=q(this,pe);!(!ke(this,Q,Mo).call(this,g)||((f||!q(this,ee).call(this,g))&&(yield g),g===q(this,Z)));)g=q(this,ae)[g]},_r=function*({allowStale:f=this.allowStale}={}){if(q(this,K))for(let g=q(this,Z);!(!ke(this,Q,Mo).call(this,g)||((f||!q(this,ee).call(this,g))&&(yield g),g===q(this,pe)));)g=q(this,ie)[g]},Mo=function(f){return f!==void 0&&q(this,oe).get(q(this,fe)[f])===f},ui=function(f){var L,Y;let g=q(this,Z),v=q(this,fe)[g],_=q(this,$)[g];return q(this,he)&&ke(this,Q,Ge).call(this,_)?_.__abortController.abort(new Error("evicted")):(q(this,D)||q(this,be))&&(q(this,D)&&((L=q(this,N))==null||L.call(this,_,v,"evict")),q(this,be)&&((Y=q(this,ue))==null||Y.push([_,v,"evict"]))),q(this,I).call(this,g),f&&(q(this,fe)[g]=void 0,q(this,$)[g]=void 0,q(this,ce).push(g)),q(this,K)===1?(Ue(this,Z,Ue(this,pe,0)),q(this,ce).length=0):Ue(this,Z,q(this,ie)[g]),q(this,oe).delete(v),qn(this,K)._--,g},ci=function(f,g,v,_){let L=g===void 0?void 0:q(this,$)[g];if(ke(this,Q,Ge).call(this,L))return L;let Y=new n,{signal:we}=v;we==null||we.addEventListener("abort",()=>Y.abort(we.reason),{signal:Y.signal});let ve={signal:Y.signal,options:v,context:_},xe=(Ye,it=!1)=>{let{aborted:Be}=Y.signal,Ke=v.ignoreFetchAbort&&Ye!==void 0;if(v.status&&(Be&&!it?(v.status.fetchAborted=!0,v.status.fetchError=Y.signal.reason,Ke&&(v.status.fetchAbortIgnored=!0)):v.status.fetchResolved=!0),Be&&!Ke&&!it)return Re(Y.signal.reason);let ct=At;return q(this,$)[g]===At&&(Ye===void 0?ct.__staleWhileFetching?q(this,$)[g]=ct.__staleWhileFetching:ke(this,Q,Er).call(this,f,"fetch"):(v.status&&(v.status.fetchUpdated=!0),this.set(f,Ye,ve.options))),Ye},Pe=Ye=>(v.status&&(v.status.fetchRejected=!0,v.status.fetchError=Ye),Re(Ye)),Re=Ye=>{let{aborted:it}=Y.signal,Be=it&&v.allowStaleOnFetchAbort,Ke=Be||v.allowStaleOnFetchRejection,ct=Ke||v.noDeleteOnFetchRejection,nt=At;if(q(this,$)[g]===At&&(!ct||nt.__staleWhileFetching===void 0?ke(this,Q,Er).call(this,f,"fetch"):Be||(q(this,$)[g]=nt.__staleWhileFetching)),Ke)return v.status&&nt.__staleWhileFetching!==void 0&&(v.status.returnedStale=!0),nt.__staleWhileFetching;if(nt.__returned===nt)throw Ye},Dt=(Ye,it)=>{var Ke;let Be=(Ke=q(this,M))==null?void 0:Ke.call(this,f,L,ve);Be&&Be instanceof Promise&&Be.then(ct=>Ye(ct===void 0?void 0:ct),it),Y.signal.addEventListener("abort",()=>{(!v.ignoreFetchAbort||v.allowStaleOnFetchAbort)&&(Ye(void 0),v.allowStaleOnFetchAbort&&(Ye=ct=>xe(ct,!0)))})};v.status&&(v.status.fetchDispatched=!0);let At=new Promise(Dt).then(xe,Pe),xt=Object.assign(At,{__abortController:Y,__staleWhileFetching:L,__returned:void 0});return g===void 0?(this.set(f,xt,{...ve.options,status:void 0}),g=q(this,oe).get(f)):q(this,$)[g]=xt,xt},Ge=function(f){if(!q(this,he))return!1;let g=f;return!!g&&g instanceof Promise&&g.hasOwnProperty("__staleWhileFetching")&&g.__abortController instanceof n},Bo=function(f,g){q(this,ae)[g]=f,q(this,ie)[f]=g},In=function(f){f!==q(this,pe)&&(f===q(this,Z)?Ue(this,Z,q(this,ie)[f]):ke(this,Q,Bo).call(this,q(this,ae)[f],q(this,ie)[f]),ke(this,Q,Bo).call(this,q(this,pe),f),Ue(this,pe,f))},Er=function(f,g){var _,L,Y,we;let v=!1;if(q(this,K)!==0){let ve=q(this,oe).get(f);if(ve!==void 0)if(v=!0,q(this,K)===1)ke(this,Q,Lo).call(this,g);else{q(this,I).call(this,ve);let xe=q(this,$)[ve];if(ke(this,Q,Ge).call(this,xe)?xe.__abortController.abort(new Error("deleted")):(q(this,D)||q(this,be))&&(q(this,D)&&((_=q(this,N))==null||_.call(this,xe,f,g)),q(this,be)&&((L=q(this,ue))==null||L.push([xe,f,g]))),q(this,oe).delete(f),q(this,fe)[ve]=void 0,q(this,$)[ve]=void 0,ve===q(this,pe))Ue(this,pe,q(this,ae)[ve]);else if(ve===q(this,Z))Ue(this,Z,q(this,ie)[ve]);else{let Pe=q(this,ae)[ve];q(this,ie)[Pe]=q(this,ie)[ve];let Re=q(this,ie)[ve];q(this,ae)[Re]=q(this,ae)[ve]}qn(this,K)._--,q(this,ce).push(ve)}}if(q(this,be)&&((Y=q(this,ue))!=null&&Y.length)){let ve=q(this,ue),xe;for(;xe=ve==null?void 0:ve.shift();)(we=q(this,F))==null||we.call(this,...xe)}return v},Lo=function(f){var g,v,_;for(let L of ke(this,Q,_r).call(this,{allowStale:!0})){let Y=q(this,$)[L];if(ke(this,Q,Ge).call(this,Y))Y.__abortController.abort(new Error("deleted"));else{let we=q(this,fe)[L];q(this,D)&&((g=q(this,N))==null||g.call(this,Y,we,f)),q(this,be)&&((v=q(this,ue))==null||v.push([Y,we,f]))}}if(q(this,oe).clear(),q(this,$).fill(void 0),q(this,fe).fill(void 0),q(this,de)&&q(this,ne)&&(q(this,de).fill(0),q(this,ne).fill(0)),q(this,Ee)&&q(this,Ee).fill(0),Ue(this,Z,0),Ue(this,pe,0),q(this,ce).length=0,Ue(this,se,0),Ue(this,K,0),q(this,be)&&q(this,ue)){let L=q(this,ue),Y;for(;Y=L==null?void 0:L.shift();)(_=q(this,F))==null||_.call(this,...Y)}},G);e.LRUCache=m}),mr=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(l=0){this.iteratorType=l}equals(l){return this.o===l.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=r;var s=class extends r{};e.Container=s}),sg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mr(),r=class extends t.Base{constructor(l=[]){super(),this.S=[];let n=this;l.forEach(function(i){n.push(i)})}clear(){this.i=0,this.S=[]}push(l){return this.S.push(l),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},s=r;e.default=s}),og=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mr(),r=class extends t.Base{constructor(l=[]){super(),this.j=0,this.q=[];let n=this;l.forEach(function(i){n.push(i)})}clear(){this.q=[],this.i=this.j=0}push(l){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let i=this.i;for(let a=0;a<i;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=l}else this.q[this.j+this.i]=l;return++this.i}pop(){if(this.i===0)return;let l=this.q[this.j++];return this.i-=1,l}front(){if(this.i!==0)return this.q[this.j]}},s=r;e.default=s}),ag=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mr(),r=class extends t.Base{constructor(l=[],n=function(a,o){return a>o?-1:a<o?1:0},i=!0){if(super(),this.v=n,Array.isArray(l))this.C=i?[...l]:l;else{this.C=[];let o=this;l.forEach(function(u){o.C.push(u)})}this.i=this.C.length;let a=this.i>>1;for(let o=this.i-1>>1;o>=0;--o)this.k(o,a)}m(l){let n=this.C[l];for(;l>0;){let i=l-1>>1,a=this.C[i];if(this.v(a,n)<=0)break;this.C[l]=a,l=i}this.C[l]=n}k(l,n){let i=this.C[l];for(;l<n;){let a=l<<1|1,o=a+1,u=this.C[a];if(o<this.i&&this.v(u,this.C[o])>0&&(a=o,u=this.C[o]),this.v(u,i)>=0)break;this.C[l]=u,l=a}this.C[l]=i}clear(){this.i=0,this.C.length=0}push(l){this.C.push(l),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let l=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),l}top(){return this.C[0]}find(l){return this.C.indexOf(l)>=0}remove(l){let n=this.C.indexOf(l);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(l){let n=this.C.indexOf(l);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},s=r;e.default=s}),ba=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mr(),r=class extends t.Container{},s=r;e.default=s}),yr=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),Sc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=mr(),r=yr(),s=class extends t.ContainerIterator{constructor(l,n){super(n),this.o=l,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(l){this.container.setElementByPos(this.o,l)}};e.RandomIterator=s}),lg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(ba()),r=Sc();function s(a){return a&&a.t?a:{default:a}}var l=class Ac extends r.RandomIterator{constructor(o,u,h){super(o,h),this.container=u}copy(){return new Ac(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(a=[],o=!0){if(super(),Array.isArray(a))this.J=o?[...a]:a,this.i=a.length;else{this.J=[];let u=this;a.forEach(function(h){u.pushBack(h)})}}clear(){this.i=0,this.J.length=0}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let o=0;for(let u=0;u<this.i;++u)this.J[u]!==a&&(this.J[o++]=this.J[u]);return this.i=this.J.length=o,this.i}eraseElementByIterator(a){let o=a.o;return a=a.next(),this.eraseElementByPos(o),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,o){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=o}insert(a,o,u=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(u).fill(o)),this.i+=u,this.i}find(a){for(let o=0;o<this.i;++o)if(this.J[o]===a)return new l(o,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let o=1;o<this.i;++o)this.J[o]!==this.J[o-1]&&(this.J[a++]=this.J[o]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let o=0;o<this.i;++o)a(this.J[o],o,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},i=n;e.default=i}),ug=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(ba()),r=mr(),s=yr();function l(o){return o&&o.t?o:{default:o}}var n=class Tc extends r.ContainerIterator{constructor(u,h,d,m){super(m),this.o=u,this.h=h,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l=u}copy(){return new Tc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(o=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;o.forEach(function(h){u.pushBack(h)})}V(o){let{L:u,B:h}=o;u.B=h,h.L=u,o===this.p&&(this.p=h),o===this._&&(this._=u),this.i-=1}G(o,u){let h=u.B,d={l:o,L:u,B:h};u.B=d,h.L=d,u===this.h&&(this.p=d),h===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let u=this.p;for(;o--;)u=u.B;return u.l}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let u=this.p;for(;o--;)u=u.B;return this.V(u),this.i}eraseElementByValue(o){let u=this.p;for(;u!==this.h;)u.l===o&&this.V(u),u=u.B;return this.i}eraseElementByIterator(o){let u=o.o;return u===this.h&&(0,s.throwIteratorAccessError)(),o=o.next(),this.V(u),o}pushBack(o){return this.G(o,this._),this.i}popBack(){if(this.i===0)return;let o=this._.l;return this.V(this._),o}pushFront(o){return this.G(o,this.h),this.i}popFront(){if(this.i===0)return;let o=this.p.l;return this.V(this.p),o}setElementByPos(o,u){if(o<0||o>this.i-1)throw new RangeError;let h=this.p;for(;o--;)h=h.B;h.l=u}insert(o,u,h=1){if(o<0||o>this.i)throw new RangeError;if(h<=0)return this.i;if(o===0)for(;h--;)this.pushFront(u);else if(o===this.i)for(;h--;)this.pushBack(u);else{let d=this.p;for(let y=1;y<o;++y)d=d.B;let m=d.B;for(this.i+=h;h--;)d.B={l:u,L:d},d.B.L=d,d=d.B;d.B=m,m.L=d}return this.i}find(o){let u=this.p;for(;u!==this.h;){if(u.l===o)return new n(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let o=this.p,u=this._,h=0;for(;h<<1<this.i;){let d=o.l;o.l=u.l,u.l=d,o=o.B,u=u.L,h+=1}}unique(){if(this.i<=1)return this.i;let o=this.p;for(;o!==this.h;){let u=o;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;o.B=u.B,o.B.L=o,o=o.B}return this.i}sort(o){if(this.i<=1)return;let u=[];this.forEach(function(d){u.push(d)}),u.sort(o);let h=this.p;u.forEach(function(d){h.l=d,h=h.B})}merge(o){let u=this;if(this.i===0)o.forEach(function(h){u.pushBack(h)});else{let h=this.p;o.forEach(function(d){for(;h!==u.h&&h.l<=d;)h=h.B;u.G(d,h.L)})}return this.i}forEach(o){let u=this.p,h=0;for(;u!==this.h;)o(u.l,h++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let o=this.p;for(;o!==this.h;)yield o.l,o=o.B}).bind(this)()}},a=i;e.default=a}),cg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(ba()),r=Sc();function s(a){return a&&a.t?a:{default:a}}var l=class Ic extends r.RandomIterator{constructor(o,u,h){super(o,h),this.container=u}copy(){return new Ic(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(a=[],o=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=o,this.P=Math.max(Math.ceil(u/this.F),1);for(let m=0;m<this.P;++m)this.A.push(new Array(this.F));let h=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(h>>1),this.D=this.N=this.F-u%this.F>>1;let d=this;a.forEach(function(m){d.pushBack(m)})}T(){let a=[],o=Math.max(this.P>>1,1);for(let u=0;u<o;++u)a[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)a[a.length]=this.A[u];for(let u=0;u<this.R;++u)a[a.length]=this.A[u];a[a.length]=[...this.A[this.R]],this.j=o,this.R=a.length-1;for(let u=0;u<o;++u)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let o=this.D+a+1,u=o%this.F,h=u-1,d=this.j+(o-u)/this.F;return u===0&&(d-=1),d%=this.P,h<0&&(h+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:h}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:o,curNodePointerIndex:u}=this.O(a);return this.A[o][u]}setElementByPos(a,o){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:h}=this.O(a);this.A[u][h]=o}insert(a,o,u=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;u--;)this.pushFront(o);else if(a===this.i)for(;u--;)this.pushBack(o);else{let h=[];for(let d=a;d<this.i;++d)h.push(this.getElementByPos(d));this.cut(a-1);for(let d=0;d<u;++d)this.pushBack(o);for(let d=0;d<h.length;++d)this.pushBack(h[d])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:o,curNodePointerIndex:u}=this.O(a);return this.R=o,this.N=u,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let o=[];for(let h=a+1;h<this.i;++h)o.push(this.getElementByPos(h));this.cut(a),this.popBack();let u=this;o.forEach(function(h){u.pushBack(h)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let o=[];for(let h=0;h<this.i;++h){let d=this.getElementByPos(h);d!==a&&o.push(d)}let u=o.length;for(let h=0;h<u;++h)this.setElementByPos(h,o[h]);return this.cut(u-1)}eraseElementByIterator(a){let o=a.o;return this.eraseElementByPos(o),a=a.next(),a}find(a){for(let o=0;o<this.i;++o)if(this.getElementByPos(o)===a)return new l(o,this);return this.end()}reverse(){let a=0,o=this.i-1;for(;a<o;){let u=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(o)),this.setElementByPos(o,u),a+=1,o-=1}}unique(){if(this.i<=1)return this.i;let a=1,o=this.getElementByPos(0);for(let u=1;u<this.i;++u){let h=this.getElementByPos(u);h!==o&&(o=h,this.setElementByPos(a++,h))}for(;this.i>a;)this.popBack();return this.i}sort(a){let o=[];for(let u=0;u<this.i;++u)o.push(this.getElementByPos(u));o.sort(a);for(let u=0;u<this.i;++u)this.setElementByPos(u,o[u])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(o){a.push(o)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let o=0;o<this.P;++o)this.A.push(new Array(this.F));for(let o=0;o<a.length;++o)this.pushBack(a[o])}forEach(a){for(let o=0;o<this.i;++o)a(this.getElementByPos(o),o,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},i=n;e.default=i}),hg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(s,l){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=s,this.l=l}L(){let s=this;if(s.ee===1&&s.tt.tt===s)s=s.W;else if(s.U)for(s=s.U;s.W;)s=s.W;else{let l=s.tt;for(;l.U===s;)s=l,l=s.tt;s=l}return s}B(){let s=this;if(s.W){for(s=s.W;s.U;)s=s.U;return s}else{let l=s.tt;for(;l.W===s;)s=l,l=s.tt;return s.W!==l?l:s}}te(){let s=this.tt,l=this.W,n=l.U;return s.tt===this?s.tt=l:s.U===this?s.U=l:s.W=l,l.tt=s,l.U=this,this.tt=l,this.W=n,n&&(n.tt=this),l}se(){let s=this.tt,l=this.U,n=l.W;return s.tt===this?s.tt=l:s.U===this?s.U=l:s.W=l,l.tt=s,l.W=this,this.tt=l,this.U=n,n&&(n.tt=this),l}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let s=super.te();return this.ie(),s.ie(),s}se(){let s=super.se();return this.ie(),s.ie(),s}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r}),xc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=hg(),r=mr(),s=yr(),l=class extends r.Container{constructor(i=function(o,u){return o<u?-1:o>u?1:0},a=!1){super(),this.Y=void 0,this.v=i,a?(this.re=t.TreeNodeEnableIndex,this.M=function(o,u,h){let d=this.ne(o,u,h);if(d){let m=d.tt;for(;m!==this.h;)m.rt+=1,m=m.tt;let y=this.he(d);if(y){let{parentNode:b,grandParent:T,curNode:E}=y;b.ie(),T.ie(),E.ie()}}return this.i},this.V=function(o){let u=this.fe(o);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=t.TreeNode,this.M=function(o,u,h){let d=this.ne(o,u,h);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(i,a){let o=this.h;for(;i;){let u=this.v(i.u,a);if(u<0)i=i.W;else if(u>0)o=i,i=i.U;else return i}return o}Z(i,a){let o=this.h;for(;i;)this.v(i.u,a)<=0?i=i.W:(o=i,i=i.U);return o}$(i,a){let o=this.h;for(;i;){let u=this.v(i.u,a);if(u<0)o=i,i=i.W;else if(u>0)i=i.U;else return i}return o}rr(i,a){let o=this.h;for(;i;)this.v(i.u,a)<0?(o=i,i=i.W):i=i.U;return o}ue(i){for(;;){let a=i.tt;if(a===this.h)return;if(i.ee===1){i.ee=0;return}if(i===a.U){let o=a.W;if(o.ee===1)o.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(o.W&&o.W.ee===1){o.ee=a.ee,a.ee=0,o.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else o.U&&o.U.ee===1?(o.ee=1,o.U.ee=0,o.se()):(o.ee=1,i=a)}else{let o=a.U;if(o.ee===1)o.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(o.U&&o.U.ee===1){o.ee=a.ee,a.ee=0,o.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else o.W&&o.W.ee===1?(o.ee=1,o.W.ee=0,o.te()):(o.ee=1,i=a)}}}fe(i){if(this.i===1)return this.clear(),this.h;let a=i;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[i.u,a.u]=[a.u,i.u],[i.l,a.l]=[a.l,i.l],i=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let o=a.tt;return a===o.U?o.U=void 0:o.W=void 0,this.i-=1,this.Y.ee=0,o}oe(i,a){return i===void 0?!1:this.oe(i.U,a)||a(i)?!0:this.oe(i.W,a)}he(i){for(;;){let a=i.tt;if(a.ee===0)return;let o=a.tt;if(a===o.U){let u=o.W;if(u&&u.ee===1){if(u.ee=a.ee=0,o===this.Y)return;o.ee=1,i=o;continue}else if(i===a.W){if(i.ee=0,i.U&&(i.U.tt=a),i.W&&(i.W.tt=o),a.W=i.U,o.U=i.W,i.U=a,i.W=o,o===this.Y)this.Y=i,this.h.tt=i;else{let h=o.tt;h.U===o?h.U=i:h.W=i}return i.tt=o.tt,a.tt=i,o.tt=i,o.ee=1,{parentNode:a,grandParent:o,curNode:i}}else a.ee=0,o===this.Y?this.Y=o.se():o.se(),o.ee=1}else{let u=o.U;if(u&&u.ee===1){if(u.ee=a.ee=0,o===this.Y)return;o.ee=1,i=o;continue}else if(i===a.U){if(i.ee=0,i.U&&(i.U.tt=o),i.W&&(i.W.tt=a),o.W=i.U,a.U=i.W,i.U=o,i.W=a,o===this.Y)this.Y=i,this.h.tt=i;else{let h=o.tt;h.U===o?h.U=i:h.W=i}return i.tt=o.tt,a.tt=i,o.tt=i,o.ee=1,{parentNode:a,grandParent:o,curNode:i}}else a.ee=0,o===this.Y?this.Y=o.te():o.te(),o.ee=1}return}}ne(i,a,o){if(this.Y===void 0){this.i+=1,this.Y=new this.re(i,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,h=this.h.U,d=this.v(h.u,i);if(d===0){h.l=a;return}else if(d>0)h.U=new this.re(i,a),h.U.tt=h,u=h.U,this.h.U=u;else{let m=this.h.W,y=this.v(m.u,i);if(y===0){m.l=a;return}else if(y<0)m.W=new this.re(i,a),m.W.tt=m,u=m.W,this.h.W=u;else{if(o!==void 0){let b=o.o;if(b!==this.h){let T=this.v(b.u,i);if(T===0){b.l=a;return}else if(T>0){let E=b.L(),P=this.v(E.u,i);if(P===0){E.l=a;return}else P<0&&(u=new this.re(i,a),E.W===void 0?(E.W=u,u.tt=E):(b.U=u,u.tt=b))}}}if(u===void 0)for(u=this.Y;;){let b=this.v(u.u,i);if(b>0){if(u.U===void 0){u.U=new this.re(i,a),u.U.tt=u,u=u.U;break}u=u.U}else if(b<0){if(u.W===void 0){u.W=new this.re(i,a),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=a;return}}}}return this.i+=1,u}I(i,a){for(;i;){let o=this.v(i.u,a);if(o<0)i=i.W;else if(o>0)i=i.U;else return i}return i||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(i,a){let o=i.o;if(o===this.h&&(0,s.throwIteratorAccessError)(),this.i===1)return o.u=a,!0;if(o===this.h.U)return this.v(o.B().u,a)>0?(o.u=a,!0):!1;if(o===this.h.W)return this.v(o.L().u,a)<0?(o.u=a,!0):!1;let u=o.L().u;if(this.v(u,a)>=0)return!1;let h=o.B().u;return this.v(h,a)<=0?!1:(o.u=a,!0)}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=0,o=this;return this.oe(this.Y,function(u){return i===a?(o.V(u),!0):(a+=1,!1)}),this.i}eraseElementByKey(i){if(this.i===0)return!1;let a=this.I(this.Y,i);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(i){let a=i.o;a===this.h&&(0,s.throwIteratorAccessError)();let o=a.W===void 0;return i.iteratorType===0?o&&i.next():(!o||a.U===void 0)&&i.next(),this.V(a),i}forEach(i){let a=0;for(let o of this)i(o,a++,this)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a,o=0;for(let u of this){if(o===i){a=u;break}o+=1}return a}getHeight(){if(this.i===0)return 0;let i=function(a){return a?Math.max(i(a.U),i(a.W))+1:0};return i(this.Y)}},n=l;e.default=n}),kc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mr(),r=yr(),s=class extends t.ContainerIterator{constructor(n,i,a){super(a),this.o=n,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,i=this.h.tt;if(n===this.h)return i?i.rt-1:0;let a=0;for(n.U&&(a+=n.U.rt);n!==i;){let o=n.tt;n===o.W&&(a+=1,o.U&&(a+=o.U.rt)),n=o}return a}},l=s;e.default=l}),fg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(xc()),r=l(kc()),s=yr();function l(o){return o&&o.t?o:{default:o}}var n=class Cc extends r.default{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Cc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(o=[],u,h){super(u,h);let d=this;o.forEach(function(m){d.insert(m)})}*K(o){o!==void 0&&(yield*this.K(o.U),yield o.u,yield*this.K(o.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(o,u){return this.M(o,void 0,u)}find(o){let u=this.I(this.Y,o);return new n(u,this.h,this)}lowerBound(o){let u=this.X(this.Y,o);return new n(u,this.h,this)}upperBound(o){let u=this.Z(this.Y,o);return new n(u,this.h,this)}reverseLowerBound(o){let u=this.$(this.Y,o);return new n(u,this.h,this)}reverseUpperBound(o){let u=this.rr(this.Y,o);return new n(u,this.h,this)}union(o){let u=this;return o.forEach(function(h){u.insert(h)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=i;e.default=a}),dg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(xc()),r=l(kc()),s=yr();function l(o){return o&&o.t?o:{default:o}}var n=class Oc extends r.default{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let u=this;return new Proxy([],{get(h,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(h,d,m){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=m,!0}})}copy(){return new Oc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(o=[],u,h){super(u,h);let d=this;o.forEach(function(m){d.setElement(m[0],m[1])})}*K(o){o!==void 0&&(yield*this.K(o.U),yield[o.u,o.l],yield*this.K(o.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let o=this.h.U;return[o.u,o.l]}back(){if(this.i===0)return;let o=this.h.W;return[o.u,o.l]}lowerBound(o){let u=this.X(this.Y,o);return new n(u,this.h,this)}upperBound(o){let u=this.Z(this.Y,o);return new n(u,this.h,this)}reverseLowerBound(o){let u=this.$(this.Y,o);return new n(u,this.h,this)}reverseUpperBound(o){let u=this.rr(this.Y,o);return new n(u,this.h,this)}setElement(o,u,h){return this.M(o,u,h)}find(o){let u=this.I(this.Y,o);return new n(u,this.h,this)}getElementByKey(o){return this.I(this.Y,o).l}union(o){let u=this;return o.forEach(function(h){u.setElement(h[0],h[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=i;e.default=a}),Pc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(r){let s=typeof r;return s==="object"&&r!==null||s==="function"}}),Rc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=mr(),r=l(Pc()),s=yr();function l(a){return a&&a.t?a:{default:a}}var n=class extends t.ContainerIterator{constructor(a,o,u){super(u),this.o=a,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=n;var i=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:o,B:u}=a;o.B=u,u.L=o,a===this.p&&(this.p=u),a===this._&&(this._=o),this.i-=1}M(a,o,u){u===void 0&&(u=(0,r.default)(a));let h;if(u){let d=a[this.HASH_TAG];if(d!==void 0)return this.H[d].l=o,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),h={u:a,l:o,L:this._,B:this.h},this.H.push(h)}else{let d=this.g[a];if(d)return d.l=o,this.i;h={u:a,l:o,L:this._,B:this.h},this.g[a]=h}return this.i===0?(this.p=h,this.h.B=h):this._.B=h,this._=h,this.h.L=h,++this.i}I(a,o){if(o===void 0&&(o=(0,r.default)(a)),o){let u=a[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(o){delete o.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,o){let u;if(o===void 0&&(o=(0,r.default)(a)),o){let h=a[this.HASH_TAG];if(h===void 0)return!1;delete a[this.HASH_TAG],u=this.H[h],delete this.H[h]}else{if(u=this.g[a],u===void 0)return!1;delete this.g[a]}return this.V(u),!0}eraseElementByIterator(a){let o=a.o;return o===this.h&&(0,s.throwIteratorAccessError)(),this.V(o),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o=this.p;for(;a--;)o=o.B;return this.V(o),this.i}};e.HashContainer=i}),pg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Rc(),r=yr(),s=class Uc extends t.HashContainerIterator{constructor(a,o,u,h){super(a,o,h),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new Uc(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.HashContainer{constructor(i=[]){super();let a=this;i.forEach(function(o){a.insert(o)})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(i,a){return this.M(i,void 0,a)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let a=this.p;for(;i--;)a=a.B;return a.u}find(i,a){let o=this.I(i,a);return new s(o,this.h,this)}forEach(i){let a=0,o=this.p;for(;o!==this.h;)i(o.u,a++,this),o=o.B}[Symbol.iterator](){return(function*(){let i=this.p;for(;i!==this.h;)yield i.u,i=i.B}).bind(this)()}},n=l;e.default=n}),gg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Rc(),r=l(Pc()),s=yr();function l(o){return o&&o.t?o:{default:o}}var n=class Mc extends t.HashContainerIterator{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let u=this;return new Proxy([],{get(h,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(h,d,m){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=m,!0}})}copy(){return new Mc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(o=[]){super();let u=this;o.forEach(function(h){u.setElement(h[0],h[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(o,u,h){return this.M(o,u,h)}getElementByKey(o,u){if(u===void 0&&(u=(0,r.default)(o)),u){let d=o[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let h=this.g[o];return h?h.l:void 0}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let u=this.p;for(;o--;)u=u.B;return[u.u,u.l]}find(o,u){let h=this.I(o,u);return new n(h,this.h,this)}forEach(o){let u=0,h=this.p;for(;h!==this.h;)o([h.u,h.l],u++,this),h=h.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield[o.u,o.l],o=o.B}).bind(this)()}},a=i;e.default=a}),mg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return l.default}});var t=d(sg()),r=d(og()),s=d(ag()),l=d(lg()),n=d(ug()),i=d(cg()),a=d(fg()),o=d(dg()),u=d(pg()),h=d(gg());function d(m){return m&&m.t?m:{default:m}}}),yg=_e((e,t)=>{ge(),ye(),me();var r=mg().OrderedSet,s=dr()("number-allocator:trace"),l=dr()("number-allocator:error");function n(a,o){this.low=a,this.high=o}n.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},n.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function i(a,o){if(!(this instanceof i))return new i(a,o);this.min=a,this.max=o,this.ss=new r([],(u,h)=>u.compare(h)),s("Create"),this.clear()}i.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},i.prototype.alloc=function(){if(this.ss.size()===0)return s("alloc():empty"),null;let a=this.ss.begin(),o=a.pointer.low,u=a.pointer.high,h=o;return h+1<=u?this.ss.updateKeyByIterator(a,new n(o+1,u)):this.ss.eraseElementByPos(0),s("alloc():"+h),h},i.prototype.use=function(a){let o=new n(a,a),u=this.ss.lowerBound(o);if(!u.equals(this.ss.end())){let h=u.pointer.low,d=u.pointer.high;return u.pointer.equals(o)?(this.ss.eraseElementByIterator(u),s("use():"+a),!0):h>a?!1:h===a?(this.ss.updateKeyByIterator(u,new n(h+1,d)),s("use():"+a),!0):d===a?(this.ss.updateKeyByIterator(u,new n(h,d-1)),s("use():"+a),!0):(this.ss.updateKeyByIterator(u,new n(a+1,d)),this.ss.insert(new n(h,a-1)),s("use():"+a),!0)}return s("use():failed"),!1},i.prototype.free=function(a){if(a<this.min||a>this.max){l("free():"+a+" is out of range");return}let o=new n(a,a),u=this.ss.upperBound(o);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(o);return}u.pre();let h=u.pointer.high;u.pointer.high+1===a?this.ss.updateKeyByIterator(u,new n(h,a)):this.ss.insert(o)}else if(u.equals(this.ss.begin()))if(a+1===u.pointer.low){let h=u.pointer.high;this.ss.updateKeyByIterator(u,new n(a,h))}else this.ss.insert(o);else{let h=u.pointer.low,d=u.pointer.high;u.pre();let m=u.pointer.low;u.pointer.high+1===a?a+1===h?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new n(m,d))):this.ss.updateKeyByIterator(u,new n(m,a)):a+1===h?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new n(a,d))):this.ss.insert(o)}s("free():"+a)},i.prototype.clear=function(){s("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},i.prototype.intervalCount=function(){return this.ss.size()},i.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},t.exports=i}),Bc=_e((e,t)=>{ge(),ye(),me();var r=yg();t.exports.NumberAllocator=r}),bg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=ig(),r=Bc(),s=class{constructor(l){l>0&&(this.aliasToTopic=new t.LRUCache({max:l}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,l),this.max=l,this.length=0)}put(l,n){if(n===0||n>this.max)return!1;let i=this.aliasToTopic.get(n);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(n,l),this.topicToAlias[l]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(l){return this.aliasToTopic.get(l)}getAliasByTopic(l){let n=this.topicToAlias[l];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=s}),wg=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=Di(),s=t(bg()),l=bn(),n=(i,a)=>{i.log("_handleConnack");let{options:o}=i,u=o.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(i.connackTimer),delete i.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){i.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(i.topicAliasSend=new s.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&o.keepalive&&(o.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(o.properties||(o.properties={}),o.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(u===0)i.reconnecting=!1,i._onConnect(a);else if(u>0){let h=new l.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);i.emit("error",h),i.options.reconnectOnConnackError&&i._cleanUp(!0)}};e.default=n}),vg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(r,s,l)=>{r.log("handling pubrel packet");let n=typeof l<"u"?l:r.noop,{messageId:i}=s,a={cmd:"pubcomp",messageId:i};r.incomingStore.get(s,(o,u)=>{o?r._sendPacket(a,n):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,h=>{if(h)return n(h);r.incomingStore.del(u,r.noop),r._sendPacket(a,n)}))})};e.default=t}),_g=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(tg()),s=t(ng()),l=t(wg()),n=t(Di()),i=t(vg()),a=(o,u,h)=>{let{options:d}=o;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<u.length)return o.emit("error",new Error(`exceeding packets size ${u.cmd}`)),o.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),o;switch(o.log("_handlePacket :: emitting packetreceive"),o.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(o,u,h);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":o.reschedulePing(),(0,n.default)(o,u),h();break;case"pubrel":o.reschedulePing(),(0,i.default)(o,u,h);break;case"connack":(0,l.default)(o,u),h();break;case"auth":o.reschedulePing(),(0,s.default)(o,u),h();break;case"pingresp":o.log("_handlePacket :: received pingresp"),o.reschedulePing(!0),h();break;case"disconnect":o.emit("disconnect",u),h();break;default:o.log("_handlePacket :: unknown command"),h();break}};e.default=a}),Eg=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((en(),qe(Br))),s=bn(),l=class{};e.TypedEventEmitter=l,(0,s.applyMixin)(l,r.default)}),Fi=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var n;return typeof window<"u"?typeof navigator<"u"&&((n=navigator.userAgent)===null||n===void 0?void 0:n.toLowerCase().indexOf(" electron/"))>-1&&De!=null&&De.versions?!Object.prototype.hasOwnProperty.call(De.versions,"electron"):typeof window.document<"u":!1},r=()=>{var n,i;return!!(typeof self=="object"&&!((i=(n=self==null?void 0:self.constructor)===null||n===void 0?void 0:n.name)===null||i===void 0)&&i.includes("WorkerGlobalScope"))},s=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l=t()||r()||s();e.isWebWorker=r(),e.isReactNativeBrowser=s(),e.default=l}),Sg=_e((e,t)=>{ge(),ye(),me(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e):typeof define=="function"&&define.amd?define(["exports"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.fastUniqueNumbers={}))}(e,function(r){var s=function(y){return function(b){var T=y(b);return b.add(T),T}},l=function(y){return function(b,T){return y.set(b,T),T}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,i=536870912,a=i*2,o=function(y,b){return function(T){var E=b.get(T),P=E===void 0?T.size:E<a?E+1:0;if(!T.has(P))return y(T,P);if(T.size<i){for(;T.has(P);)P=Math.floor(Math.random()*a);return y(T,P)}if(T.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;T.has(P);)P=Math.floor(Math.random()*n);return y(T,P)}},u=new WeakMap,h=l(u),d=o(h,u),m=s(d);r.addUniqueNumber=m,r.generateUniqueNumber=d})}),Ag=_e((e,t)=>{ge(),ye(),me(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e,Sg()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.workerTimersBroker={},r.fastUniqueNumbers))}(e,function(r,s){var l=function(a){return a.method!==void 0&&a.method==="call"},n=function(a){return a.error===null&&typeof a.id=="number"},i=function(a){var o=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),h=new Map,d=new Worker(a);d.addEventListener("message",function(E){var P=E.data;if(l(P)){var w=P.params,k=w.timerId,N=w.timerType;if(N==="interval"){var F=o.get(k);if(typeof F=="number"){var M=h.get(F);if(M===void 0||M.timerId!==k||M.timerType!==N)throw new Error("The timer is in an undefined state.")}else if(typeof F<"u")F();else throw new Error("The timer is in an undefined state.")}else if(N==="timeout"){var j=u.get(k);if(typeof j=="number"){var K=h.get(j);if(K===void 0||K.timerId!==k||K.timerType!==N)throw new Error("The timer is in an undefined state.")}else if(typeof j<"u")j(),u.delete(k);else throw new Error("The timer is in an undefined state.")}}else if(n(P)){var se=P.id,oe=h.get(se);if(oe===void 0)throw new Error("The timer is in an undefined state.");var fe=oe.timerId,$=oe.timerType;h.delete(se),$==="interval"?o.delete(fe):u.delete(fe)}else{var ie=P.error.message;throw new Error(ie)}});var m=function(E){var P=s.generateUniqueNumber(h);h.set(P,{timerId:E,timerType:"interval"}),o.set(E,P),d.postMessage({id:P,method:"clear",params:{timerId:E,timerType:"interval"}})},y=function(E){var P=s.generateUniqueNumber(h);h.set(P,{timerId:E,timerType:"timeout"}),u.set(E,P),d.postMessage({id:P,method:"clear",params:{timerId:E,timerType:"timeout"}})},b=function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=s.generateUniqueNumber(o);return o.set(w,function(){E(),typeof o.get(w)=="function"&&d.postMessage({id:null,method:"set",params:{delay:P,now:performance.now(),timerId:w,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:P,now:performance.now(),timerId:w,timerType:"interval"}}),w},T=function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=s.generateUniqueNumber(u);return u.set(w,E),d.postMessage({id:null,method:"set",params:{delay:P,now:performance.now(),timerId:w,timerType:"timeout"}}),w};return{clearInterval:m,clearTimeout:y,setInterval:b,setTimeout:T}};r.load=i})}),Tg=_e((e,t)=>{ge(),ye(),me(),function(r,s){typeof e=="object"&&typeof t<"u"?s(e,Ag()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.workerTimers={},r.workerTimersBroker))}(e,function(r,s){var l=function(d,m){var y=null;return function(){if(y!==null)return y;var b=new Blob([m],{type:"application/javascript; charset=utf-8"}),T=URL.createObjectURL(b);return y=d(T),setTimeout(function(){return URL.revokeObjectURL(T)}),y}},n=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,i=l(s.load,n),a=function(d){return i().clearInterval(d)},o=function(d){return i().clearTimeout(d)},u=function(){var d;return(d=i()).setInterval.apply(d,arguments)},h=function(){var d;return(d=i()).setTimeout.apply(d,arguments)};r.clearInterval=a,r.clearTimeout=o,r.setInterval=u,r.setTimeout=h})}),Ig=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(u,h,d,m){m===void 0&&(m=d);var y=Object.getOwnPropertyDescriptor(h,d);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(u,m,y)}:function(u,h,d,m){m===void 0&&(m=d),u[m]=h[d]}),r=e&&e.__setModuleDefault||(Object.create?function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}:function(u,h){u.default=h}),s=e&&e.__importStar||function(){var u=function(h){return u=Object.getOwnPropertyNames||function(d){var m=[];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(m[m.length]=y);return m},u(h)};return function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var m=u(h),y=0;y<m.length;y++)m[y]!=="default"&&t(d,h,m[y]);return r(d,h),d}}();Object.defineProperty(e,"__esModule",{value:!0});var l=s(Fi()),n=Tg(),i={set:n.setInterval,clear:n.clearInterval},a={set:(u,h)=>setInterval(u,h),clear:u=>clearInterval(u)},o=u=>{switch(u){case"native":return a;case"worker":return i;case"auto":default:return l.default&&!l.isWebWorker&&!l.isReactNativeBrowser?i:a}};e.default=o}),Lc=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Ig()),s=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(l,n){this.destroyed=!1,this.client=l,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,r.default)(n),this.setKeepalive(l.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(l){if(l*=1e3,isNaN(l)||l<=0||l>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${l}`);this._keepalive=l,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${l}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let l=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+l,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=s}),No=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(F,M,j,K){K===void 0&&(K=j);var se=Object.getOwnPropertyDescriptor(M,j);(!se||("get"in se?!M.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return M[j]}}),Object.defineProperty(F,K,se)}:function(F,M,j,K){K===void 0&&(K=j),F[K]=M[j]}),r=e&&e.__setModuleDefault||(Object.create?function(F,M){Object.defineProperty(F,"default",{enumerable:!0,value:M})}:function(F,M){F.default=M}),s=e&&e.__importStar||function(){var F=function(M){return F=Object.getOwnPropertyNames||function(j){var K=[];for(var se in j)Object.prototype.hasOwnProperty.call(j,se)&&(K[K.length]=se);return K},F(M)};return function(M){if(M&&M.__esModule)return M;var j={};if(M!=null)for(var K=F(M),se=0;se<K.length;se++)K[se]!=="default"&&t(j,M,K[se]);return r(j,M),j}}(),l=e&&e.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0});var n=l(Mp()),i=l(Jp()),a=l(bc()),o=rn(),u=l(Zp()),h=s(eg()),d=l(dr()),m=l(wc()),y=l(_g()),b=bn(),T=Eg(),E=l(Lc()),P=s(Fi()),w=globalThis.setImmediate||((...F)=>{let M=F.shift();(0,b.nextTick)(()=>{M(...F)})}),k={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},N=class jo extends T.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(M,j){super(),this.options=j||{};for(let K in k)typeof this.options[K]>"u"?this.options[K]=k[K]:this.options[K]=j[K];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",jo.VERSION),P.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",P.default?"browser":"node"),this.log("MqttClient :: options.protocol",j.protocol),this.log("MqttClient :: options.protocolVersion",j.protocolVersion),this.log("MqttClient :: options.username",j.username),this.log("MqttClient :: options.keepalive",j.keepalive),this.log("MqttClient :: options.reconnectPeriod",j.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",j.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",j.properties?j.properties.topicAliasMaximum:void 0),this.options.clientId=typeof j.clientId=="string"?j.clientId:jo.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=j.protocolVersion===5&&j.customHandleAcks?j.customHandleAcks:(...K)=>{K[3](null,0)},this.options.writeCache||(i.default.writeToStream.cacheNumbers=!1),this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=j.outgoingStore||new m.default,this.incomingStore=j.incomingStore||new m.default,this.queueQoSZero=j.queueQoSZero===void 0?!0:j.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,j.properties&&j.properties.topicAliasMaximum>0&&(j.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new n.default(j.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:K}=this,se=()=>{let oe=K.shift();this.log("deliver :: entry %o",oe);let fe=null;if(!oe){this._resubscribe();return}fe=oe.packet,this.log("deliver :: call _sendPacket for %o",fe);let $=!0;fe.messageId&&fe.messageId!==0&&(this.messageIdProvider.register(fe.messageId)||($=!1)),$?this._sendPacket(fe,ie=>{oe.cb&&oe.cb(ie),se()}):(this.log("messageId: %d has already used. The message is skipped and removed.",fe.messageId),se())};this.log("connect :: sending queued packets"),se()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(M,j){j()}handleMessage(M,j){j()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var M;let j=new o.Writable,K=i.default.parser(this.options),se=null,oe=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),K.on("packet",Z=>{this.log("parser :: on packet push to packets array."),oe.push(Z)});let fe=()=>{this.log("work :: getting next packet in queue");let Z=oe.shift();if(Z)this.log("work :: packet pulled from queue"),(0,y.default)(this,Z,$);else{this.log("work :: no packets in queue");let pe=se;se=null,this.log("work :: done flag is %s",!!pe),pe&&pe()}},$=()=>{if(oe.length)(0,b.nextTick)(fe);else{let Z=se;se=null,Z()}};j._write=(Z,pe,ce)=>{se=ce,this.log("writable stream :: parsing buffer"),K.parse(Z),fe()};let ie=Z=>{this.log("streamErrorHandler :: error",Z.message),Z.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Z)):this.noop(Z)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(j),this.stream.on("error",ie),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ae={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ae.will=Object.assign(Object.assign({},this.options.will),{payload:(M=this.options.will)===null||M===void 0?void 0:M.payload})),this.topicAliasRecv&&(ae.properties||(ae.properties={}),this.topicAliasRecv&&(ae.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ae),K.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let Z=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Z)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(M,j,K,se){this.log("publish :: message `%s` to topic `%s`",j,M);let{options:oe}=this;typeof K=="function"&&(se=K,K=null),K=K||{},K=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),K);let{qos:fe,retain:$,dup:ie,properties:ae,cbStorePut:Z}=K;if(this._checkDisconnecting(se))return this;let pe=()=>{let ce=0;if((fe===1||fe===2)&&(ce=this._nextId(),ce===null))return this.log("No messageId left"),!1;let ue={cmd:"publish",topic:M,payload:j,qos:fe,retain:$,messageId:ce,dup:ie};switch(oe.protocolVersion===5&&(ue.properties=ae),this.log("publish :: qos",fe),fe){case 1:case 2:this.outgoing[ue.messageId]={volatile:!1,cb:se||this.noop},this.log("MqttClient:publish: packet cmd: %s",ue.cmd),this._sendPacket(ue,void 0,Z);break;default:this.log("MqttClient:publish: packet cmd: %s",ue.cmd),this._sendPacket(ue,se,Z);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!pe())&&this._storeProcessingQueue.push({invoke:pe,cbStorePut:K.cbStorePut,callback:se}),this}publishAsync(M,j,K){return new Promise((se,oe)=>{this.publish(M,j,K,(fe,$)=>{fe?oe(fe):se($)})})}subscribe(M,j,K){let se=this.options.protocolVersion;typeof j=="function"&&(K=j),K=K||this.noop;let oe=!1,fe=[];typeof M=="string"?(M=[M],fe=M):Array.isArray(M)?fe=M:typeof M=="object"&&(oe=M.resubscribe,delete M.resubscribe,fe=Object.keys(M));let $=h.validateTopics(fe);if($!==null)return w(K,new Error(`Invalid topic ${$}`)),this;if(this._checkDisconnecting(K))return this.log("subscribe: discconecting true"),this;let ie={qos:0};se===5&&(ie.nl=!1,ie.rap=!1,ie.rh=0),j=Object.assign(Object.assign({},ie),j);let ae=j.properties,Z=[],pe=(Ee,ne)=>{if(ne=ne||j,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Ee)||this._resubscribeTopics[Ee].qos<ne.qos||oe){let de={topic:Ee,qos:ne.qos};se===5&&(de.nl=ne.nl,de.rap=ne.rap,de.rh=ne.rh,de.properties=ae),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",de.topic,de.qos),Z.push(de)}};if(Array.isArray(M)?M.forEach(Ee=>{this.log("subscribe: array topic %s",Ee),pe(Ee)}):Object.keys(M).forEach(Ee=>{this.log("subscribe: object topic %s, %o",Ee,M[Ee]),pe(Ee,M[Ee])}),!Z.length)return K(null,[]),this;let ce=(Ee,ne)=>{let de={cmd:"subscribe",subscriptions:Ee,messageId:ne};if(ae&&(de.properties=ae),this.options.resubscribe){this.log("subscribe :: resubscribe true");let he=[];Ee.forEach(be=>{if(this.options.reconnectPeriod>0){let Q={qos:be.qos};se===5&&(Q.nl=be.nl||!1,Q.rap=be.rap||!1,Q.rh=be.rh||0,Q.properties=be.properties),this._resubscribeTopics[be.topic]=Q,he.push(be.topic)}}),this.messageIdToTopic[de.messageId]=he}let D=new Promise((he,be)=>{this.outgoing[de.messageId]={volatile:!0,cb(Q,Ae){if(!Q){let{granted:re}=Ae;for(let z=0;z<re.length;z+=1)Ee[z].qos=re[z]}Q?be(new b.ErrorWithSubackPacket(Q.message,Ae)):he(Ae)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(de),D},ue=()=>{var Ee;let ne=(Ee=this.options.subscribeBatchSize)!==null&&Ee!==void 0?Ee:Z.length,de=[];for(let D=0;D<Z.length;D+=ne){let he=Z.slice(D,D+ne),be=this._nextId();if(be===null)return this.log("No messageId left"),!1;de.push(ce(he,be))}return Promise.all(de).then(D=>{K(null,Z,D.at(-1))}).catch(D=>{K(D,Z,D.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ue())&&this._storeProcessingQueue.push({invoke:ue,callback:K}),this}subscribeAsync(M,j){return new Promise((K,se)=>{this.subscribe(M,j,(oe,fe)=>{oe?se(oe):K(fe)})})}unsubscribe(M,j,K){typeof M=="string"&&(M=[M]),typeof j=="function"&&(K=j),K=K||this.noop;let se=h.validateTopics(M);if(se!==null)return w(K,new Error(`Invalid topic ${se}`)),this;if(this._checkDisconnecting(K))return this;let oe=()=>{let fe=this._nextId();if(fe===null)return this.log("No messageId left"),!1;let $={cmd:"unsubscribe",messageId:fe,unsubscriptions:[]};return typeof M=="string"?$.unsubscriptions=[M]:Array.isArray(M)&&($.unsubscriptions=M),this.options.resubscribe&&$.unsubscriptions.forEach(ie=>{delete this._resubscribeTopics[ie]}),typeof j=="object"&&j.properties&&($.properties=j.properties),this.outgoing[$.messageId]={volatile:!0,cb:K},this.log("unsubscribe: call _sendPacket"),this._sendPacket($),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,callback:K}),this}unsubscribeAsync(M,j){return new Promise((K,se)=>{this.unsubscribe(M,j,(oe,fe)=>{oe?se(oe):K(fe)})})}end(M,j,K){this.log("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(K=K||j,j=M,M=!1),typeof j!="object"&&(K=K||j,j=null),this.log("end :: cb? %s",!!K),(!K||typeof K!="function")&&(K=this.noop);let se=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(fe=>{this.outgoingStore.close($=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),K){let ie=fe||$;this.log("end :: closeStores: invoking callback with args"),K(ie)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},oe=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,M),this._cleanUp(M,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,b.nextTick)(se)},j)};return this.disconnecting?(K(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,oe,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),oe()),this)}endAsync(M,j){return new Promise((K,se)=>{this.end(M,j,oe=>{oe?se(oe):K()})})}removeOutgoingMessage(M){if(this.outgoing[M]){let{cb:j}=this.outgoing[M];this._removeOutgoingAndStoreMessage(M,()=>{j(new Error("Message removed"))})}return this}reconnect(M){this.log("client reconnect");let j=()=>{M?(this.options.incomingStore=M.incomingStore,this.options.outgoingStore=M.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=j:j(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(M=>{this.outgoing[M].volatile&&typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(M=>{typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_removeTopicAliasAndRecoverTopicName(M){let j;M.properties&&(j=M.properties.topicAlias);let K=M.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",j,K),K.length===0){if(typeof j>"u")return new Error("Unregistered Topic Alias");if(K=this.topicAliasSend.getTopicByAlias(j),typeof K>"u")return new Error("Unregistered Topic Alias");M.topic=K}j&&delete M.properties.topicAlias}_checkDisconnecting(M){return this.disconnecting&&(M&&M!==this.noop?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(M,j,K={}){if(j&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",j)),this.log("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let se=Object.assign({cmd:"disconnect"},K);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(se,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),w(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),j&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",j),j())}_storeAndSend(M,j,K){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",M.cmd);let se=M,oe;if(se.cmd==="publish"&&(se=(0,u.default)(M),oe=this._removeTopicAliasAndRecoverTopicName(se),oe))return j&&j(oe);this.outgoingStore.put(se,fe=>{if(fe)return j&&j(fe);K(),this._writePacket(M,j)})}_applyTopicAlias(M){if(this.options.protocolVersion===5&&M.cmd==="publish"){let j;M.properties&&(j=M.properties.topicAlias);let K=M.topic.toString();if(this.topicAliasSend)if(j){if(K.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",K,j),!this.topicAliasSend.put(K,j)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,j),new Error("Sending Topic Alias out of range")}else K.length!==0&&(this.options.autoAssignTopicAlias?(j=this.topicAliasSend.getAliasByTopic(K),j?(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:j}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",K,j)):(j=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(K,j),M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:j}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",K,j))):this.options.autoUseTopicAlias&&(j=this.topicAliasSend.getAliasByTopic(K),j&&(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:j}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",K,j))));else if(j)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,j),new Error("Sending Topic Alias out of range")}}_noop(M){this.log("noop ::",M)}_writePacket(M,j){this.log("_writePacket :: packet: %O",M),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",M),this.log("_writePacket :: writing to stream");let K=i.default.writeToStream(M,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",K),!K&&j&&j!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",j)):j&&(this.log("_writePacket :: invoking cb"),j())}_sendPacket(M,j,K,se){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),K=K||this.noop,j=j||this.noop;let oe=this._applyTopicAlias(M);if(oe){j(oe);return}if(!this.connected){if(M.cmd==="auth"){this._writePacket(M,j);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,j,K);return}if(se){this._writePacket(M,j);return}switch(M.cmd){case"publish":break;case"pubrel":this._storeAndSend(M,j,K);return;default:this._writePacket(M,j);return}switch(M.qos){case 2:case 1:this._storeAndSend(M,j,K);break;case 0:default:this._writePacket(M,j);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(M,j,K){this.log("_storePacket :: packet: %o",M),this.log("_storePacket :: cb? %s",!!j),K=K||this.noop;let se=M;if(se.cmd==="publish"){se=(0,u.default)(M);let fe=this._removeTopicAliasAndRecoverTopicName(se);if(fe)return j&&j(fe)}let oe=se.qos||0;oe===0&&this.queueQoSZero||se.cmd!=="publish"?this.queue.push({packet:se,cb:j}):oe>0?(j=this.outgoing[se.messageId]?this.outgoing[se.messageId].cb:null,this.outgoingStore.put(se,fe=>{if(fe)return j&&j(fe);K()})):j&&j(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new E.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(M=!1){this.keepaliveManager&&this.options.keepalive&&(M||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let j=0;j<M.length;j++){let K={};K[M[j]]=this._resubscribeTopics[M[j]],K.resubscribe=!0,this.subscribe(K,{properties:K[M[j]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(M){if(this.disconnected){this.emit("connect",M);return}this.connackPacket=M,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let j=()=>{let K=this.outgoingStore.createStream(),se=()=>{K.destroy(),K=null,this._flushStoreProcessingQueue(),oe()},oe=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",se),K.on("error",$=>{oe(),this._flushStoreProcessingQueue(),this.removeListener("close",se),this.emit("error",$)});let fe=()=>{if(!K)return;let $=K.read(1),ie;if(!$){K.once("readable",fe);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[$.messageId]){fe();return}!this.disconnecting&&!this.reconnectTimer?(ie=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoing[$.messageId]={volatile:!1,cb(ae,Z){ie&&ie(ae,Z),fe()}},this._packetIdsDuringStoreProcessing[$.messageId]=!0,this.messageIdProvider.register($.messageId)?this._sendPacket($,void 0,void 0,!0):this.log("messageId: %d has already used.",$.messageId)):K.destroy&&K.destroy()};K.on("end",()=>{let $=!0;for(let ie in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ie]){$=!1;break}this.removeListener("close",se),$?(oe(),this._invokeAllStoreProcessingQueue(),this.emit("connect",M)):j()}),fe()};j()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(M,j){delete this.outgoing[M],this.outgoingStore.del({messageId:M},(K,se)=>{j(K,se),this.messageIdProvider.deallocate(M),this._invokeStoreProcessingQueue()})}};N.VERSION=b.MQTTJS_VERSION,e.default=N}),xg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=Bc(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(s){return this.numberAllocator.use(s)}deallocate(s){this.numberAllocator.free(s)}clear(){this.numberAllocator.clear()}};e.default=r});function Hr(e){throw new RangeError(jc[e])}function pl(e,t){let r=e.split("@"),s="";r.length>1&&(s=r[0]+"@",e=r[1]);let l=function(n,i){let a=[],o=n.length;for(;o--;)a[o]=i(n[o]);return a}((e=e.replace(Nc,".")).split("."),t).join(".");return s+l}function gl(e){let t=[],r=0,s=e.length;for(;r<s;){let l=e.charCodeAt(r++);if(l>=55296&&l<=56319&&r<s){let n=e.charCodeAt(r++);(64512&n)==56320?t.push(((1023&l)<<10)+(1023&n)+65536):(t.push(l),r--)}else t.push(l)}return t}var ml,yl,Nc,jc,Bt,Qn,as,ls,us,cs,Sr,kg=Et(()=>{ge(),ye(),me(),ml=/^xn--/,yl=/[^\0-\x7E]/,Nc=/[\x2E\u3002\uFF0E\uFF61]/g,jc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Bt=Math.floor,Qn=String.fromCharCode,as=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},ls=function(e,t,r){let s=0;for(e=r?Bt(e/700):e>>1,e+=Bt(e/t);e>455;s+=36)e=Bt(e/35);return Bt(s+36*e/(e+38))},us=function(e){let t=[],r=e.length,s=0,l=128,n=72,i=e.lastIndexOf("-");i<0&&(i=0);for(let o=0;o<i;++o)e.charCodeAt(o)>=128&&Hr("not-basic"),t.push(e.charCodeAt(o));for(let o=i>0?i+1:0;o<r;){let u=s;for(let d=1,m=36;;m+=36){o>=r&&Hr("invalid-input");let y=(a=e.charCodeAt(o++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(y>=36||y>Bt((2147483647-s)/d))&&Hr("overflow"),s+=y*d;let b=m<=n?1:m>=n+26?26:m-n;if(y<b)break;let T=36-b;d>Bt(2147483647/T)&&Hr("overflow"),d*=T}let h=t.length+1;n=ls(s-u,h,u==0),Bt(s/h)>2147483647-l&&Hr("overflow"),l+=Bt(s/h),s%=h,t.splice(s++,0,l)}var a;return String.fromCodePoint(...t)},cs=function(e){let t=[],r=(e=gl(e)).length,s=128,l=0,n=72;for(let o of e)o<128&&t.push(Qn(o));let i=t.length,a=i;for(i&&t.push("-");a<r;){let o=2147483647;for(let h of e)h>=s&&h<o&&(o=h);let u=a+1;o-s>Bt((2147483647-l)/u)&&Hr("overflow"),l+=(o-s)*u,s=o;for(let h of e)if(h<s&&++l>2147483647&&Hr("overflow"),h==s){let d=l;for(let m=36;;m+=36){let y=m<=n?1:m>=n+26?26:m-n;if(d<y)break;let b=d-y,T=36-y;t.push(Qn(as(y+b%T,0))),d=Bt(b/T)}t.push(Qn(as(d,0))),n=ls(l,u,a==i),l=0,++a}++l,++s}return t.join("")},Sr={version:"2.1.0",ucs2:{decode:gl,encode:e=>String.fromCodePoint(...e)},decode:us,encode:cs,toASCII:function(e){return pl(e,function(t){return yl.test(t)?"xn--"+cs(t):t})},toUnicode:function(e){return pl(e,function(t){return ml.test(t)?us(t.slice(4).toLowerCase()):t})}},Sr.decode,Sr.encode,Sr.toASCII,Sr.toUnicode,Sr.ucs2,Sr.version});function Cg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var bl,sn,wl,Wt,Og=Et(()=>{ge(),ye(),me(),bl=function(e,t,r,s){t=t||"&",r=r||"=";var l={};if(typeof e!="string"||e.length===0)return l;var n=/\+/g;e=e.split(t);var i=1e3;s&&typeof s.maxKeys=="number"&&(i=s.maxKeys);var a=e.length;i>0&&a>i&&(a=i);for(var o=0;o<a;++o){var u,h,d,m,y=e[o].replace(n,"%20"),b=y.indexOf(r);b>=0?(u=y.substr(0,b),h=y.substr(b+1)):(u=y,h=""),d=decodeURIComponent(u),m=decodeURIComponent(h),Cg(l,d)?Array.isArray(l[d])?l[d].push(m):l[d]=[l[d],m]:l[d]=m}return l},sn=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},wl=function(e,t,r,s){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(l){var n=encodeURIComponent(sn(l))+r;return Array.isArray(e[l])?e[l].map(function(i){return n+encodeURIComponent(sn(i))}).join(t):n+encodeURIComponent(sn(e[l]))}).join(t):s?encodeURIComponent(sn(s))+r+encodeURIComponent(sn(e)):""},Wt={},Wt.decode=Wt.parse=bl,Wt.encode=Wt.stringify=wl,Wt.decode,Wt.encode,Wt.parse,Wt.stringify});function Do(){throw new Error("setTimeout has not been defined")}function Fo(){throw new Error("clearTimeout has not been defined")}function Dc(e){if(ir===setTimeout)return setTimeout(e,0);if((ir===Do||!ir)&&setTimeout)return ir=setTimeout,setTimeout(e,0);try{return ir(e,0)}catch{try{return ir.call(null,e,0)}catch{return ir.call(this||Xr,e,0)}}}function Pg(){Zr&&Yr&&(Zr=!1,Yr.length?Kt=Yr.concat(Kt):Mn=-1,Kt.length&&Fc())}function Fc(){if(!Zr){var e=Dc(Pg);Zr=!0;for(var t=Kt.length;t;){for(Yr=Kt,Kt=[];++Mn<t;)Yr&&Yr[Mn].run();Mn=-1,t=Kt.length}Yr=null,Zr=!1,function(r){if(sr===clearTimeout)return clearTimeout(r);if((sr===Fo||!sr)&&clearTimeout)return sr=clearTimeout,clearTimeout(r);try{sr(r)}catch{try{return sr.call(null,r)}catch{return sr.call(this||Xr,r)}}}(e)}}function vl(e,t){(this||Xr).fun=e,(this||Xr).array=t}function Zt(){}var _l,ir,sr,Xr,tt,Yr,Kt,Zr,Mn,Xe,Rg=Et(()=>{ge(),ye(),me(),Xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,tt=_l={},function(){try{ir=typeof setTimeout=="function"?setTimeout:Do}catch{ir=Do}try{sr=typeof clearTimeout=="function"?clearTimeout:Fo}catch{sr=Fo}}(),Kt=[],Zr=!1,Mn=-1,tt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Kt.push(new vl(e,t)),Kt.length!==1||Zr||Dc(Fc)},vl.prototype.run=function(){(this||Xr).fun.apply(null,(this||Xr).array)},tt.title="browser",tt.browser=!0,tt.env={},tt.argv=[],tt.version="",tt.versions={},tt.on=Zt,tt.addListener=Zt,tt.once=Zt,tt.off=Zt,tt.removeListener=Zt,tt.removeAllListeners=Zt,tt.emit=Zt,tt.prependListener=Zt,tt.prependOnceListener=Zt,tt.listeners=function(e){return[]},tt.binding=function(e){throw new Error("process.binding is not supported")},tt.cwd=function(){return"/"},tt.chdir=function(e){throw new Error("process.chdir is not supported")},tt.umask=function(){return 0},Xe=_l,Xe.addListener,Xe.argv,Xe.binding,Xe.browser,Xe.chdir,Xe.cwd,Xe.emit,Xe.env,Xe.listeners,Xe.nextTick,Xe.off,Xe.on,Xe.once,Xe.prependListener,Xe.prependOnceListener,Xe.removeAllListeners,Xe.removeListener,Xe.title,Xe.umask,Xe.version,Xe.versions});function Ug(){if(Wo)return hi;Wo=!0;var e=hi={},t,r;function s(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=s}catch{t=s}try{typeof clearTimeout=="function"?r=clearTimeout:r=l}catch{r=l}})();function n(T){if(t===setTimeout)return setTimeout(T,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(T,0);try{return t(T,0)}catch{try{return t.call(null,T,0)}catch{return t.call(this||zr,T,0)}}}function i(T){if(r===clearTimeout)return clearTimeout(T);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(T);try{return r(T)}catch{try{return r.call(null,T)}catch{return r.call(this||zr,T)}}}var a=[],o=!1,u,h=-1;function d(){!o||!u||(o=!1,u.length?a=u.concat(a):h=-1,a.length&&m())}function m(){if(!o){var T=n(d);o=!0;for(var E=a.length;E;){for(u=a,a=[];++h<E;)u&&u[h].run();h=-1,E=a.length}u=null,o=!1,i(T)}}e.nextTick=function(T){var E=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)E[P-1]=arguments[P];a.push(new y(T,E)),a.length===1&&!o&&n(m)};function y(T,E){(this||zr).fun=T,(this||zr).array=E}y.prototype.run=function(){(this||zr).fun.apply(null,(this||zr).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(T){return[]},e.binding=function(T){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(T){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},hi}var hi,Wo,zr,Qe,Wc=Et(()=>{ge(),ye(),me(),hi={},Wo=!1,zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Qe=Ug(),Qe.platform="browser",Qe.addListener,Qe.argv,Qe.binding,Qe.browser,Qe.chdir,Qe.cwd,Qe.emit,Qe.env,Qe.listeners,Qe.nextTick,Qe.off,Qe.on,Qe.once,Qe.prependListener,Qe.prependOnceListener,Qe.removeAllListeners,Qe.removeListener,Qe.title,Qe.umask,Qe.version,Qe.versions});function Mg(){if(Ho)return fi;Ho=!0;var e=Qe;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var a="",o=0,u=-1,h=0,d,m=0;m<=n.length;++m){if(m<n.length)d=n.charCodeAt(m);else{if(d===47)break;d=47}if(d===47){if(!(u===m-1||h===1))if(u!==m-1&&h===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",o=0):(a=a.slice(0,y),o=a.length-1-a.lastIndexOf("/")),u=m,h=0;continue}}else if(a.length===2||a.length===1){a="",o=0,u=m,h=0;continue}}i&&(a.length>0?a+="/..":a="..",o=2)}else a.length>0?a+="/"+n.slice(u+1,m):a=n.slice(u+1,m),o=m-u-1;u=m,h=0}else d===46&&h!==-1?++h:h=-1}return a}function s(n,i){var a=i.dir||i.root,o=i.base||(i.name||"")+(i.ext||"");return a?a===i.root?a+o:a+n+o:o}var l={resolve:function(){for(var n="",i=!1,a,o=arguments.length-1;o>=-1&&!i;o--){var u;o>=0?u=arguments[o]:(a===void 0&&(a=e.cwd()),u=a),t(u),u.length!==0&&(n=u+"/"+n,i=u.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,a=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&a&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var a=arguments[i];t(a),a.length>0&&(n===void 0?n=a:n+="/"+a)}return n===void 0?".":l.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=l.resolve(n),i=l.resolve(i),n===i))return"";for(var a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var o=n.length,u=o-a,h=1;h<i.length&&i.charCodeAt(h)===47;++h);for(var d=i.length,m=d-h,y=u<m?u:m,b=-1,T=0;T<=y;++T){if(T===y){if(m>y){if(i.charCodeAt(h+T)===47)return i.slice(h+T+1);if(T===0)return i.slice(h+T)}else u>y&&(n.charCodeAt(a+T)===47?b=T:T===0&&(b=0));break}var E=n.charCodeAt(a+T),P=i.charCodeAt(h+T);if(E!==P)break;E===47&&(b=T)}var w="";for(T=a+b+1;T<=o;++T)(T===o||n.charCodeAt(T)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+i.slice(h+b):(h+=b,i.charCodeAt(h)===47&&++h,i.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),a=i===47,o=-1,u=!0,h=n.length-1;h>=1;--h)if(i=n.charCodeAt(h),i===47){if(!u){o=h;break}}else u=!1;return o===-1?a?"/":".":a&&o===1?"//":n.slice(0,o)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var a=0,o=-1,u=!0,h;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var d=i.length-1,m=-1;for(h=n.length-1;h>=0;--h){var y=n.charCodeAt(h);if(y===47){if(!u){a=h+1;break}}else m===-1&&(u=!1,m=h+1),d>=0&&(y===i.charCodeAt(d)?--d===-1&&(o=h):(d=-1,o=m))}return a===o?o=m:o===-1&&(o=n.length),n.slice(a,o)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!u){a=h+1;break}}else o===-1&&(u=!1,o=h+1);return o===-1?"":n.slice(a,o)}},extname:function(n){t(n);for(var i=-1,a=0,o=-1,u=!0,h=0,d=n.length-1;d>=0;--d){var m=n.charCodeAt(d);if(m===47){if(!u){a=d+1;break}continue}o===-1&&(u=!1,o=d+1),m===46?i===-1?i=d:h!==1&&(h=1):i!==-1&&(h=-1)}return i===-1||o===-1||h===0||h===1&&i===o-1&&i===a+1?"":n.slice(i,o)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return s("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var a=n.charCodeAt(0),o=a===47,u;o?(i.root="/",u=1):u=0;for(var h=-1,d=0,m=-1,y=!0,b=n.length-1,T=0;b>=u;--b){if(a=n.charCodeAt(b),a===47){if(!y){d=b+1;break}continue}m===-1&&(y=!1,m=b+1),a===46?h===-1?h=b:T!==1&&(T=1):h!==-1&&(T=-1)}return h===-1||m===-1||T===0||T===1&&h===m-1&&h===d+1?m!==-1&&(d===0&&o?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(d,m)):(d===0&&o?(i.name=n.slice(1,h),i.base=n.slice(1,m)):(i.name=n.slice(d,h),i.base=n.slice(d,m)),i.ext=n.slice(h,m)),d>0?i.dir=n.slice(0,d-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return l.posix=l,fi=l,fi}var fi,Ho,$o,Bg=Et(()=>{ge(),ye(),me(),Wc(),fi={},Ho=!1,$o=Mg()}),Hc={};mn(Hc,{URL:()=>oh,Url:()=>th,default:()=>He,fileURLToPath:()=>$c,format:()=>rh,parse:()=>sh,pathToFileURL:()=>qc,resolve:()=>nh,resolveObject:()=>ih});function Rt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function En(e,t,r){if(e&&Lt.isObject(e)&&e instanceof Rt)return e;var s=new Rt;return s.parse(e,t,r),s}function Lg(){if(qo)return di;qo=!0;var e=Xe;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var a="",o=0,u=-1,h=0,d,m=0;m<=n.length;++m){if(m<n.length)d=n.charCodeAt(m);else{if(d===47)break;d=47}if(d===47){if(!(u===m-1||h===1))if(u!==m-1&&h===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",o=0):(a=a.slice(0,y),o=a.length-1-a.lastIndexOf("/")),u=m,h=0;continue}}else if(a.length===2||a.length===1){a="",o=0,u=m,h=0;continue}}i&&(a.length>0?a+="/..":a="..",o=2)}else a.length>0?a+="/"+n.slice(u+1,m):a=n.slice(u+1,m),o=m-u-1;u=m,h=0}else d===46&&h!==-1?++h:h=-1}return a}function s(n,i){var a=i.dir||i.root,o=i.base||(i.name||"")+(i.ext||"");return a?a===i.root?a+o:a+n+o:o}var l={resolve:function(){for(var n="",i=!1,a,o=arguments.length-1;o>=-1&&!i;o--){var u;o>=0?u=arguments[o]:(a===void 0&&(a=e.cwd()),u=a),t(u),u.length!==0&&(n=u+"/"+n,i=u.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,a=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&a&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var a=arguments[i];t(a),a.length>0&&(n===void 0?n=a:n+="/"+a)}return n===void 0?".":l.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=l.resolve(n),i=l.resolve(i),n===i))return"";for(var a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var o=n.length,u=o-a,h=1;h<i.length&&i.charCodeAt(h)===47;++h);for(var d=i.length,m=d-h,y=u<m?u:m,b=-1,T=0;T<=y;++T){if(T===y){if(m>y){if(i.charCodeAt(h+T)===47)return i.slice(h+T+1);if(T===0)return i.slice(h+T)}else u>y&&(n.charCodeAt(a+T)===47?b=T:T===0&&(b=0));break}var E=n.charCodeAt(a+T),P=i.charCodeAt(h+T);if(E!==P)break;E===47&&(b=T)}var w="";for(T=a+b+1;T<=o;++T)(T===o||n.charCodeAt(T)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+i.slice(h+b):(h+=b,i.charCodeAt(h)===47&&++h,i.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),a=i===47,o=-1,u=!0,h=n.length-1;h>=1;--h)if(i=n.charCodeAt(h),i===47){if(!u){o=h;break}}else u=!1;return o===-1?a?"/":".":a&&o===1?"//":n.slice(0,o)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var a=0,o=-1,u=!0,h;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var d=i.length-1,m=-1;for(h=n.length-1;h>=0;--h){var y=n.charCodeAt(h);if(y===47){if(!u){a=h+1;break}}else m===-1&&(u=!1,m=h+1),d>=0&&(y===i.charCodeAt(d)?--d===-1&&(o=h):(d=-1,o=m))}return a===o?o=m:o===-1&&(o=n.length),n.slice(a,o)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!u){a=h+1;break}}else o===-1&&(u=!1,o=h+1);return o===-1?"":n.slice(a,o)}},extname:function(n){t(n);for(var i=-1,a=0,o=-1,u=!0,h=0,d=n.length-1;d>=0;--d){var m=n.charCodeAt(d);if(m===47){if(!u){a=d+1;break}continue}o===-1&&(u=!1,o=d+1),m===46?i===-1?i=d:h!==1&&(h=1):i!==-1&&(h=-1)}return i===-1||o===-1||h===0||h===1&&i===o-1&&i===a+1?"":n.slice(i,o)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return s("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var a=n.charCodeAt(0),o=a===47,u;o?(i.root="/",u=1):u=0;for(var h=-1,d=0,m=-1,y=!0,b=n.length-1,T=0;b>=u;--b){if(a=n.charCodeAt(b),a===47){if(!y){d=b+1;break}continue}m===-1&&(y=!1,m=b+1),a===46?h===-1?h=b:T!==1&&(T=1):h!==-1&&(T=-1)}return h===-1||m===-1||T===0||T===1&&h===m-1&&h===d+1?m!==-1&&(d===0&&o?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(d,m)):(d===0&&o?(i.name=n.slice(1,h),i.base=n.slice(1,m)):(i.name=n.slice(d,h),i.base=n.slice(d,m)),i.ext=n.slice(h,m)),d>0?i.dir=n.slice(0,d-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return l.posix=l,di=l,di}function Ng(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Si?jg(e):Dg(e)}function jg(e){let t=e.hostname,r=e.pathname;for(let s=0;s<r.length;s++)if(r[s]==="%"){let l=r.codePointAt(s+2)||32;if(r[s+1]==="2"&&l===102||r[s+1]==="5"&&l===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Yc,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let s=r.codePointAt(1)|32,l=r[2];if(s<zc||s>Gc||l!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Dg(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let s=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&s===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Fg(e){let t=Vo.resolve(e),r=e.charCodeAt(e.length-1);(r===Kc||Si&&r===Vc)&&t[t.length-1]!==Vo.sep&&(t+="/");let s=new URL("file://");return t.includes("%")&&(t=t.replace(Qc,"%25")),!Si&&t.includes("\\")&&(t=t.replace(Jc,"%5C")),t.includes(`
`)&&(t=t.replace(Xc,"%0A")),t.includes("\r")&&(t=t.replace(Zc,"%0D")),t.includes("	")&&(t=t.replace(eh,"%09")),s.pathname=t,s}function $c(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ai?Wg(e):Hg(e)}function Wg(e){let t=e.hostname,r=e.pathname;for(let s=0;s<r.length;s++)if(r[s]==="%"){let l=r.codePointAt(s+2)||32;if(r[s+1]==="2"&&l===102||r[s+1]==="5"&&l===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(hh,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let s=r.codePointAt(1)|32,l=r[2];if(s<uh||s>ch||l!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Hg(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let s=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&s===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function qc(e){let t=$o.resolve(e),r=e.charCodeAt(e.length-1);(r===lh||Ai&&r===ah)&&t[t.length-1]!==$o.sep&&(t+="/");let s=new URL("file://");return t.includes("%")&&(t=t.replace(fh,"%25")),!Ai&&t.includes("\\")&&(t=t.replace(dh,"%5C")),t.includes(`
`)&&(t=t.replace(ph,"%0A")),t.includes("\r")&&(t=t.replace(gh,"%0D")),t.includes("	")&&(t=t.replace(mh,"%09")),s.pathname=t,s}var He,El,Lt,Sl,Al,Tl,Il,Jn,hs,fs,ds,xl,kl,Xn,$r,Zn,di,qo,Vo,Cl,Vc,Kc,zc,Gc,Si,Yc,Qc,Jc,Xc,Zc,eh,Ol,th,rh,nh,ih,sh,oh,ah,lh,uh,ch,Ai,hh,fh,dh,ph,gh,mh,$g=Et(()=>{ge(),ye(),me(),kg(),Og(),Rg(),Bg(),Wc(),He={},El=Sr,Lt={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},He.parse=En,He.resolve=function(e,t){return En(e,!1,!0).resolve(t)},He.resolveObject=function(e,t){return e?En(e,!1,!0).resolveObject(t):t},He.format=function(e){return Lt.isString(e)&&(e=En(e)),e instanceof Rt?e.format():Rt.prototype.format.call(e)},He.Url=Rt,Sl=/^([a-z0-9.+-]+:)/i,Al=/:[0-9]*$/,Tl=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Il=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Jn=["'"].concat(Il),hs=["%","/","?",";","#"].concat(Jn),fs=["/","?","#"],ds=/^[+a-z0-9A-Z_-]{0,63}$/,xl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kl={javascript:!0,"javascript:":!0},Xn={javascript:!0,"javascript:":!0},$r={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zn=Wt,Rt.prototype.parse=function(e,t,r){if(!Lt.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),l=s!==-1&&s<e.indexOf("#")?"?":"#",n=e.split(l);n[0]=n[0].replace(/\\/g,"/");var i=e=n.join(l);if(i=i.trim(),!r&&e.split("#").length===1){var a=Tl.exec(i);if(a)return this.path=i,this.href=i,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Zn.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var o=Sl.exec(i);if(o){var u=(o=o[0]).toLowerCase();this.protocol=u,i=i.substr(o.length)}if(r||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=i.substr(0,2)==="//";!h||o&&Xn[o]||(i=i.substr(2),this.slashes=!0)}if(!Xn[o]&&(h||o&&!$r[o])){for(var d,m,y=-1,b=0;b<fs.length;b++)(T=i.indexOf(fs[b]))!==-1&&(y===-1||T<y)&&(y=T);for((m=y===-1?i.lastIndexOf("@"):i.lastIndexOf("@",y))!==-1&&(d=i.slice(0,m),i=i.slice(m+1),this.auth=decodeURIComponent(d)),y=-1,b=0;b<hs.length;b++){var T;(T=i.indexOf(hs[b]))!==-1&&(y===-1||T<y)&&(y=T)}y===-1&&(y=i.length),this.host=i.slice(0,y),i=i.slice(y),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var P=this.hostname.split(/\./),w=(b=0,P.length);b<w;b++){var k=P[b];if(k&&!k.match(ds)){for(var N="",F=0,M=k.length;F<M;F++)k.charCodeAt(F)>127?N+="x":N+=k[F];if(!N.match(ds)){var j=P.slice(0,b),K=P.slice(b+1),se=k.match(xl);se&&(j.push(se[1]),K.unshift(se[2])),K.length&&(i="/"+K.join(".")+i),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=El.toASCII(this.hostname));var oe=this.port?":"+this.port:"",fe=this.hostname||"";this.host=fe+oe,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!kl[u])for(b=0,w=Jn.length;b<w;b++){var $=Jn[b];if(i.indexOf($)!==-1){var ie=encodeURIComponent($);ie===$&&(ie=escape($)),i=i.split($).join(ie)}}var ae=i.indexOf("#");ae!==-1&&(this.hash=i.substr(ae),i=i.slice(0,ae));var Z=i.indexOf("?");if(Z!==-1?(this.search=i.substr(Z),this.query=i.substr(Z+1),t&&(this.query=Zn.parse(this.query)),i=i.slice(0,Z)):t&&(this.search="",this.query={}),i&&(this.pathname=i),$r[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){oe=this.pathname||"";var pe=this.search||"";this.path=oe+pe}return this.href=this.format(),this},Rt.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",s=this.hash||"",l=!1,n="";this.host?l=e+this.host:this.hostname&&(l=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&Lt.isObject(this.query)&&Object.keys(this.query).length&&(n=Zn.stringify(this.query));var i=this.search||n&&"?"+n||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||$r[t])&&l!==!1?(l="//"+(l||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):l||(l=""),s&&s.charAt(0)!=="#"&&(s="#"+s),i&&i.charAt(0)!=="?"&&(i="?"+i),t+l+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(i=i.replace("#","%23"))+s},Rt.prototype.resolve=function(e){return this.resolveObject(En(e,!1,!0)).format()},Rt.prototype.resolveObject=function(e){if(Lt.isString(e)){var t=new Rt;t.parse(e,!1,!0),e=t}for(var r=new Rt,s=Object.keys(this),l=0;l<s.length;l++){var n=s[l];r[n]=this[n]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),a=0;a<i.length;a++){var o=i[a];o!=="protocol"&&(r[o]=e[o])}return $r[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!$r[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Xn[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var T=r.pathname&&r.pathname.charAt(0)==="/",E=e.host||e.pathname&&e.pathname.charAt(0)==="/",P=E||T||r.host&&e.pathname,w=P,k=r.pathname&&r.pathname.split("/")||[],N=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!$r[r.protocol]);if(N&&(r.hostname="",r.port=null,r.host&&(k[0]===""?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===""?m[0]=e.host:m.unshift(e.host)),e.host=null),P=P&&(m[0]===""||k[0]==="")),E)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=m;else if(m.length)k||(k=[]),k.pop(),k=k.concat(m),r.search=e.search,r.query=e.query;else if(!Lt.isNullOrUndefined(e.search))return N&&(r.hostname=r.host=k.shift(),(se=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=se.shift(),r.host=r.hostname=se.shift())),r.search=e.search,r.query=e.query,Lt.isNull(r.pathname)&&Lt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var F=k.slice(-1)[0],M=(r.host||e.host||k.length>1)&&(F==="."||F==="..")||F==="",j=0,K=k.length;K>=0;K--)(F=k[K])==="."?k.splice(K,1):F===".."?(k.splice(K,1),j++):j&&(k.splice(K,1),j--);if(!P&&!w)for(;j--;j)k.unshift("..");!P||k[0]===""||k[0]&&k[0].charAt(0)==="/"||k.unshift(""),M&&k.join("/").substr(-1)!=="/"&&k.push("");var se,oe=k[0]===""||k[0]&&k[0].charAt(0)==="/";return N&&(r.hostname=r.host=oe?"":k.length?k.shift():"",(se=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=se.shift(),r.host=r.hostname=se.shift())),(P=P||r.host&&k.length)&&!oe&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),Lt.isNull(r.pathname)&&Lt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Rt.prototype.parseHost=function(){var e=this.host,t=Al.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},He.Url,He.format,He.resolve,He.resolveObject,di={},qo=!1,Vo=Lg(),Cl=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,He.URL=typeof URL<"u"?URL:null,He.pathToFileURL=Fg,He.fileURLToPath=Ng,He.Url,He.format,He.resolve,He.resolveObject,He.URL,Vc=92,Kc=47,zc=97,Gc=122,Si=Cl==="win32",Yc=/\//g,Qc=/%/g,Jc=/\\/g,Xc=/\n/g,Zc=/\r/g,eh=/\t/g,Ol=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,He.URL=typeof URL<"u"?URL:null,He.pathToFileURL=qc,He.fileURLToPath=$c,th=He.Url,rh=He.format,nh=He.resolve,ih=He.resolveObject,sh=He.parse,oh=He.URL,ah=92,lh=47,uh=97,ch=122,Ai=Ol==="win32",hh=/\//g,fh=/%/g,dh=/\\/g,ph=/\n/g,gh=/\r/g,mh=/\t/g}),qg=_e((e,t)=>{ge(),ye(),me(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),wa=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=s;var t=rn(),r=(at(),qe(ot));function s(n,i){let a=new Array(n.length);for(let o=0;o<n.length;o++)typeof n[o].chunk=="string"?a[o]=r.Buffer.from(n[o].chunk,"utf8"):a[o]=n[o].chunk;this._write(r.Buffer.concat(a),"binary",i)}var l=class extends t.Duplex{constructor(n,i,a){super({objectMode:!0}),this.proxy=i,this.socket=a,this.writeQueue=[],n.objectMode||(this._writev=s.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",o=>{!this.destroyed&&this.readable&&this.push(o)})}_read(n){this.proxy.read(n)}_write(n,i,a){this.isSocketOpen?this.writeToProxy(n,i,a):this.writeQueue.push({chunk:n,encoding:i,cb:a})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,i){this.writeQueue=[],this.proxy.destroy(),i(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,i,a){this.proxy.write(n,i)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:i,cb:a}=this.writeQueue.shift();this.writeToProxy(n,i,a)}}};e.BufferedDuplex=l}),ei=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(at(),qe(ot)),s=t(qg()),l=t(dr()),n=rn(),i=t(Fi()),a=wa(),o=(0,l.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function h(P,w){let k=`${P.protocol}://${P.hostname}:${P.port}${P.path}`;return typeof P.transformWsUrl=="function"&&(k=P.transformWsUrl(k,P,w)),k}function d(P){let w=P;return P.port||(P.protocol==="wss"?w.port=443:w.port=80),P.path||(w.path="/"),P.wsOptions||(w.wsOptions={}),!i.default&&!P.forceNativeWebSocket&&P.protocol==="wss"&&u.forEach(k=>{Object.prototype.hasOwnProperty.call(P,k)&&!Object.prototype.hasOwnProperty.call(P.wsOptions,k)&&(w.wsOptions[k]=P[k])}),w}function m(P){let w=d(P);if(w.hostname||(w.hostname=w.host),!w.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let k=new URL(document.URL);w.hostname=k.hostname,w.port||(w.port=Number(k.port))}return w.objectMode===void 0&&(w.objectMode=!(w.binary===!0||w.binary===void 0)),w}function y(P,w,k){o("createWebSocket"),o(`protocol: ${k.protocolId} ${k.protocolVersion}`);let N=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt";o(`creating new Websocket for url: ${w} and protocol: ${N}`);let F;return k.createWebsocket?F=k.createWebsocket(w,[N],k):F=new s.default(w,[N],k.wsOptions),F}function b(P,w){let k=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt",N=h(w,P),F;return w.createWebsocket?F=w.createWebsocket(N,[k],w):F=new WebSocket(N,[k]),F.binaryType="arraybuffer",F}var T=(P,w)=>{o("streamBuilder");let k=d(w);k.hostname=k.hostname||k.host||"localhost";let N=h(k,P),F=y(P,N,k),M=s.default.createWebSocketStream(F,k.wsOptions);return M.url=N,F.on("close",()=>{M.destroy()}),M};e.streamBuilder=T;var E=(P,w)=>{o("browserStreamBuilder");let k,N=m(w).browserBufferSize||1024*512,F=w.browserBufferTimeout||1e3,M=!w.objectMode,j=b(P,w),K=oe(w,Z,pe);w.objectMode||(K._writev=a.writev.bind(K)),K.on("close",()=>{j.close()});let se=typeof j.addEventListener<"u";j.readyState===j.OPEN?(k=K,k.socket=j):(k=new a.BufferedDuplex(w,K,j),se?j.addEventListener("open",fe):j.onopen=fe),se?(j.addEventListener("close",$),j.addEventListener("error",ie),j.addEventListener("message",ae)):(j.onclose=$,j.onerror=ie,j.onmessage=ae);function oe(ce,ue,Ee){let ne=new n.Transform({objectMode:ce.objectMode});return ne._write=ue,ne._flush=Ee,ne}function fe(){o("WebSocket onOpen"),k instanceof a.BufferedDuplex&&k.socketReady()}function $(ce){o("WebSocket onClose",ce),k.end(),k.destroy()}function ie(ce){o("WebSocket onError",ce);let ue=new Error("WebSocket error");ue.event=ce,k.destroy(ue)}async function ae(ce){if(!K||K.destroyed||!K.readable)return;let{data:ue}=ce;ue instanceof ArrayBuffer?ue=r.Buffer.from(ue):ue instanceof Blob?ue=r.Buffer.from(await new Response(ue).arrayBuffer()):ue=r.Buffer.from(ue,"utf8"),K.push(ue)}function Z(ce,ue,Ee){if(j.bufferedAmount>N){setTimeout(Z,F,ce,ue,Ee);return}M&&typeof ce=="string"&&(ce=r.Buffer.from(ce,"utf8"));try{j.send(ce)}catch(ne){return Ee(ne)}Ee()}function pe(ce){j.close(),ce()}return k};e.browserStreamBuilder=E}),va={};mn(va,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>yh,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var yh,bh=Et(()=>{ge(),ye(),me(),yh={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),wh=_e((e,t)=>{ge(),ye(),me(),t.exports={}}),Pl=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((bh(),qe(va))),s=t(dr()),l=t(wh()),n=(0,s.default)("mqttjs:tcp"),i=(a,o)=>{if(o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost",o.socksProxy)return(0,l.default)(o.hostname,o.port,o.socksProxy,{timeout:o.socksTimeout});let{port:u,path:h}=o,d=o.hostname;return n("port %d and host %s",u,d),r.default.createConnection({port:u,host:d,path:h})};e.default=i}),vh={};mn(vh,{default:()=>_h});var _h,Vg=Et(()=>{ge(),ye(),me(),_h={}}),Rl=_e(e=>{ge(),ye(),me();var t=e&&e.__rest||function(h,d){var m={};for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.indexOf(y)<0&&(m[y]=h[y]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,y=Object.getOwnPropertySymbols(h);b<y.length;b++)d.indexOf(y[b])<0&&Object.prototype.propertyIsEnumerable.call(h,y[b])&&(m[y[b]]=h[y[b]]);return m},r=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var s=r((Vg(),qe(vh))),l=r((bh(),qe(va))),n=r(dr()),i=r(wh()),a=(0,n.default)("mqttjs:tls");function o(h){let{host:d,port:m,socksProxy:y}=h,b=t(h,["host","port","socksProxy"]);return s.default.connect(y?Object.assign(Object.assign({},b),{socket:(0,i.default)(d,m,y,{timeout:h.socksTimeout})}):h)}var u=(h,d)=>{d.port=d.port||8883,d.host=d.hostname||d.host||"localhost",l.default.isIP(d.host)===0&&(d.servername=d.host),d.rejectUnauthorized=d.rejectUnauthorized!==!1,delete d.path,a("port %d host %s rejectUnauthorized %b",d.port,d.host,d.rejectUnauthorized);let m=o(d);m.on("secureConnect",()=>{d.rejectUnauthorized&&!m.authorized?m.emit("error",new Error("TLS not authorized")):m.removeListener("error",y)});function y(b){d.rejectUnauthorized&&h.emit("error",b),m.end()}return m.on("error",y),m};e.default=u}),Ul=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(at(),qe(ot)),r=rn(),s=wa(),l,n,i;function a(){let m=new r.Transform;return m._write=(y,b,T)=>{l.send({data:y.buffer,success(){T()},fail(E){T(new Error(E))}})},m._flush=y=>{l.close({success(){y()}})},m}function o(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function u(m,y){let b=m.protocol==="wxs"?"wss":"ws",T=`${b}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(T=`${b}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(T=m.transformWsUrl(T,m,y)),T}function h(){l.onOpen(()=>{i.socketReady()}),l.onMessage(m=>{let{data:y}=m;y instanceof ArrayBuffer?y=t.Buffer.from(y):y=t.Buffer.from(y,"utf8"),n.push(y)}),l.onClose(()=>{i.emit("close"),i.end(),i.destroy()}),l.onError(m=>{let y=new Error(m.errMsg);i.destroy(y)})}var d=(m,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let b=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";o(y);let T=u(y,m);l=wx.connectSocket({url:T,protocols:[b]}),n=a(),i=new s.BufferedDuplex(y,n,l),i._destroy=(P,w)=>{l.close({success(){w&&w(P)}})};let E=i.destroy;return i.destroy=(P,w)=>(i.destroy=E,setTimeout(()=>{l.close({fail(){i._destroy(P,w)}})},0),i),h(),i};e.default=d}),Ml=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(at(),qe(ot)),r=rn(),s=wa(),l,n,i,a=!1;function o(){let y=new r.Transform;return y._write=(b,T,E)=>{l.sendSocketMessage({data:b.buffer,success(){E()},fail(){E(new Error)}})},y._flush=b=>{l.closeSocket({success(){b()}})},y}function u(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function h(y,b){let T=y.protocol==="alis"?"wss":"ws",E=`${T}://${y.hostname}${y.path}`;return y.port&&y.port!==80&&y.port!==443&&(E=`${T}://${y.hostname}:${y.port}${y.path}`),typeof y.transformWsUrl=="function"&&(E=y.transformWsUrl(E,y,b)),E}function d(){a||(a=!0,l.onSocketOpen(()=>{i.socketReady()}),l.onSocketMessage(y=>{if(typeof y.data=="string"){let b=t.Buffer.from(y.data,"base64");n.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{let T=b.result;T instanceof ArrayBuffer?T=t.Buffer.from(T):T=t.Buffer.from(T,"utf8"),n.push(T)}),b.readAsArrayBuffer(y.data)}}),l.onSocketClose(()=>{i.end(),i.destroy()}),l.onSocketError(y=>{i.destroy(y)}))}var m=(y,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let T=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";u(b);let E=h(b,y);return l=b.my,l.connectSocket({url:E,protocols:T}),n=o(),i=new s.BufferedDuplex(b,n,l),d(),i};e.default=m}),Kg=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=h;var r=t(dr()),s=t(($g(),qe(Hc))),l=t(No()),n=t(Fi());typeof(De==null?void 0:De.nextTick)!="function"&&(De.nextTick=setImmediate);var i=(0,r.default)("mqttjs"),a=null;function o(d){let m;d.auth&&(m=d.auth.match(/^(.+):(.+)$/),m?(d.username=m[1],d.password=m[2]):d.username=d.auth)}function u(d,m){var y,b,T;if(i("connecting to an MQTT broker..."),typeof d=="object"&&!m&&(m=d,d=""),m=m||{},d&&typeof d=="string"){let w=s.default.parse(d,!0),k={};if(w.port!=null&&(k.port=Number(w.port)),k.host=w.hostname,k.query=w.query,k.auth=w.auth,k.protocol=w.protocol,k.path=w.path,m=Object.assign(Object.assign({},k),m),!m.protocol)throw new Error("Missing protocol");m.protocol=m.protocol.replace(/:$/,"")}if(m.unixSocket=m.unixSocket||((y=m.protocol)===null||y===void 0?void 0:y.includes("+unix")),m.unixSocket?m.protocol=m.protocol.replace("+unix",""):!(!((b=m.protocol)===null||b===void 0)&&b.startsWith("ws"))&&!(!((T=m.protocol)===null||T===void 0)&&T.startsWith("wx"))&&delete m.path,o(m),m.query&&typeof m.query.clientId=="string"&&(m.clientId=m.query.clientId),n.default||m.unixSocket?m.socksProxy=void 0:m.socksProxy===void 0&&typeof De<"u"&&(m.socksProxy=De.env.MQTTJS_SOCKS_PROXY),m.cert&&m.key)if(m.protocol){if(["mqtts","wss","wxs","alis"].indexOf(m.protocol)===-1)switch(m.protocol){case"mqtt":m.protocol="mqtts";break;case"ws":m.protocol="wss";break;case"wx":m.protocol="wxs";break;case"ali":m.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${m.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!n.default&&!m.forceNativeWebSocket?(a.ws=ei().streamBuilder,a.wss=ei().streamBuilder,a.mqtt=Pl().default,a.tcp=Pl().default,a.ssl=Rl().default,a.tls=a.ssl,a.mqtts=Rl().default):(a.ws=ei().browserStreamBuilder,a.wss=ei().browserStreamBuilder,a.wx=Ul().default,a.wxs=Ul().default,a.ali=Ml().default,a.alis=Ml().default)),!a[m.protocol]){let w=["mqtts","wss"].indexOf(m.protocol)!==-1;m.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((k,N)=>w&&N%2===0?!1:typeof a[k]=="function")[0]}if(m.clean===!1&&!m.clientId)throw new Error("Missing clientId for unclean clients");m.protocol&&(m.defaultProtocol=m.protocol);function E(w){return m.servers&&((!w._reconnectCount||w._reconnectCount===m.servers.length)&&(w._reconnectCount=0),m.host=m.servers[w._reconnectCount].host,m.port=m.servers[w._reconnectCount].port,m.protocol=m.servers[w._reconnectCount].protocol?m.servers[w._reconnectCount].protocol:m.defaultProtocol,m.hostname=m.host,w._reconnectCount++),i("calling streambuilder for",m.protocol),a[m.protocol](w,m)}let P=new l.default(E,m);return P.on("error",()=>{}),P}function h(d,m,y=!0){return new Promise((b,T)=>{let E=u(d,m),P={connect:k=>{w(),b(E)},end:()=>{w(),b(E)},error:k=>{w(),E.end(),T(k)}};y===!1&&(P.close=()=>{P.error(new Error("Couldn't connect to server"))});function w(){Object.keys(P).forEach(k=>{E.off(k,P[k])})}Object.keys(P).forEach(k=>{E.on(k,P[k])})})}e.default=u}),Bl=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(y,b,T,E){E===void 0&&(E=T);var P=Object.getOwnPropertyDescriptor(b,T);(!P||("get"in P?!b.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return b[T]}}),Object.defineProperty(y,E,P)}:function(y,b,T,E){E===void 0&&(E=T),y[E]=b[T]}),r=e&&e.__setModuleDefault||(Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b}),s=e&&e.__importStar||function(){var y=function(b){return y=Object.getOwnPropertyNames||function(T){var E=[];for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(E[E.length]=P);return E},y(b)};return function(b){if(b&&b.__esModule)return b;var T={};if(b!=null)for(var E=y(b),P=0;P<E.length;P++)E[P]!=="default"&&t(T,b,E[P]);return r(T,b),T}}(),l=e&&e.__exportStar||function(y,b){for(var T in y)T!=="default"&&!Object.prototype.hasOwnProperty.call(b,T)&&t(b,y,T)},n=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var i=n(No());e.MqttClient=i.default;var a=n(bc());e.DefaultMessageIdProvider=a.default;var o=n(xg());e.UniqueMessageIdProvider=o.default;var u=n(wc());e.Store=u.default;var h=s(Kg());e.connect=h.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return h.connectAsync}});var d=n(Lc());e.KeepaliveManager=d.default,e.Client=i.default,l(No(),e),l(bn(),e);var m=Di();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return m.ReasonCodes}})}),zg=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(i,a,o,u){u===void 0&&(u=o);var h=Object.getOwnPropertyDescriptor(a,o);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,u,h)}:function(i,a,o,u){u===void 0&&(u=o),i[u]=a[o]}),r=e&&e.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),s=e&&e.__importStar||function(){var i=function(a){return i=Object.getOwnPropertyNames||function(o){var u=[];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(u[u.length]=h);return u},i(a)};return function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var u=i(a),h=0;h<u.length;h++)u[h]!=="default"&&t(o,a,u[h]);return r(o,a),o}}(),l=e&&e.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0});var n=s(Bl());e.default=n,l(Bl(),e)});const Gg=zg();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/class Yg{constructor(t){Ie(this,"url");Ie(this,"topicInterestTimestamps",new Map);Ie(this,"topicCryptoKeys",new Map);Ie(this,"queue",new Ap(100));Ie(this,"client");this.url=t,this.client=Gg.connect(this.url,{protocolVersion:4}),this.client.on("connect",()=>{console.log("Connected to MQTT server")}),this.client.on("message",async(r,s)=>{const l=Uint8Array.from(s);if(this.topicCryptoKeys.has(r)){const n=l.slice(0,12),i=l.slice(12,l.length),a=this.topicCryptoKeys.get(r),o=await crypto.subtle.importKey("raw",a,"AES-GCM",!1,["decrypt"]),u=await crypto.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:32},o,i),h=new Uint8Array(u),d=h[0];this.queue.enqueue(h.slice(d+1,h.length))}}),this.client.on("error",r=>{console.error("MQTT error:",r)}),this.client.on("reconnect",()=>{console.log("Reconnecting to MQTT server");for(const r of this.topicInterestTimestamps.keys()){const s=this.topicInterestTimestamps.get(r);s&&s>Date.now()-1e3*60*65&&this.client.subscribe(r)}}),this.client.on("disconnect",()=>{console.log("Disconnected from MQTT server")})}async*listen(){yield await this.queue.dequeue()}async routingIdToHexKey(t){const r=await crypto.subtle.digest("SHA-256",t.slice(0,16));return new Uint8Array(r.slice(0,8)).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),"")}async send(t){const r=t.slice(mt.ROUTING_ID_OFFSET,mt.ROUTING_ID_OFFSET+mt.ROUTING_ID_LENGTH);if(t.length<38)return;const s=t[mt.PATH_LOSS_OFFSET],n=`lazymesh_route_${await this.routingIdToHexKey(r)}`;s==0&&(this.topicInterestTimestamps.has(n)||this.client.subscribe(n),this.topicInterestTimestamps.set(n,Date.now()),this.client.subscribe(n)),this.topicCryptoKeys.set(n,r);const i=new Uint8Array(12);crypto.getRandomValues(i);const a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]),o=new Uint8Array(t.length+1);o[0]=0,o.set(t,1);const u=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:i,tagLength:32},a,o)),h=new Uint8Array([...i,...u]);this.client.publish(n,h)}}const Qg={class:"sidebar w-18rem"},Jg={class:"tool-bar"},Xg=["onClick"],Zg=["onClick"],em={class:"stacked-form"},tm=aa({__name:"Sidebar",setup(e){gu(()=>{const n=localStorage.getItem("userState");if(n){const i=JSON.parse(n);xr.value=i.username,nr.value=i.channels}});function t(){const n=Jd.value;localStorage.setItem("userState",JSON.stringify(n))}function r(n){confirm(`Delete channel ${n}?`)&&(nr.value=nr.value.filter(i=>i.name!==n),t())}function s(n){const i=prompt("Enter new channel name:");i&&(nr.value[n].name=i,t())}function l(){const n=prompt("Enter channel name:"),i=prompt("Enter channel password:");if(n&&i){if(nr.value.some(a=>a.name===n)){alert("Channel name already in use");return}nr.value.push({name:n,password:i}),t()}}return(n,i)=>(st(),dt("div",Qg,[i[2]||(i[2]=Oe("h2",null,"Channels",-1)),Oe("ul",null,[(st(!0),dt(gt,null,un(ur(nr),(a,o)=>(st(),dt("div",{key:o},[Oe("h3",null,Nt(a.name),1),Oe("div",Jg,[Oe("button",{onClick:u=>r(a.name)},"Remove",8,Xg),Oe("button",{onClick:u=>s(o)}," Rename ",8,Zg)])]))),128))]),Oe("div",em,[Oe("label",null,[i[1]||(i[1]=Tr("Username: ")),Vr(Oe("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>ut(xr)?xr.value=a:null),type:"text",placeholder:"Username",onChange:t},null,544),[[Kr,ur(xr)]])])]),Oe("div",{class:"tool-bar"},[Oe("button",{onClick:l},"Add Channel")])]))}}),rm={class:"flex-row"},nm=aa({__name:"App",setup(e){const t=new Qd,r=new Yg("wss://test.mosquitto.org:8081");t.setTransport(r);async function s(){await t.run()}return window.setInterval(s,100),(l,n)=>(st(),dt("main",rm,[Gt(tm),(st(!0),dt(gt,null,un(ur(nr),i=>(st(),Mu(Sp,{password:i.password,name:i.name,node:ur(t)},null,8,["password","name","node"]))),256))]))}}),im=Wu(nm,[["__scopeId","data-v-5a2cd739"]]);$d(im).mount("#app");
