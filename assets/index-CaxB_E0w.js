var Eh=Object.defineProperty;var Ea=e=>{throw TypeError(e)};var Sh=(e,t,r)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ie=(e,t,r)=>Sh(e,typeof t!="symbol"?t+"":t,r),Wi=(e,t,r)=>t.has(e)||Ea("Cannot "+r);var q=(e,t,r)=>(Wi(e,t,"read from private field"),r?r.call(e):t.get(e)),Ne=(e,t,r)=>t.has(e)?Ea("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,a)=>(Wi(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Oe=(e,t,r)=>(Wi(e,t,"access private method"),r);var Wn=(e,t,r,a)=>({set _(l){Re(e,t,l,r)},get _(){return q(e,t,a)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qo(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const qe={},tn=[],Kt=()=>{},Ah=()=>!1,Ei=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vo=e=>e.startsWith("onUpdate:"),pt=Object.assign,Ko=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Th=Object.prototype.hasOwnProperty,Fe=(e,t)=>Th.call(e,t),Be=Array.isArray,rn=e=>Si(e)==="[object Map]",Ul=e=>Si(e)==="[object Set]",Le=e=>typeof e=="function",rt=e=>typeof e=="string",xr=e=>typeof e=="symbol",et=e=>e!==null&&typeof e=="object",Ml=e=>(et(e)||Le(e))&&Le(e.then)&&Le(e.catch),Bl=Object.prototype.toString,Si=e=>Bl.call(e),Ih=e=>Si(e).slice(8,-1),Ll=e=>Si(e)==="[object Object]",zo=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ai=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},xh=/-(\w)/g,Tr=Ai(e=>e.replace(xh,(t,r)=>r?r.toUpperCase():"")),Oh=/\B([A-Z])/g,Or=Ai(e=>e.replace(Oh,"-$1").toLowerCase()),Nl=Ai(e=>e.charAt(0).toUpperCase()+e.slice(1)),Hi=Ai(e=>e?`on${Nl(e)}`:""),Ar=(e,t)=>!Object.is(e,t),Xn=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},jl=(e,t,r,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:r})},fs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sa;const Ti=()=>Sa||(Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Go(e){if(Be(e)){const t={};for(let r=0;r<e.length;r++){const a=e[r],l=rt(a)?Rh(a):Go(a);if(l)for(const n in l)t[n]=l[n]}return t}else if(rt(e)||et(e))return e}const kh=/;(?![^(]*\))/g,Ch=/:([^]+)/,Ph=/\/\*[^]*?\*\//g;function Rh(e){const t={};return e.replace(Ph,"").split(kh).forEach(r=>{if(r){const a=r.split(Ch);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ii(e){let t="";if(rt(e))t=e;else if(Be(e))for(let r=0;r<e.length;r++){const a=Ii(e[r]);a&&(t+=a+" ")}else if(et(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Uh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mh=qo(Uh);function Dl(e){return!!e||e===""}const Fl=e=>!!(e&&e.__v_isRef===!0),_r=e=>rt(e)?e:e==null?"":Be(e)||et(e)&&(e.toString===Bl||!Le(e.toString))?Fl(e)?_r(e.value):JSON.stringify(e,Wl,2):String(e),Wl=(e,t)=>Fl(t)?Wl(e,t.value):rn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[a,l],n)=>(r[$i(a,n)+" =>"]=l,r),{})}:Ul(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>$i(r))}:xr(t)?$i(t):et(t)&&!Be(t)&&!Ll(t)?String(t):t,$i=(e,t="")=>{var r;return xr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Bh{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!t&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Et;try{return Et=this,t()}finally{Et=r}}}on(){++this._on===1&&(this.prevScope=Et,Et=this)}off(){this._on>0&&--this._on===0&&(Et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(this.effects.length=0,r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Lh(){return Et}let Ke;const qi=new WeakSet;class Hl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qi.has(this)&&(qi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ql(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aa(this),Vl(this);const t=Ke,r=Nt;Ke=this,Nt=!0;try{return this.fn()}finally{Kl(this),Ke=t,Nt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Jo(t);this.deps=this.depsTail=void 0,Aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ds(this)&&this.run()}get dirty(){return ds(this)}}let $l=0,Sn,An;function ql(e,t=!1){if(e.flags|=8,t){e.next=An,An=e;return}e.next=Sn,Sn=e}function Yo(){$l++}function Qo(){if(--$l>0)return;if(An){let t=An;for(An=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=r}}if(e)throw e}function Vl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Kl(e){let t,r=e.depsTail,a=r;for(;a;){const l=a.prevDep;a.version===-1?(a===r&&(r=l),Jo(a),Nh(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=l}e.deps=t,e.depsTail=r}function ds(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Rn)||(e.globalVersion=Rn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ds(e))))return;e.flags|=2;const t=e.dep,r=Ke,a=Nt;Ke=e,Nt=!0;try{Vl(e);const l=e.fn(e._value);(t.version===0||Ar(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{Ke=r,Nt=a,Kl(e),e.flags&=-3}}function Jo(e,t=!1){const{dep:r,prevSub:a,nextSub:l}=e;if(a&&(a.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=a,e.nextSub=void 0),r.subs===e&&(r.subs=a,!a&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)Jo(n,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Nh(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Nt=!0;const Gl=[];function ar(){Gl.push(Nt),Nt=!1}function lr(){const e=Gl.pop();Nt=e===void 0?!0:e}function Aa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Ke;Ke=void 0;try{t()}finally{Ke=r}}}let Rn=0;class jh{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ke||!Nt||Ke===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ke)r=this.activeLink=new jh(Ke,this),Ke.deps?(r.prevDep=Ke.depsTail,Ke.depsTail.nextDep=r,Ke.depsTail=r):Ke.deps=Ke.depsTail=r,Yl(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const a=r.nextDep;a.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=a),r.prevDep=Ke.depsTail,r.nextDep=void 0,Ke.depsTail.nextDep=r,Ke.depsTail=r,Ke.deps===r&&(Ke.deps=a)}return r}trigger(t){this.version++,Rn++,this.notify(t)}notify(t){Yo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Qo()}}}function Yl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Yl(a)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ps=new WeakMap,Hr=Symbol(""),gs=Symbol(""),Un=Symbol("");function ft(e,t,r){if(Nt&&Ke){let a=ps.get(e);a||ps.set(e,a=new Map);let l=a.get(r);l||(a.set(r,l=new Xo),l.map=a,l.key=r),l.track()}}function nr(e,t,r,a,l,n){const i=ps.get(e);if(!i){Rn++;return}const o=s=>{s&&s.trigger()};if(Yo(),t==="clear")i.forEach(o);else{const s=Be(e),u=s&&zo(r);if(s&&r==="length"){const h=Number(a);i.forEach((d,m)=>{(m==="length"||m===Un||!xr(m)&&m>=h)&&o(d)})}else switch((r!==void 0||i.has(void 0))&&o(i.get(r)),u&&o(i.get(Un)),t){case"add":s?u&&o(i.get("length")):(o(i.get(Hr)),rn(e)&&o(i.get(gs)));break;case"delete":s||(o(i.get(Hr)),rn(e)&&o(i.get(gs)));break;case"set":rn(e)&&o(i.get(Hr));break}}Qo()}function Qr(e){const t=De(e);return t===e?t:(ft(t,"iterate",Un),Mt(e)?t:t.map(at))}function xi(e){return ft(e=De(e),"iterate",Un),e}const Dh={__proto__:null,[Symbol.iterator](){return Vi(this,Symbol.iterator,at)},concat(...e){return Qr(this).concat(...e.map(t=>Be(t)?Qr(t):t))},entries(){return Vi(this,"entries",e=>(e[1]=at(e[1]),e))},every(e,t){return Yt(this,"every",e,t,void 0,arguments)},filter(e,t){return Yt(this,"filter",e,t,r=>r.map(at),arguments)},find(e,t){return Yt(this,"find",e,t,at,arguments)},findIndex(e,t){return Yt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Yt(this,"findLast",e,t,at,arguments)},findLastIndex(e,t){return Yt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Yt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ki(this,"includes",e)},indexOf(...e){return Ki(this,"indexOf",e)},join(e){return Qr(this).join(e)},lastIndexOf(...e){return Ki(this,"lastIndexOf",e)},map(e,t){return Yt(this,"map",e,t,void 0,arguments)},pop(){return pn(this,"pop")},push(...e){return pn(this,"push",e)},reduce(e,...t){return Ta(this,"reduce",e,t)},reduceRight(e,...t){return Ta(this,"reduceRight",e,t)},shift(){return pn(this,"shift")},some(e,t){return Yt(this,"some",e,t,void 0,arguments)},splice(...e){return pn(this,"splice",e)},toReversed(){return Qr(this).toReversed()},toSorted(e){return Qr(this).toSorted(e)},toSpliced(...e){return Qr(this).toSpliced(...e)},unshift(...e){return pn(this,"unshift",e)},values(){return Vi(this,"values",at)}};function Vi(e,t,r){const a=xi(e),l=a[t]();return a!==e&&!Mt(e)&&(l._next=l.next,l.next=()=>{const n=l._next();return n.value&&(n.value=r(n.value)),n}),l}const Fh=Array.prototype;function Yt(e,t,r,a,l,n){const i=xi(e),o=i!==e&&!Mt(e),s=i[t];if(s!==Fh[t]){const d=s.apply(e,n);return o?at(d):d}let u=r;i!==e&&(o?u=function(d,m){return r.call(this,at(d),m,e)}:r.length>2&&(u=function(d,m){return r.call(this,d,m,e)}));const h=s.call(i,u,a);return o&&l?l(h):h}function Ta(e,t,r,a){const l=xi(e);let n=r;return l!==e&&(Mt(e)?r.length>3&&(n=function(i,o,s){return r.call(this,i,o,s,e)}):n=function(i,o,s){return r.call(this,i,at(o),s,e)}),l[t](n,...a)}function Ki(e,t,r){const a=De(e);ft(a,"iterate",Un);const l=a[t](...r);return(l===-1||l===!1)&&ra(r[0])?(r[0]=De(r[0]),a[t](...r)):l}function pn(e,t,r=[]){ar(),Yo();const a=De(e)[t].apply(e,r);return Qo(),lr(),a}const Wh=qo("__proto__,__v_isRef,__isVue"),Ql=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xr));function Hh(e){xr(e)||(e=String(e));const t=De(this);return ft(t,"has",e),t.hasOwnProperty(e)}class Jl{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,a){if(r==="__v_skip")return t.__v_skip;const l=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!l;if(r==="__v_isReadonly")return l;if(r==="__v_isShallow")return n;if(r==="__v_raw")return a===(l?n?Xh:tu:n?eu:Zl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const i=Be(t);if(!l){let s;if(i&&(s=Dh[r]))return s;if(r==="hasOwnProperty")return Hh}const o=Reflect.get(t,r,lt(t)?t:a);return(xr(r)?Ql.has(r):Wh(r))||(l||ft(t,"get",r),n)?o:lt(o)?i&&zo(r)?o:o.value:et(o)?l?ru(o):ea(o):o}}class Xl extends Jl{constructor(t=!1){super(!1,t)}set(t,r,a,l){let n=t[r];if(!this._isShallow){const s=Ir(n);if(!Mt(a)&&!Ir(a)&&(n=De(n),a=De(a)),!Be(t)&&lt(n)&&!lt(a))return s?!1:(n.value=a,!0)}const i=Be(t)&&zo(r)?Number(r)<t.length:Fe(t,r),o=Reflect.set(t,r,a,lt(t)?t:l);return t===De(l)&&(i?Ar(a,n)&&nr(t,"set",r,a):nr(t,"add",r,a)),o}deleteProperty(t,r){const a=Fe(t,r);t[r];const l=Reflect.deleteProperty(t,r);return l&&a&&nr(t,"delete",r,void 0),l}has(t,r){const a=Reflect.has(t,r);return(!xr(r)||!Ql.has(r))&&ft(t,"has",r),a}ownKeys(t){return ft(t,"iterate",Be(t)?"length":Hr),Reflect.ownKeys(t)}}class $h extends Jl{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const qh=new Xl,Vh=new $h,Kh=new Xl(!0);const ms=e=>e,Hn=e=>Reflect.getPrototypeOf(e);function zh(e,t,r){return function(...a){const l=this.__v_raw,n=De(l),i=rn(n),o=e==="entries"||e===Symbol.iterator&&i,s=e==="keys"&&i,u=l[e](...a),h=r?ms:t?hi:at;return!t&&ft(n,"iterate",s?gs:Hr),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:o?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function $n(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gh(e,t){const r={get(l){const n=this.__v_raw,i=De(n),o=De(l);e||(Ar(l,o)&&ft(i,"get",l),ft(i,"get",o));const{has:s}=Hn(i),u=t?ms:e?hi:at;if(s.call(i,l))return u(n.get(l));if(s.call(i,o))return u(n.get(o));n!==i&&n.get(l)},get size(){const l=this.__v_raw;return!e&&ft(De(l),"iterate",Hr),Reflect.get(l,"size",l)},has(l){const n=this.__v_raw,i=De(n),o=De(l);return e||(Ar(l,o)&&ft(i,"has",l),ft(i,"has",o)),l===o?n.has(l):n.has(l)||n.has(o)},forEach(l,n){const i=this,o=i.__v_raw,s=De(o),u=t?ms:e?hi:at;return!e&&ft(s,"iterate",Hr),o.forEach((h,d)=>l.call(n,u(h),u(d),i))}};return pt(r,e?{add:$n("add"),set:$n("set"),delete:$n("delete"),clear:$n("clear")}:{add(l){!t&&!Mt(l)&&!Ir(l)&&(l=De(l));const n=De(this);return Hn(n).has.call(n,l)||(n.add(l),nr(n,"add",l,l)),this},set(l,n){!t&&!Mt(n)&&!Ir(n)&&(n=De(n));const i=De(this),{has:o,get:s}=Hn(i);let u=o.call(i,l);u||(l=De(l),u=o.call(i,l));const h=s.call(i,l);return i.set(l,n),u?Ar(n,h)&&nr(i,"set",l,n):nr(i,"add",l,n),this},delete(l){const n=De(this),{has:i,get:o}=Hn(n);let s=i.call(n,l);s||(l=De(l),s=i.call(n,l)),o&&o.call(n,l);const u=n.delete(l);return s&&nr(n,"delete",l,void 0),u},clear(){const l=De(this),n=l.size!==0,i=l.clear();return n&&nr(l,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(l=>{r[l]=zh(l,e,t)}),r}function Zo(e,t){const r=Gh(e,t);return(a,l,n)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?a:Reflect.get(Fe(r,l)&&l in a?r:a,l,n)}const Yh={get:Zo(!1,!1)},Qh={get:Zo(!1,!0)},Jh={get:Zo(!0,!1)};const Zl=new WeakMap,eu=new WeakMap,tu=new WeakMap,Xh=new WeakMap;function Zh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ef(e){return e.__v_skip||!Object.isExtensible(e)?0:Zh(Ih(e))}function ea(e){return Ir(e)?e:ta(e,!1,qh,Yh,Zl)}function tf(e){return ta(e,!1,Kh,Qh,eu)}function ru(e){return ta(e,!0,Vh,Jh,tu)}function ta(e,t,r,a,l){if(!et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=ef(e);if(n===0)return e;const i=l.get(e);if(i)return i;const o=new Proxy(e,n===2?a:r);return l.set(e,o),o}function nn(e){return Ir(e)?nn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ir(e){return!!(e&&e.__v_isReadonly)}function Mt(e){return!!(e&&e.__v_isShallow)}function ra(e){return e?!!e.__v_raw:!1}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function rf(e){return!Fe(e,"__v_skip")&&Object.isExtensible(e)&&jl(e,"__v_skip",!0),e}const at=e=>et(e)?ea(e):e,hi=e=>et(e)?ru(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function Tn(e){return nf(e,!1)}function nf(e,t){return lt(e)?e:new sf(e,t)}class sf{constructor(t,r){this.dep=new Xo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:De(t),this._value=r?t:at(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,a=this.__v_isShallow||Mt(t)||Ir(t);t=a?t:De(t),Ar(t,r)&&(this._rawValue=t,this._value=a?t:at(t),this.dep.trigger())}}function Kr(e){return lt(e)?e.value:e}const of={get:(e,t,r)=>t==="__v_raw"?e:Kr(Reflect.get(e,t,r)),set:(e,t,r,a)=>{const l=e[t];return lt(l)&&!lt(r)?(l.value=r,!0):Reflect.set(e,t,r,a)}};function nu(e){return nn(e)?e:new Proxy(e,of)}class af{constructor(t,r,a){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return ql(this,!0),!0}get value(){const t=this.dep.track();return zl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function lf(e,t,r=!1){let a,l;return Le(e)?a=e:(a=e.get,l=e.set),new af(a,l,r)}const qn={},fi=new WeakMap;let jr;function uf(e,t=!1,r=jr){if(r){let a=fi.get(r);a||fi.set(r,a=[]),a.push(e)}}function cf(e,t,r=qe){const{immediate:a,deep:l,once:n,scheduler:i,augmentJob:o,call:s}=r,u=D=>l?D:Mt(D)||l===!1||l===0?ir(D,1):ir(D);let h,d,m,y,b=!1,I=!1;if(lt(e)?(d=()=>e.value,b=Mt(e)):nn(e)?(d=()=>u(e),b=!0):Be(e)?(I=!0,b=e.some(D=>nn(D)||Mt(D)),d=()=>e.map(D=>{if(lt(D))return D.value;if(nn(D))return u(D);if(Le(D))return s?s(D,2):D()})):Le(e)?t?d=s?()=>s(e,2):e:d=()=>{if(m){ar();try{m()}finally{lr()}}const D=jr;jr=h;try{return s?s(e,3,[y]):e(y)}finally{jr=D}}:d=Kt,t&&l){const D=d,F=l===!0?1/0:l;d=()=>ir(D(),F)}const k=Lh(),U=()=>{h.stop(),k&&k.active&&Ko(k.effects,h)};if(n&&t){const D=t;t=(...F)=>{D(...F),U()}}let w=I?new Array(e.length).fill(qn):qn;const O=D=>{if(!(!(h.flags&1)||!h.dirty&&!D))if(t){const F=h.run();if(l||b||(I?F.some((M,N)=>Ar(M,w[N])):Ar(F,w))){m&&m();const M=jr;jr=h;try{const N=[F,w===qn?void 0:I&&w[0]===qn?[]:w,y];w=F,s?s(t,3,N):t(...N)}finally{jr=M}}}else h.run()};return o&&o(O),h=new Hl(d),h.scheduler=i?()=>i(O,!1):O,y=D=>uf(D,!1,h),m=h.onStop=()=>{const D=fi.get(h);if(D){if(s)s(D,4);else for(const F of D)F();fi.delete(h)}},t?a?O(!0):w=h.run():i?i(O.bind(null,!0),!0):h.run(),U.pause=h.pause.bind(h),U.resume=h.resume.bind(h),U.stop=U,U}function ir(e,t=1/0,r){if(t<=0||!et(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,lt(e))ir(e.value,t,r);else if(Be(e))for(let a=0;a<e.length;a++)ir(e[a],t,r);else if(Ul(e)||rn(e))e.forEach(a=>{ir(a,t,r)});else if(Ll(e)){for(const a in e)ir(e[a],t,r);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&ir(e[a],t,r)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function jn(e,t,r,a){try{return a?e(...a):e()}catch(l){Oi(l,t,r)}}function zt(e,t,r,a){if(Le(e)){const l=jn(e,t,r,a);return l&&Ml(l)&&l.catch(n=>{Oi(n,t,r)}),l}if(Be(e)){const l=[];for(let n=0;n<e.length;n++)l.push(zt(e[n],t,r,a));return l}}function Oi(e,t,r,a=!0){const l=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||qe;if(t){let o=t.parent;const s=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const h=o.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,s,u)===!1)return}o=o.parent}if(n){ar(),jn(n,null,10,[e,s,u]),lr();return}}hf(e,r,l,a,i)}function hf(e,t,r,a=!0,l=!1){if(l)throw e;console.error(e)}const yt=[];let Wt=-1;const sn=[];let Er=null,Xr=0;const iu=Promise.resolve();let di=null;function ff(e){const t=di||iu;return e?t.then(this?e.bind(this):e):t}function df(e){let t=Wt+1,r=yt.length;for(;t<r;){const a=t+r>>>1,l=yt[a],n=Mn(l);n<e||n===e&&l.flags&2?t=a+1:r=a}return t}function na(e){if(!(e.flags&1)){const t=Mn(e),r=yt[yt.length-1];!r||!(e.flags&2)&&t>=Mn(r)?yt.push(e):yt.splice(df(t),0,e),e.flags|=1,su()}}function su(){di||(di=iu.then(au))}function pf(e){Be(e)?sn.push(...e):Er&&e.id===-1?Er.splice(Xr+1,0,e):e.flags&1||(sn.push(e),e.flags|=1),su()}function Ia(e,t,r=Wt+1){for(;r<yt.length;r++){const a=yt[r];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;yt.splice(r,1),r--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function ou(e){if(sn.length){const t=[...new Set(sn)].sort((r,a)=>Mn(r)-Mn(a));if(sn.length=0,Er){Er.push(...t);return}for(Er=t,Xr=0;Xr<Er.length;Xr++){const r=Er[Xr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Er=null,Xr=0}}const Mn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function au(e){try{for(Wt=0;Wt<yt.length;Wt++){const t=yt[Wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),jn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Wt<yt.length;Wt++){const t=yt[Wt];t&&(t.flags&=-2)}Wt=-1,yt.length=0,ou(),di=null,(yt.length||sn.length)&&au()}}let Ut=null,lu=null;function pi(e){const t=Ut;return Ut=e,lu=e&&e.type.__scopeId||null,t}function gf(e,t=Ut,r){if(!t||e._n)return e;const a=(...l)=>{a._d&&Ba(-1);const n=pi(t);let i;try{i=e(...l)}finally{pi(n),a._d&&Ba(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function uu(e,t){if(Ut===null)return e;const r=Ri(Ut),a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[n,i,o,s=qe]=t[l];n&&(Le(n)&&(n={mounted:n,updated:n}),n.deep&&ir(i),a.push({dir:n,instance:r,value:i,oldValue:void 0,arg:o,modifiers:s}))}return e}function Ur(e,t,r,a){const l=e.dirs,n=t&&t.dirs;for(let i=0;i<l.length;i++){const o=l[i];n&&(o.oldValue=n[i].value);let s=o.dir[a];s&&(ar(),zt(s,r,8,[e.el,o,e,t]),lr())}}const mf=Symbol("_vte"),yf=e=>e.__isTeleport;function ia(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ia(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function sa(e,t){return Le(e)?pt({name:e.name},t,{setup:e}):e}function cu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function gi(e,t,r,a,l=!1){if(Be(e)){e.forEach((b,I)=>gi(b,t&&(Be(t)?t[I]:t),r,a,l));return}if(In(a)&&!l){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&gi(e,t,r,a.component.subTree);return}const n=a.shapeFlag&4?Ri(a.component):a.el,i=l?null:n,{i:o,r:s}=e,u=t&&t.r,h=o.refs===qe?o.refs={}:o.refs,d=o.setupState,m=De(d),y=d===qe?()=>!1:b=>Fe(m,b);if(u!=null&&u!==s&&(rt(u)?(h[u]=null,y(u)&&(d[u]=null)):lt(u)&&(u.value=null)),Le(s))jn(s,o,12,[i,h]);else{const b=rt(s),I=lt(s);if(b||I){const k=()=>{if(e.f){const U=b?y(s)?d[s]:h[s]:s.value;l?Be(U)&&Ko(U,n):Be(U)?U.includes(n)||U.push(n):b?(h[s]=[n],y(s)&&(d[s]=h[s])):(s.value=[n],e.k&&(h[e.k]=s.value))}else b?(h[s]=i,y(s)&&(d[s]=i)):I&&(s.value=i,e.k&&(h[e.k]=i))};i?(k.id=-1,It(k,r)):k()}}}Ti().requestIdleCallback;Ti().cancelIdleCallback;const In=e=>!!e.type.__asyncLoader,hu=e=>e.type.__isKeepAlive;function bf(e,t){fu(e,"a",t)}function wf(e,t){fu(e,"da",t)}function fu(e,t,r=bt){const a=e.__wdc||(e.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(ki(t,a,r),r){let l=r.parent;for(;l&&l.parent;)hu(l.parent.vnode)&&vf(a,t,r,l),l=l.parent}}function vf(e,t,r,a){const l=ki(t,e,a,!0);oa(()=>{Ko(a[t],l)},r)}function ki(e,t,r=bt,a=!1){if(r){const l=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...i)=>{ar();const o=Dn(r),s=zt(t,r,e,i);return o(),lr(),s});return a?l.unshift(n):l.push(n),n}}const hr=e=>(t,r=bt)=>{(!Ln||e==="sp")&&ki(e,(...a)=>t(...a),r)},_f=hr("bm"),du=hr("m"),Ef=hr("bu"),Sf=hr("u"),Af=hr("bum"),oa=hr("um"),Tf=hr("sp"),If=hr("rtg"),xf=hr("rtc");function Of(e,t=bt){ki("ec",e,t)}const kf=Symbol.for("v-ndc");function xn(e,t,r,a){let l;const n=r,i=Be(e);if(i||rt(e)){const o=i&&nn(e);let s=!1,u=!1;o&&(s=!Mt(e),u=Ir(e),e=xi(e)),l=new Array(e.length);for(let h=0,d=e.length;h<d;h++)l[h]=t(s?u?hi(at(e[h])):at(e[h]):e[h],h,void 0,n)}else if(typeof e=="number"){l=new Array(e);for(let o=0;o<e;o++)l[o]=t(o+1,o,void 0,n)}else if(et(e))if(e[Symbol.iterator])l=Array.from(e,(o,s)=>t(o,s,void 0,n));else{const o=Object.keys(e);l=new Array(o.length);for(let s=0,u=o.length;s<u;s++){const h=o[s];l[s]=t(e[h],h,s,n)}}else l=[];return l}const ys=e=>e?Mu(e)?Ri(e):ys(e.parent):null,On=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ys(e.parent),$root:e=>ys(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gu(e),$forceUpdate:e=>e.f||(e.f=()=>{na(e.update)}),$nextTick:e=>e.n||(e.n=ff.bind(e.proxy)),$watch:e=>Jf.bind(e)}),zi=(e,t)=>e!==qe&&!e.__isScriptSetup&&Fe(e,t),Cf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:a,data:l,props:n,accessCache:i,type:o,appContext:s}=e;let u;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return a[t];case 2:return l[t];case 4:return r[t];case 3:return n[t]}else{if(zi(a,t))return i[t]=1,a[t];if(l!==qe&&Fe(l,t))return i[t]=2,l[t];if((u=e.propsOptions[0])&&Fe(u,t))return i[t]=3,n[t];if(r!==qe&&Fe(r,t))return i[t]=4,r[t];bs&&(i[t]=0)}}const h=On[t];let d,m;if(h)return t==="$attrs"&&ft(e.attrs,"get",""),h(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(r!==qe&&Fe(r,t))return i[t]=4,r[t];if(m=s.config.globalProperties,Fe(m,t))return m[t]},set({_:e},t,r){const{data:a,setupState:l,ctx:n}=e;return zi(l,t)?(l[t]=r,!0):a!==qe&&Fe(a,t)?(a[t]=r,!0):Fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:a,appContext:l,propsOptions:n}},i){let o;return!!r[i]||e!==qe&&Fe(e,i)||zi(t,i)||(o=n[0])&&Fe(o,i)||Fe(a,i)||Fe(On,i)||Fe(l.config.globalProperties,i)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Fe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function xa(e){return Be(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let bs=!0;function Pf(e){const t=gu(e),r=e.proxy,a=e.ctx;bs=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:l,computed:n,methods:i,watch:o,provide:s,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:y,updated:b,activated:I,deactivated:k,beforeDestroy:U,beforeUnmount:w,destroyed:O,unmounted:D,render:F,renderTracked:M,renderTriggered:N,errorCaptured:K,serverPrefetch:se,expose:oe,inheritAttrs:fe,components:$,directives:ie,filters:ae}=t;if(u&&Rf(u,a,null),i)for(const ce in i){const ue=i[ce];Le(ue)&&(a[ce]=ue.bind(r))}if(l){const ce=l.call(r,r);et(ce)&&(e.data=ea(ce))}if(bs=!0,n)for(const ce in n){const ue=n[ce],Ee=Le(ue)?ue.bind(r,r):Le(ue.get)?ue.get.bind(r,r):Kt,ne=!Le(ue)&&Le(ue.set)?ue.set.bind(r):Kt,de=Lu({get:Ee,set:ne});Object.defineProperty(a,ce,{enumerable:!0,configurable:!0,get:()=>de.value,set:j=>de.value=j})}if(o)for(const ce in o)pu(o[ce],a,r,ce);if(s){const ce=Le(s)?s.call(r):s;Reflect.ownKeys(ce).forEach(ue=>{jf(ue,ce[ue])})}h&&Oa(h,e,"c");function pe(ce,ue){Be(ue)?ue.forEach(Ee=>ce(Ee.bind(r))):ue&&ce(ue.bind(r))}if(pe(_f,d),pe(du,m),pe(Ef,y),pe(Sf,b),pe(bf,I),pe(wf,k),pe(Of,K),pe(xf,M),pe(If,N),pe(Af,w),pe(oa,D),pe(Tf,se),Be(oe))if(oe.length){const ce=e.exposed||(e.exposed={});oe.forEach(ue=>{Object.defineProperty(ce,ue,{get:()=>r[ue],set:Ee=>r[ue]=Ee})})}else e.exposed||(e.exposed={});F&&e.render===Kt&&(e.render=F),fe!=null&&(e.inheritAttrs=fe),$&&(e.components=$),ie&&(e.directives=ie),se&&cu(e)}function Rf(e,t,r=Kt){Be(e)&&(e=ws(e));for(const a in e){const l=e[a];let n;et(l)?"default"in l?n=Zn(l.from||a,l.default,!0):n=Zn(l.from||a):n=Zn(l),lt(n)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>n.value,set:i=>n.value=i}):t[a]=n}}function Oa(e,t,r){zt(Be(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,r)}function pu(e,t,r,a){let l=a.includes(".")?Ou(r,a):()=>r[a];if(rt(e)){const n=t[e];Le(n)&&Yi(l,n)}else if(Le(e))Yi(l,e.bind(r));else if(et(e))if(Be(e))e.forEach(n=>pu(n,t,r,a));else{const n=Le(e.handler)?e.handler.bind(r):t[e.handler];Le(n)&&Yi(l,n,e)}}function gu(e){const t=e.type,{mixins:r,extends:a}=t,{mixins:l,optionsCache:n,config:{optionMergeStrategies:i}}=e.appContext,o=n.get(t);let s;return o?s=o:!l.length&&!r&&!a?s=t:(s={},l.length&&l.forEach(u=>mi(s,u,i,!0)),mi(s,t,i)),et(t)&&n.set(t,s),s}function mi(e,t,r,a=!1){const{mixins:l,extends:n}=t;n&&mi(e,n,r,!0),l&&l.forEach(i=>mi(e,i,r,!0));for(const i in t)if(!(a&&i==="expose")){const o=Uf[i]||r&&r[i];e[i]=o?o(e[i],t[i]):t[i]}return e}const Uf={data:ka,props:Ca,emits:Ca,methods:bn,computed:bn,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:bn,directives:bn,watch:Bf,provide:ka,inject:Mf};function ka(e,t){return t?e?function(){return pt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function Mf(e,t){return bn(ws(e),ws(t))}function ws(e){if(Be(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function bn(e,t){return e?pt(Object.create(null),e,t):t}function Ca(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:pt(Object.create(null),xa(e),xa(t??{})):t}function Bf(e,t){if(!e)return t;if(!t)return e;const r=pt(Object.create(null),e);for(const a in t)r[a]=mt(e[a],t[a]);return r}function mu(){return{app:null,config:{isNativeTag:Ah,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lf=0;function Nf(e,t){return function(a,l=null){Le(a)||(a=pt({},a)),l!=null&&!et(l)&&(l=null);const n=mu(),i=new WeakSet,o=[];let s=!1;const u=n.app={_uid:Lf++,_component:a,_props:l,_container:null,_context:n,_instance:null,version:bd,get config(){return n.config},set config(h){},use(h,...d){return i.has(h)||(h&&Le(h.install)?(i.add(h),h.install(u,...d)):Le(h)&&(i.add(h),h(u,...d))),u},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),u},component(h,d){return d?(n.components[h]=d,u):n.components[h]},directive(h,d){return d?(n.directives[h]=d,u):n.directives[h]},mount(h,d,m){if(!s){const y=u._ceVNode||or(a,l);return y.appContext=n,m===!0?m="svg":m===!1&&(m=void 0),e(y,h,m),s=!0,u._container=h,h.__vue_app__=u,Ri(y.component)}},onUnmount(h){o.push(h)},unmount(){s&&(zt(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(h,d){return n.provides[h]=d,u},runWithContext(h){const d=on;on=u;try{return h()}finally{on=d}}};return u}}let on=null;function jf(e,t){if(bt){let r=bt.provides;const a=bt.parent&&bt.parent.provides;a===r&&(r=bt.provides=Object.create(a)),r[e]=t}}function Zn(e,t,r=!1){const a=bt||Ut;if(a||on){let l=on?on._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return r&&Le(t)?t.call(a&&a.proxy):t}}const yu={},bu=()=>Object.create(yu),wu=e=>Object.getPrototypeOf(e)===yu;function Df(e,t,r,a=!1){const l={},n=bu();e.propsDefaults=Object.create(null),vu(e,t,l,n);for(const i in e.propsOptions[0])i in l||(l[i]=void 0);r?e.props=a?l:tf(l):e.type.props?e.props=l:e.props=n,e.attrs=n}function Ff(e,t,r,a){const{props:l,attrs:n,vnode:{patchFlag:i}}=e,o=De(l),[s]=e.propsOptions;let u=!1;if((a||i>0)&&!(i&16)){if(i&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(Ci(e.emitsOptions,m))continue;const y=t[m];if(s)if(Fe(n,m))y!==n[m]&&(n[m]=y,u=!0);else{const b=Tr(m);l[b]=vs(s,o,b,y,e,!1)}else y!==n[m]&&(n[m]=y,u=!0)}}}else{vu(e,t,l,n)&&(u=!0);let h;for(const d in o)(!t||!Fe(t,d)&&((h=Or(d))===d||!Fe(t,h)))&&(s?r&&(r[d]!==void 0||r[h]!==void 0)&&(l[d]=vs(s,o,d,void 0,e,!0)):delete l[d]);if(n!==o)for(const d in n)(!t||!Fe(t,d))&&(delete n[d],u=!0)}u&&nr(e.attrs,"set","")}function vu(e,t,r,a){const[l,n]=e.propsOptions;let i=!1,o;if(t)for(let s in t){if(En(s))continue;const u=t[s];let h;l&&Fe(l,h=Tr(s))?!n||!n.includes(h)?r[h]=u:(o||(o={}))[h]=u:Ci(e.emitsOptions,s)||(!(s in a)||u!==a[s])&&(a[s]=u,i=!0)}if(n){const s=De(r),u=o||qe;for(let h=0;h<n.length;h++){const d=n[h];r[d]=vs(l,s,d,u[d],e,!Fe(u,d))}}return i}function vs(e,t,r,a,l,n){const i=e[r];if(i!=null){const o=Fe(i,"default");if(o&&a===void 0){const s=i.default;if(i.type!==Function&&!i.skipFactory&&Le(s)){const{propsDefaults:u}=l;if(r in u)a=u[r];else{const h=Dn(l);a=u[r]=s.call(null,t),h()}}else a=s;l.ce&&l.ce._setProp(r,a)}i[0]&&(n&&!o?a=!1:i[1]&&(a===""||a===Or(r))&&(a=!0))}return a}const Wf=new WeakMap;function _u(e,t,r=!1){const a=r?Wf:t.propsCache,l=a.get(e);if(l)return l;const n=e.props,i={},o=[];let s=!1;if(!Le(e)){const h=d=>{s=!0;const[m,y]=_u(d,t,!0);pt(i,m),y&&o.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!n&&!s)return et(e)&&a.set(e,tn),tn;if(Be(n))for(let h=0;h<n.length;h++){const d=Tr(n[h]);Pa(d)&&(i[d]=qe)}else if(n)for(const h in n){const d=Tr(h);if(Pa(d)){const m=n[h],y=i[d]=Be(m)||Le(m)?{type:m}:pt({},m),b=y.type;let I=!1,k=!0;if(Be(b))for(let U=0;U<b.length;++U){const w=b[U],O=Le(w)&&w.name;if(O==="Boolean"){I=!0;break}else O==="String"&&(k=!1)}else I=Le(b)&&b.name==="Boolean";y[0]=I,y[1]=k,(I||Fe(y,"default"))&&o.push(d)}}const u=[i,o];return et(e)&&a.set(e,u),u}function Pa(e){return e[0]!=="$"&&!En(e)}const aa=e=>e[0]==="_"||e==="$stable",la=e=>Be(e)?e.map($t):[$t(e)],Hf=(e,t,r)=>{if(t._n)return t;const a=gf((...l)=>la(t(...l)),r);return a._c=!1,a},Eu=(e,t,r)=>{const a=e._ctx;for(const l in e){if(aa(l))continue;const n=e[l];if(Le(n))t[l]=Hf(l,n,a);else if(n!=null){const i=la(n);t[l]=()=>i}}},Su=(e,t)=>{const r=la(t);e.slots.default=()=>r},Au=(e,t,r)=>{for(const a in t)(r||!aa(a))&&(e[a]=t[a])},$f=(e,t,r)=>{const a=e.slots=bu();if(e.vnode.shapeFlag&32){const l=t._;l?(Au(a,t,r),r&&jl(a,"_",l,!0)):Eu(t,a)}else t&&Su(e,t)},qf=(e,t,r)=>{const{vnode:a,slots:l}=e;let n=!0,i=qe;if(a.shapeFlag&32){const o=t._;o?r&&o===1?n=!1:Au(l,t,r):(n=!t.$stable,Eu(t,l)),i=t}else t&&(Su(e,t),i={default:1});if(n)for(const o in l)!aa(o)&&i[o]==null&&delete l[o]},It=id;function Vf(e){return Kf(e)}function Kf(e,t){const r=Ti();r.__VUE__=!0;const{insert:a,remove:l,patchProp:n,createElement:i,createText:o,createComment:s,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:y=Kt,insertStaticContent:b}=e,I=(A,P,W,C=null,R=null,H=null,X=void 0,J=null,T=!!P.dynamicChildren)=>{if(A===P)return;A&&!gn(A,P)&&(C=re(A),j(A,R,H,!0),A=null),P.patchFlag===-2&&(T=!1,P.dynamicChildren=null);const{type:p,ref:E,shapeFlag:x}=P;switch(p){case Pi:k(A,P,W,C);break;case ln:U(A,P,W,C);break;case Qi:A==null&&w(P,W,C,X);break;case St:$(A,P,W,C,R,H,X,J,T);break;default:x&1?F(A,P,W,C,R,H,X,J,T):x&6?ie(A,P,W,C,R,H,X,J,T):(x&64||x&128)&&p.process(A,P,W,C,R,H,X,J,T,ee)}E!=null&&R&&gi(E,A&&A.ref,H,P||A,!P)},k=(A,P,W,C)=>{if(A==null)a(P.el=o(P.children),W,C);else{const R=P.el=A.el;P.children!==A.children&&u(R,P.children)}},U=(A,P,W,C)=>{A==null?a(P.el=s(P.children||""),W,C):P.el=A.el},w=(A,P,W,C)=>{[A.el,A.anchor]=b(A.children,P,W,C,A.el,A.anchor)},O=({el:A,anchor:P},W,C)=>{let R;for(;A&&A!==P;)R=m(A),a(A,W,C),A=R;a(P,W,C)},D=({el:A,anchor:P})=>{let W;for(;A&&A!==P;)W=m(A),l(A),A=W;l(P)},F=(A,P,W,C,R,H,X,J,T)=>{P.type==="svg"?X="svg":P.type==="math"&&(X="mathml"),A==null?M(P,W,C,R,H,X,J,T):se(A,P,R,H,X,J,T)},M=(A,P,W,C,R,H,X,J)=>{let T,p;const{props:E,shapeFlag:x,transition:S,dirs:G}=A;if(T=A.el=i(A.type,H,E&&E.is,E),x&8?h(T,A.children):x&16&&K(A.children,T,null,C,R,Gi(A,H),X,J),G&&Ur(A,null,C,"created"),N(T,A,A.scopeId,X,C),E){for(const f in E)f!=="value"&&!En(f)&&n(T,f,null,E[f],H,C);"value"in E&&n(T,"value",null,E.value,H),(p=E.onVnodeBeforeMount)&&Dt(p,C,A)}G&&Ur(A,null,C,"beforeMount");const c=zf(R,S);c&&S.beforeEnter(T),a(T,P,W),((p=E&&E.onVnodeMounted)||c||G)&&It(()=>{p&&Dt(p,C,A),c&&S.enter(T),G&&Ur(A,null,C,"mounted")},R)},N=(A,P,W,C,R)=>{if(W&&y(A,W),C)for(let H=0;H<C.length;H++)y(A,C[H]);if(R){let H=R.subTree;if(P===H||Cu(H.type)&&(H.ssContent===P||H.ssFallback===P)){const X=R.vnode;N(A,X,X.scopeId,X.slotScopeIds,R.parent)}}},K=(A,P,W,C,R,H,X,J,T=0)=>{for(let p=T;p<A.length;p++){const E=A[p]=J?Sr(A[p]):$t(A[p]);I(null,E,P,W,C,R,H,X,J)}},se=(A,P,W,C,R,H,X)=>{const J=P.el=A.el;let{patchFlag:T,dynamicChildren:p,dirs:E}=P;T|=A.patchFlag&16;const x=A.props||qe,S=P.props||qe;let G;if(W&&Mr(W,!1),(G=S.onVnodeBeforeUpdate)&&Dt(G,W,P,A),E&&Ur(P,A,W,"beforeUpdate"),W&&Mr(W,!0),(x.innerHTML&&S.innerHTML==null||x.textContent&&S.textContent==null)&&h(J,""),p?oe(A.dynamicChildren,p,J,W,C,Gi(P,R),H):X||ue(A,P,J,null,W,C,Gi(P,R),H,!1),T>0){if(T&16)fe(J,x,S,W,R);else if(T&2&&x.class!==S.class&&n(J,"class",null,S.class,R),T&4&&n(J,"style",x.style,S.style,R),T&8){const c=P.dynamicProps;for(let f=0;f<c.length;f++){const g=c[f],v=x[g],_=S[g];(_!==v||g==="value")&&n(J,g,v,_,R,W)}}T&1&&A.children!==P.children&&h(J,P.children)}else!X&&p==null&&fe(J,x,S,W,R);((G=S.onVnodeUpdated)||E)&&It(()=>{G&&Dt(G,W,P,A),E&&Ur(P,A,W,"updated")},C)},oe=(A,P,W,C,R,H,X)=>{for(let J=0;J<P.length;J++){const T=A[J],p=P[J],E=T.el&&(T.type===St||!gn(T,p)||T.shapeFlag&198)?d(T.el):W;I(T,p,E,null,C,R,H,X,!0)}},fe=(A,P,W,C,R)=>{if(P!==W){if(P!==qe)for(const H in P)!En(H)&&!(H in W)&&n(A,H,P[H],null,R,C);for(const H in W){if(En(H))continue;const X=W[H],J=P[H];X!==J&&H!=="value"&&n(A,H,J,X,R,C)}"value"in W&&n(A,"value",P.value,W.value,R)}},$=(A,P,W,C,R,H,X,J,T)=>{const p=P.el=A?A.el:o(""),E=P.anchor=A?A.anchor:o("");let{patchFlag:x,dynamicChildren:S,slotScopeIds:G}=P;G&&(J=J?J.concat(G):G),A==null?(a(p,W,C),a(E,W,C),K(P.children||[],W,E,R,H,X,J,T)):x>0&&x&64&&S&&A.dynamicChildren?(oe(A.dynamicChildren,S,W,R,H,X,J),(P.key!=null||R&&P===R.subTree)&&Tu(A,P,!0)):ue(A,P,W,E,R,H,X,J,T)},ie=(A,P,W,C,R,H,X,J,T)=>{P.slotScopeIds=J,A==null?P.shapeFlag&512?R.ctx.activate(P,W,C,X,T):ae(P,W,C,R,H,X,T):Z(A,P,T)},ae=(A,P,W,C,R,H,X)=>{const J=A.component=fd(A,C,R);if(hu(A)&&(J.ctx.renderer=ee),dd(J,!1,X),J.asyncDep){if(R&&R.registerDep(J,pe,X),!A.el){const T=J.subTree=or(ln);U(null,T,P,W)}}else pe(J,A,P,W,R,H,X)},Z=(A,P,W)=>{const C=P.component=A.component;if(rd(A,P,W))if(C.asyncDep&&!C.asyncResolved){ce(C,P,W);return}else C.next=P,C.update();else P.el=A.el,C.vnode=P},pe=(A,P,W,C,R,H,X)=>{const J=()=>{if(A.isMounted){let{next:x,bu:S,u:G,parent:c,vnode:f}=A;{const Y=Iu(A);if(Y){x&&(x.el=f.el,ce(A,x,X)),Y.asyncDep.then(()=>{A.isUnmounted||J()});return}}let g=x,v;Mr(A,!1),x?(x.el=f.el,ce(A,x,X)):x=f,S&&Xn(S),(v=x.props&&x.props.onVnodeBeforeUpdate)&&Dt(v,c,x,f),Mr(A,!0);const _=Ua(A),L=A.subTree;A.subTree=_,I(L,_,d(L.el),re(L),A,R,H),x.el=_.el,g===null&&nd(A,_.el),G&&It(G,R),(v=x.props&&x.props.onVnodeUpdated)&&It(()=>Dt(v,c,x,f),R)}else{let x;const{el:S,props:G}=P,{bm:c,m:f,parent:g,root:v,type:_}=A,L=In(P);Mr(A,!1),c&&Xn(c),!L&&(x=G&&G.onVnodeBeforeMount)&&Dt(x,g,P),Mr(A,!0);{v.ce&&v.ce._injectChildStyle(_);const Y=A.subTree=Ua(A);I(null,Y,W,C,A,R,H),P.el=Y.el}if(f&&It(f,R),!L&&(x=G&&G.onVnodeMounted)){const Y=P;It(()=>Dt(x,g,Y),R)}(P.shapeFlag&256||g&&In(g.vnode)&&g.vnode.shapeFlag&256)&&A.a&&It(A.a,R),A.isMounted=!0,P=W=C=null}};A.scope.on();const T=A.effect=new Hl(J);A.scope.off();const p=A.update=T.run.bind(T),E=A.job=T.runIfDirty.bind(T);E.i=A,E.id=A.uid,T.scheduler=()=>na(E),Mr(A,!0),p()},ce=(A,P,W)=>{P.component=A;const C=A.vnode.props;A.vnode=P,A.next=null,Ff(A,P.props,C,W),qf(A,P.children,W),ar(),Ia(A),lr()},ue=(A,P,W,C,R,H,X,J,T=!1)=>{const p=A&&A.children,E=A?A.shapeFlag:0,x=P.children,{patchFlag:S,shapeFlag:G}=P;if(S>0){if(S&128){ne(p,x,W,C,R,H,X,J,T);return}else if(S&256){Ee(p,x,W,C,R,H,X,J,T);return}}G&8?(E&16&&Ae(p,R,H),x!==p&&h(W,x)):E&16?G&16?ne(p,x,W,C,R,H,X,J,T):Ae(p,R,H,!0):(E&8&&h(W,""),G&16&&K(x,W,C,R,H,X,J,T))},Ee=(A,P,W,C,R,H,X,J,T)=>{A=A||tn,P=P||tn;const p=A.length,E=P.length,x=Math.min(p,E);let S;for(S=0;S<x;S++){const G=P[S]=T?Sr(P[S]):$t(P[S]);I(A[S],G,W,null,R,H,X,J,T)}p>E?Ae(A,R,H,!0,!1,x):K(P,W,C,R,H,X,J,T,x)},ne=(A,P,W,C,R,H,X,J,T)=>{let p=0;const E=P.length;let x=A.length-1,S=E-1;for(;p<=x&&p<=S;){const G=A[p],c=P[p]=T?Sr(P[p]):$t(P[p]);if(gn(G,c))I(G,c,W,null,R,H,X,J,T);else break;p++}for(;p<=x&&p<=S;){const G=A[x],c=P[S]=T?Sr(P[S]):$t(P[S]);if(gn(G,c))I(G,c,W,null,R,H,X,J,T);else break;x--,S--}if(p>x){if(p<=S){const G=S+1,c=G<E?P[G].el:C;for(;p<=S;)I(null,P[p]=T?Sr(P[p]):$t(P[p]),W,c,R,H,X,J,T),p++}}else if(p>S)for(;p<=x;)j(A[p],R,H,!0),p++;else{const G=p,c=p,f=new Map;for(p=c;p<=S;p++){const xe=P[p]=T?Sr(P[p]):$t(P[p]);xe.key!=null&&f.set(xe.key,p)}let g,v=0;const _=S-c+1;let L=!1,Y=0;const we=new Array(_);for(p=0;p<_;p++)we[p]=0;for(p=G;p<=x;p++){const xe=A[p];if(v>=_){j(xe,R,H,!0);continue}let Ce;if(xe.key!=null)Ce=f.get(xe.key);else for(g=c;g<=S;g++)if(we[g-c]===0&&gn(xe,P[g])){Ce=g;break}Ce===void 0?j(xe,R,H,!0):(we[Ce-c]=p+1,Ce>=Y?Y=Ce:L=!0,I(xe,P[Ce],W,null,R,H,X,J,T),v++)}const ve=L?Gf(we):tn;for(g=ve.length-1,p=_-1;p>=0;p--){const xe=c+p,Ce=P[xe],Pe=xe+1<E?P[xe+1].el:C;we[p]===0?I(null,Ce,W,Pe,R,H,X,J,T):L&&(g<0||p!==ve[g]?de(Ce,W,Pe,2):g--)}}},de=(A,P,W,C,R=null)=>{const{el:H,type:X,transition:J,children:T,shapeFlag:p}=A;if(p&6){de(A.component.subTree,P,W,C);return}if(p&128){A.suspense.move(P,W,C);return}if(p&64){X.move(A,P,W,ee);return}if(X===St){a(H,P,W);for(let x=0;x<T.length;x++)de(T[x],P,W,C);a(A.anchor,P,W);return}if(X===Qi){O(A,P,W);return}if(C!==2&&p&1&&J)if(C===0)J.beforeEnter(H),a(H,P,W),It(()=>J.enter(H),R);else{const{leave:x,delayLeave:S,afterLeave:G}=J,c=()=>{A.ctx.isUnmounted?l(H):a(H,P,W)},f=()=>{x(H,()=>{c(),G&&G()})};S?S(H,c,f):f()}else a(H,P,W)},j=(A,P,W,C=!1,R=!1)=>{const{type:H,props:X,ref:J,children:T,dynamicChildren:p,shapeFlag:E,patchFlag:x,dirs:S,cacheIndex:G}=A;if(x===-2&&(R=!1),J!=null&&(ar(),gi(J,null,W,A,!0),lr()),G!=null&&(P.renderCache[G]=void 0),E&256){P.ctx.deactivate(A);return}const c=E&1&&S,f=!In(A);let g;if(f&&(g=X&&X.onVnodeBeforeUnmount)&&Dt(g,P,A),E&6)Q(A.component,W,C);else{if(E&128){A.suspense.unmount(W,C);return}c&&Ur(A,null,P,"beforeUnmount"),E&64?A.type.remove(A,P,W,ee,C):p&&!p.hasOnce&&(H!==St||x>0&&x&64)?Ae(p,P,W,!1,!0):(H===St&&x&384||!R&&E&16)&&Ae(T,P,W),C&&he(A)}(f&&(g=X&&X.onVnodeUnmounted)||c)&&It(()=>{g&&Dt(g,P,A),c&&Ur(A,null,P,"unmounted")},W)},he=A=>{const{type:P,el:W,anchor:C,transition:R}=A;if(P===St){be(W,C);return}if(P===Qi){D(A);return}const H=()=>{l(W),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(A.shapeFlag&1&&R&&!R.persisted){const{leave:X,delayLeave:J}=R,T=()=>X(W,H);J?J(A.el,H,T):T()}else H()},be=(A,P)=>{let W;for(;A!==P;)W=m(A),l(A),A=W;l(P)},Q=(A,P,W)=>{const{bum:C,scope:R,job:H,subTree:X,um:J,m:T,a:p,parent:E,slots:{__:x}}=A;Ra(T),Ra(p),C&&Xn(C),E&&Be(x)&&x.forEach(S=>{E.renderCache[S]=void 0}),R.stop(),H&&(H.flags|=8,j(X,A,P,W)),J&&It(J,P),It(()=>{A.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Ae=(A,P,W,C=!1,R=!1,H=0)=>{for(let X=H;X<A.length;X++)j(A[X],P,W,C,R)},re=A=>{if(A.shapeFlag&6)return re(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const P=m(A.anchor||A.el),W=P&&P[mf];return W?m(W):P};let z=!1;const le=(A,P,W)=>{A==null?P._vnode&&j(P._vnode,null,null,!0):I(P._vnode||null,A,P,null,null,null,W),P._vnode=A,z||(z=!0,Ia(),ou(),z=!1)},ee={p:I,um:j,m:de,r:he,mt:ae,mc:K,pc:ue,pbc:oe,n:re,o:e};return{render:le,hydrate:void 0,createApp:Nf(le)}}function Gi({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Mr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tu(e,t,r=!1){const a=e.children,l=t.children;if(Be(a)&&Be(l))for(let n=0;n<a.length;n++){const i=a[n];let o=l[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=l[n]=Sr(l[n]),o.el=i.el),!r&&o.patchFlag!==-2&&Tu(i,o)),o.type===Pi&&(o.el=i.el),o.type===ln&&!o.el&&(o.el=i.el)}}function Gf(e){const t=e.slice(),r=[0];let a,l,n,i,o;const s=e.length;for(a=0;a<s;a++){const u=e[a];if(u!==0){if(l=r[r.length-1],e[l]<u){t[a]=l,r.push(a);continue}for(n=0,i=r.length-1;n<i;)o=n+i>>1,e[r[o]]<u?n=o+1:i=o;u<e[r[n]]&&(n>0&&(t[a]=r[n-1]),r[n]=a)}}for(n=r.length,i=r[n-1];n-- >0;)r[n]=i,i=t[i];return r}function Iu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Iu(t)}function Ra(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Yf=Symbol.for("v-scx"),Qf=()=>Zn(Yf);function Yi(e,t,r){return xu(e,t,r)}function xu(e,t,r=qe){const{immediate:a,deep:l,flush:n,once:i}=r,o=pt({},r),s=t&&a||!t&&n!=="post";let u;if(Ln){if(n==="sync"){const y=Qf();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!s){const y=()=>{};return y.stop=Kt,y.resume=Kt,y.pause=Kt,y}}const h=bt;o.call=(y,b,I)=>zt(y,h,b,I);let d=!1;n==="post"?o.scheduler=y=>{It(y,h&&h.suspense)}:n!=="sync"&&(d=!0,o.scheduler=(y,b)=>{b?y():na(y)}),o.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const m=cf(e,t,o);return Ln&&(u?u.push(m):s&&m()),m}function Jf(e,t,r){const a=this.proxy,l=rt(e)?e.includes(".")?Ou(a,e):()=>a[e]:e.bind(a,a);let n;Le(t)?n=t:(n=t.handler,r=t);const i=Dn(this),o=xu(l,n.bind(a),r);return i(),o}function Ou(e,t){const r=t.split(".");return()=>{let a=e;for(let l=0;l<r.length&&a;l++)a=a[r[l]];return a}}const Xf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Tr(t)}Modifiers`]||e[`${Or(t)}Modifiers`];function Zf(e,t,...r){if(e.isUnmounted)return;const a=e.vnode.props||qe;let l=r;const n=t.startsWith("update:"),i=n&&Xf(a,t.slice(7));i&&(i.trim&&(l=r.map(h=>rt(h)?h.trim():h)),i.number&&(l=r.map(fs)));let o,s=a[o=Hi(t)]||a[o=Hi(Tr(t))];!s&&n&&(s=a[o=Hi(Or(t))]),s&&zt(s,e,6,l);const u=a[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,zt(u,e,6,l)}}function ku(e,t,r=!1){const a=t.emitsCache,l=a.get(e);if(l!==void 0)return l;const n=e.emits;let i={},o=!1;if(!Le(e)){const s=u=>{const h=ku(u,t,!0);h&&(o=!0,pt(i,h))};!r&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!n&&!o?(et(e)&&a.set(e,null),null):(Be(n)?n.forEach(s=>i[s]=null):pt(i,n),et(e)&&a.set(e,i),i)}function Ci(e,t){return!e||!Ei(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(e,t[0].toLowerCase()+t.slice(1))||Fe(e,Or(t))||Fe(e,t))}function Ua(e){const{type:t,vnode:r,proxy:a,withProxy:l,propsOptions:[n],slots:i,attrs:o,emit:s,render:u,renderCache:h,props:d,data:m,setupState:y,ctx:b,inheritAttrs:I}=e,k=pi(e);let U,w;try{if(r.shapeFlag&4){const D=l||a,F=D;U=$t(u.call(F,D,h,d,y,m,b)),w=o}else{const D=t;U=$t(D.length>1?D(d,{attrs:o,slots:i,emit:s}):D(d,null)),w=t.props?o:ed(o)}}catch(D){kn.length=0,Oi(D,e,1),U=or(ln)}let O=U;if(w&&I!==!1){const D=Object.keys(w),{shapeFlag:F}=O;D.length&&F&7&&(n&&D.some(Vo)&&(w=td(w,n)),O=un(O,w,!1,!0))}return r.dirs&&(O=un(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(r.dirs):r.dirs),r.transition&&ia(O,r.transition),U=O,pi(k),U}const ed=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ei(r))&&((t||(t={}))[r]=e[r]);return t},td=(e,t)=>{const r={};for(const a in e)(!Vo(a)||!(a.slice(9)in t))&&(r[a]=e[a]);return r};function rd(e,t,r){const{props:a,children:l,component:n}=e,{props:i,children:o,patchFlag:s}=t,u=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&s>=0){if(s&1024)return!0;if(s&16)return a?Ma(a,i,u):!!i;if(s&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(i[m]!==a[m]&&!Ci(u,m))return!0}}}else return(l||o)&&(!o||!o.$stable)?!0:a===i?!1:a?i?Ma(a,i,u):!0:!!i;return!1}function Ma(e,t,r){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let l=0;l<a.length;l++){const n=a[l];if(t[n]!==e[n]&&!Ci(r,n))return!0}return!1}function nd({vnode:e,parent:t},r){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=r,t=t.parent;else break}}const Cu=e=>e.__isSuspense;function id(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):pf(e)}const St=Symbol.for("v-fgt"),Pi=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),Qi=Symbol.for("v-stc"),kn=[];let kt=null;function Ot(e=!1){kn.push(kt=e?null:[])}function sd(){kn.pop(),kt=kn[kn.length-1]||null}let Bn=1;function Ba(e,t=!1){Bn+=e,e<0&&kt&&t&&(kt.hasOnce=!0)}function Pu(e){return e.dynamicChildren=Bn>0?kt||tn:null,sd(),Bn>0&&kt&&kt.push(e),e}function Rt(e,t,r,a,l,n){return Pu(Ge(e,t,r,a,l,n,!0))}function od(e,t,r,a,l){return Pu(or(e,t,r,a,l,!0))}function Ru(e){return e?e.__v_isVNode===!0:!1}function gn(e,t){return e.type===t.type&&e.key===t.key}const Uu=({key:e})=>e??null,ei=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?rt(e)||lt(e)||Le(e)?{i:Ut,r:e,k:t,f:!!r}:e:null);function Ge(e,t=null,r=null,a=0,l=null,n=e===St?0:1,i=!1,o=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Uu(t),ref:t&&ei(t),scopeId:lu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:a,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ut};return o?(ua(s,r),n&128&&e.normalize(s)):r&&(s.shapeFlag|=rt(r)?8:16),Bn>0&&!i&&kt&&(s.patchFlag>0||n&6)&&s.patchFlag!==32&&kt.push(s),s}const or=ad;function ad(e,t=null,r=null,a=0,l=null,n=!1){if((!e||e===kf)&&(e=ln),Ru(e)){const o=un(e,t,!0);return r&&ua(o,r),Bn>0&&!n&&kt&&(o.shapeFlag&6?kt[kt.indexOf(e)]=o:kt.push(o)),o.patchFlag=-2,o}if(yd(e)&&(e=e.__vccOpts),t){t=ld(t);let{class:o,style:s}=t;o&&!rt(o)&&(t.class=Ii(o)),et(s)&&(ra(s)&&!Be(s)&&(s=pt({},s)),t.style=Go(s))}const i=rt(e)?1:Cu(e)?128:yf(e)?64:et(e)?4:Le(e)?2:0;return Ge(e,t,r,a,l,i,n,!0)}function ld(e){return e?ra(e)||wu(e)?pt({},e):e:null}function un(e,t,r=!1,a=!1){const{props:l,ref:n,patchFlag:i,children:o,transition:s}=e,u=t?ud(l||{},t):l,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Uu(u),ref:t&&t.ref?r&&n?Be(n)?n.concat(ei(t)):[n,ei(t)]:ei(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==St?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:s,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s&&a&&ia(h,s.clone(h)),h}function yi(e=" ",t=0){return or(Pi,null,e,t)}function $t(e){return e==null||typeof e=="boolean"?or(ln):Be(e)?or(St,null,e.slice()):Ru(e)?Sr(e):or(Pi,null,String(e))}function Sr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ua(e,t){let r=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Be(t))r=16;else if(typeof t=="object")if(a&65){const l=t.default;l&&(l._c&&(l._d=!1),ua(e,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!wu(t)?t._ctx=Ut:l===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:Ut},r=32):(t=String(t),a&64?(r=16,t=[yi(t)]):r=8);e.children=t,e.shapeFlag|=r}function ud(...e){const t={};for(let r=0;r<e.length;r++){const a=e[r];for(const l in a)if(l==="class")t.class!==a.class&&(t.class=Ii([t.class,a.class]));else if(l==="style")t.style=Go([t.style,a.style]);else if(Ei(l)){const n=t[l],i=a[l];i&&n!==i&&!(Be(n)&&n.includes(i))&&(t[l]=n?[].concat(n,i):i)}else l!==""&&(t[l]=a[l])}return t}function Dt(e,t,r,a=null){zt(e,t,7,[r,a])}const cd=mu();let hd=0;function fd(e,t,r){const a=e.type,l=(t?t.appContext:e.appContext)||cd,n={uid:hd++,vnode:e,type:a,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_u(a,l),emitsOptions:ku(a,l),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:a.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Zf.bind(null,n),e.ce&&e.ce(n),n}let bt=null,bi,_s;{const e=Ti(),t=(r,a)=>{let l;return(l=e[r])||(l=e[r]=[]),l.push(a),n=>{l.length>1?l.forEach(i=>i(n)):l[0](n)}};bi=t("__VUE_INSTANCE_SETTERS__",r=>bt=r),_s=t("__VUE_SSR_SETTERS__",r=>Ln=r)}const Dn=e=>{const t=bt;return bi(e),e.scope.on(),()=>{e.scope.off(),bi(t)}},La=()=>{bt&&bt.scope.off(),bi(null)};function Mu(e){return e.vnode.shapeFlag&4}let Ln=!1;function dd(e,t=!1,r=!1){t&&_s(t);const{props:a,children:l}=e.vnode,n=Mu(e);Df(e,a,n,t),$f(e,l,r||t);const i=n?pd(e,t):void 0;return t&&_s(!1),i}function pd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cf);const{setup:a}=r;if(a){ar();const l=e.setupContext=a.length>1?md(e):null,n=Dn(e),i=jn(a,e,0,[e.props,l]),o=Ml(i);if(lr(),n(),(o||e.sp)&&!In(e)&&cu(e),o){if(i.then(La,La),t)return i.then(s=>{Na(e,s)}).catch(s=>{Oi(s,e,0)});e.asyncDep=i}else Na(e,i)}else Bu(e)}function Na(e,t,r){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:et(t)&&(e.setupState=nu(t)),Bu(e)}function Bu(e,t,r){const a=e.type;e.render||(e.render=a.render||Kt);{const l=Dn(e);ar();try{Pf(e)}finally{lr(),l()}}}const gd={get(e,t){return ft(e,"get",""),e[t]}};function md(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,gd),slots:e.slots,emit:e.emit,expose:t}}function Ri(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nu(rf(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in On)return On[r](e)},has(t,r){return r in t||r in On}})):e.proxy}function yd(e){return Le(e)&&"__vccOpts"in e}const Lu=(e,t)=>lf(e,t,Ln),bd="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Es;const ja=typeof window<"u"&&window.trustedTypes;if(ja)try{Es=ja.createPolicy("vue",{createHTML:e=>e})}catch{}const Nu=Es?e=>Es.createHTML(e):e=>e,wd="http://www.w3.org/2000/svg",vd="http://www.w3.org/1998/Math/MathML",Zt=typeof document<"u"?document:null,Da=Zt&&Zt.createElement("template"),_d={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,a)=>{const l=t==="svg"?Zt.createElementNS(wd,e):t==="mathml"?Zt.createElementNS(vd,e):r?Zt.createElement(e,{is:r}):Zt.createElement(e);return e==="select"&&a&&a.multiple!=null&&l.setAttribute("multiple",a.multiple),l},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,a,l,n){const i=r?r.previousSibling:t.lastChild;if(l&&(l===n||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===n||!(l=l.nextSibling)););else{Da.innerHTML=Nu(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const o=Da.content;if(a==="svg"||a==="mathml"){const s=o.firstChild;for(;s.firstChild;)o.appendChild(s.firstChild);o.removeChild(s)}t.insertBefore(o,r)}return[i?i.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Ed=Symbol("_vtc");function Sd(e,t,r){const a=e[Ed];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Fa=Symbol("_vod"),Ad=Symbol("_vsh"),Td=Symbol(""),Id=/(^|;)\s*display\s*:/;function xd(e,t,r){const a=e.style,l=rt(r);let n=!1;if(r&&!l){if(t)if(rt(t))for(const i of t.split(";")){const o=i.slice(0,i.indexOf(":")).trim();r[o]==null&&ti(a,o,"")}else for(const i in t)r[i]==null&&ti(a,i,"");for(const i in r)i==="display"&&(n=!0),ti(a,i,r[i])}else if(l){if(t!==r){const i=a[Td];i&&(r+=";"+i),a.cssText=r,n=Id.test(r)}}else t&&e.removeAttribute("style");Fa in e&&(e[Fa]=n?a.display:"",e[Ad]&&(a.display="none"))}const Wa=/\s*!important$/;function ti(e,t,r){if(Be(r))r.forEach(a=>ti(e,t,a));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const a=Od(e,t);Wa.test(r)?e.setProperty(Or(a),r.replace(Wa,""),"important"):e[a]=r}}const Ha=["Webkit","Moz","ms"],Ji={};function Od(e,t){const r=Ji[t];if(r)return r;let a=Tr(t);if(a!=="filter"&&a in e)return Ji[t]=a;a=Nl(a);for(let l=0;l<Ha.length;l++){const n=Ha[l]+a;if(n in e)return Ji[t]=n}return t}const $a="http://www.w3.org/1999/xlink";function qa(e,t,r,a,l,n=Mh(t)){a&&t.startsWith("xlink:")?r==null?e.removeAttributeNS($a,t.slice(6,t.length)):e.setAttributeNS($a,t,r):r==null||n&&!Dl(r)?e.removeAttribute(t):e.setAttribute(t,n?"":xr(r)?String(r):r)}function Va(e,t,r,a,l){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Nu(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?e.getAttribute("value")||"":e.value,s=r==null?e.type==="checkbox"?"on":"":String(r);(o!==s||!("_value"in e))&&(e.value=s),r==null&&e.removeAttribute(t),e._value=r;return}let i=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=Dl(r):r==null&&o==="string"?(r="",i=!0):o==="number"&&(r=0,i=!0)}try{e[t]=r}catch{}i&&e.removeAttribute(l||t)}function Zr(e,t,r,a){e.addEventListener(t,r,a)}function kd(e,t,r,a){e.removeEventListener(t,r,a)}const Ka=Symbol("_vei");function Cd(e,t,r,a,l=null){const n=e[Ka]||(e[Ka]={}),i=n[t];if(a&&i)i.value=a;else{const[o,s]=Pd(t);if(a){const u=n[t]=Md(a,l);Zr(e,o,u,s)}else i&&(kd(e,o,i,s),n[t]=void 0)}}const za=/(?:Once|Passive|Capture)$/;function Pd(e){let t;if(za.test(e)){t={};let a;for(;a=e.match(za);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Or(e.slice(2)),t]}let Xi=0;const Rd=Promise.resolve(),Ud=()=>Xi||(Rd.then(()=>Xi=0),Xi=Date.now());function Md(e,t){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;zt(Bd(a,r.value),t,5,[a])};return r.value=e,r.attached=Ud(),r}function Bd(e,t){if(Be(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(a=>l=>!l._stopped&&a&&a(l))}else return t}const Ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ld=(e,t,r,a,l,n)=>{const i=l==="svg";t==="class"?Sd(e,a,i):t==="style"?xd(e,r,a):Ei(t)?Vo(t)||Cd(e,t,r,a,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nd(e,t,a,i))?(Va(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qa(e,t,a,i,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rt(a))?Va(e,Tr(t),a,n,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),qa(e,t,a,i))};function Nd(e,t,r,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ga(t)&&Le(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Ga(t)&&rt(r)?!1:t in e}const Ya=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?r=>Xn(t,r):t};function jd(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Zi=Symbol("_assign"),ju={created(e,{modifiers:{lazy:t,trim:r,number:a}},l){e[Zi]=Ya(l);const n=a||l.props&&l.props.type==="number";Zr(e,t?"change":"input",i=>{if(i.target.composing)return;let o=e.value;r&&(o=o.trim()),n&&(o=fs(o)),e[Zi](o)}),r&&Zr(e,"change",()=>{e.value=e.value.trim()}),t||(Zr(e,"compositionstart",jd),Zr(e,"compositionend",Qa),Zr(e,"change",Qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:a,trim:l,number:n}},i){if(e[Zi]=Ya(i),e.composing)return;const o=(n||e.type==="number")&&!/^0\d/.test(e.value)?fs(e.value):e.value,s=t??"";o!==s&&(document.activeElement===e&&e.type!=="range"&&(a&&t===r||l&&e.value.trim()===s)||(e.value=s))}},Dd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fd=(e,t)=>{const r=e._withKeys||(e._withKeys={}),a=t.join(".");return r[a]||(r[a]=l=>{if(!("key"in l))return;const n=Or(l.key);if(t.some(i=>i===n||Dd[i]===n))return e(l)})},Wd=pt({patchProp:Ld},_d);let Ja;function Hd(){return Ja||(Ja=Vf(Wd))}const $d=(...e)=>{const t=Hd().createApp(...e),{mount:r}=t;return t.mount=a=>{const l=Vd(a);if(!l)return;const n=t._component;!Le(n)&&!n.render&&!n.template&&(n.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const i=r(l,!1,qd(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),i},t};function qd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Vd(e){return rt(e)?document.querySelector(e):e}var ri={exports:{}},Kd=ri.exports,Xa;function zd(){return Xa||(Xa=1,function(e,t){(function(r,a){e.exports=a()})(Kd,function(){return function(r){var a={};function l(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,l),i.l=!0,i.exports}return l.m=r,l.c=a,l.d=function(n,i,o){l.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},l.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,i){if(1&i&&(n=l(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var s in n)l.d(o,s,(function(u){return n[u]}).bind(null,s));return o},l.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(i,"a",i),i},l.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},l.p="",l(l.s=0)}([function(r,a,l){l.r(a),l.d(a,"encode",function(){return ae}),l.d(a,"decode",function(){return le}),l.d(a,"decodeAsync",function(){return H}),l.d(a,"decodeArrayStream",function(){return X}),l.d(a,"decodeStream",function(){return J}),l.d(a,"Decoder",function(){return re}),l.d(a,"Encoder",function(){return $}),l.d(a,"ExtensionCodec",function(){return se}),l.d(a,"ExtData",function(){return I}),l.d(a,"EXT_TIMESTAMP",function(){return w}),l.d(a,"encodeDateToTimeSpec",function(){return D}),l.d(a,"encodeTimeSpecToTimestamp",function(){return O}),l.d(a,"decodeTimestampToTimeSpec",function(){return M}),l.d(a,"encodeTimestampExtension",function(){return F}),l.d(a,"decodeTimestampExtension",function(){return N});var n=function(T,p){var E=typeof Symbol=="function"&&T[Symbol.iterator];if(!E)return T;var x,S,G=E.call(T),c=[];try{for(;(p===void 0||p-- >0)&&!(x=G.next()).done;)c.push(x.value)}catch(f){S={error:f}}finally{try{x&&!x.done&&(E=G.return)&&E.call(G)}finally{if(S)throw S.error}}return c},i=function(){for(var T=[],p=0;p<arguments.length;p++)T=T.concat(n(arguments[p]));return T},o=typeof process<"u"&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function s(T){for(var p=T.length,E=0,x=0;x<p;){var S=T.charCodeAt(x++);if((4294967168&S)!=0)if((4294965248&S)==0)E+=2;else{if(S>=55296&&S<=56319&&x<p){var G=T.charCodeAt(x);(64512&G)==56320&&(++x,S=((1023&S)<<10)+(1023&G)+65536)}E+=(4294901760&S)==0?3:4}else E++}return E}var u=o?new TextEncoder:void 0,h=typeof process<"u"?200:0,d=u!=null&&u.encodeInto?function(T,p,E){u.encodeInto(T,p.subarray(E))}:function(T,p,E){p.set(u.encode(T),E)};function m(T,p,E){for(var x=p,S=x+E,G=[],c="";x<S;){var f=T[x++];if((128&f)==0)G.push(f);else if((224&f)==192){var g=63&T[x++];G.push((31&f)<<6|g)}else if((240&f)==224){g=63&T[x++];var v=63&T[x++];G.push((31&f)<<12|g<<6|v)}else if((248&f)==240){var _=(7&f)<<18|(g=63&T[x++])<<12|(v=63&T[x++])<<6|63&T[x++];_>65535&&(_-=65536,G.push(_>>>10&1023|55296),_=56320|1023&_),G.push(_)}else G.push(f);G.length>=4096&&(c+=String.fromCharCode.apply(String,i(G)),G.length=0)}return G.length>0&&(c+=String.fromCharCode.apply(String,i(G))),c}var y=o?new TextDecoder:null,b=typeof process<"u"?200:0,I=function(T,p){this.type=T,this.data=p};function k(T,p,E){var x=Math.floor(E/4294967296),S=E;T.setUint32(p,x),T.setUint32(p+4,S)}function U(T,p){return 4294967296*T.getInt32(p)+T.getUint32(p+4)}var w=-1;function O(T){var p=T.sec,E=T.nsec;if(p>=0&&E>=0&&p<=17179869183){if(E===0&&p<=4294967295){var x=new Uint8Array(4);return(c=new DataView(x.buffer)).setUint32(0,p),x}var S=p/4294967296,G=4294967295&p;return x=new Uint8Array(8),(c=new DataView(x.buffer)).setUint32(0,E<<2|3&S),c.setUint32(4,G),x}var c;return x=new Uint8Array(12),(c=new DataView(x.buffer)).setUint32(0,E),k(c,4,p),x}function D(T){var p=T.getTime(),E=Math.floor(p/1e3),x=1e6*(p-1e3*E),S=Math.floor(x/1e9);return{sec:E+S,nsec:x-1e9*S}}function F(T){return T instanceof Date?O(D(T)):null}function M(T){var p=new DataView(T.buffer,T.byteOffset,T.byteLength);switch(T.byteLength){case 4:return{sec:p.getUint32(0),nsec:0};case 8:var E=p.getUint32(0);return{sec:4294967296*(3&E)+p.getUint32(4),nsec:E>>>2};case 12:return{sec:U(p,4),nsec:p.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+T.length)}}function N(T){var p=M(T);return new Date(1e3*p.sec+p.nsec/1e6)}var K={type:w,encode:F,decode:N},se=function(){function T(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(K)}return T.prototype.register=function(p){var E=p.type,x=p.encode,S=p.decode;if(E>=0)this.encoders[E]=x,this.decoders[E]=S;else{var G=1+E;this.builtInEncoders[G]=x,this.builtInDecoders[G]=S}},T.prototype.tryToEncode=function(p,E){for(var x=0;x<this.builtInEncoders.length;x++)if((S=this.builtInEncoders[x])!=null&&(G=S(p,E))!=null)return new I(-1-x,G);for(x=0;x<this.encoders.length;x++){var S,G;if((S=this.encoders[x])!=null&&(G=S(p,E))!=null)return new I(x,G)}return p instanceof I?p:null},T.prototype.decode=function(p,E,x){var S=E<0?this.builtInDecoders[-1-E]:this.decoders[E];return S?S(p,E,x):new I(E,p)},T.defaultCodec=new T,T}();function oe(T){return T instanceof Uint8Array?T:ArrayBuffer.isView(T)?new Uint8Array(T.buffer,T.byteOffset,T.byteLength):T instanceof ArrayBuffer?new Uint8Array(T):Uint8Array.from(T)}var fe=function(T){var p=typeof Symbol=="function"&&Symbol.iterator,E=p&&T[p],x=0;if(E)return E.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&x>=T.length&&(T=void 0),{value:T&&T[x++],done:!T}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},$=function(){function T(p,E,x,S,G,c,f){p===void 0&&(p=se.defaultCodec),x===void 0&&(x=100),S===void 0&&(S=2048),G===void 0&&(G=!1),c===void 0&&(c=!1),f===void 0&&(f=!1),this.extensionCodec=p,this.context=E,this.maxDepth=x,this.initialBufferSize=S,this.sortKeys=G,this.forceFloat32=c,this.ignoreUndefined=f,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return T.prototype.encode=function(p,E){if(E>this.maxDepth)throw new Error("Too deep objects in depth "+E);p==null?this.encodeNil():typeof p=="boolean"?this.encodeBoolean(p):typeof p=="number"?this.encodeNumber(p):typeof p=="string"?this.encodeString(p):this.encodeObject(p,E)},T.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},T.prototype.ensureBufferSizeToWrite=function(p){var E=this.pos+p;this.view.byteLength<E&&this.resizeBuffer(2*E)},T.prototype.resizeBuffer=function(p){var E=new ArrayBuffer(p),x=new Uint8Array(E),S=new DataView(E);x.set(this.bytes),this.view=S,this.bytes=x},T.prototype.encodeNil=function(){this.writeU8(192)},T.prototype.encodeBoolean=function(p){p===!1?this.writeU8(194):this.writeU8(195)},T.prototype.encodeNumber=function(p){Number.isSafeInteger(p)?p>=0?p<128?this.writeU8(p):p<256?(this.writeU8(204),this.writeU8(p)):p<65536?(this.writeU8(205),this.writeU16(p)):p<4294967296?(this.writeU8(206),this.writeU32(p)):(this.writeU8(207),this.writeU64(p)):p>=-32?this.writeU8(224|p+32):p>=-128?(this.writeU8(208),this.writeI8(p)):p>=-32768?(this.writeU8(209),this.writeI16(p)):p>=-2147483648?(this.writeU8(210),this.writeI32(p)):(this.writeU8(211),this.writeI64(p)):this.forceFloat32?(this.writeU8(202),this.writeF32(p)):(this.writeU8(203),this.writeF64(p))},T.prototype.writeStringHeader=function(p){if(p<32)this.writeU8(160+p);else if(p<256)this.writeU8(217),this.writeU8(p);else if(p<65536)this.writeU8(218),this.writeU16(p);else{if(!(p<4294967296))throw new Error("Too long string: "+p+" bytes in UTF-8");this.writeU8(219),this.writeU32(p)}},T.prototype.encodeString=function(p){var E=p.length;if(o&&E>h){var x=s(p);this.ensureBufferSizeToWrite(5+x),this.writeStringHeader(x),d(p,this.bytes,this.pos),this.pos+=x}else x=s(p),this.ensureBufferSizeToWrite(5+x),this.writeStringHeader(x),function(S,G,c){for(var f=S.length,g=c,v=0;v<f;){var _=S.charCodeAt(v++);if((4294967168&_)!=0){if((4294965248&_)==0)G[g++]=_>>6&31|192;else{if(_>=55296&&_<=56319&&v<f){var L=S.charCodeAt(v);(64512&L)==56320&&(++v,_=((1023&_)<<10)+(1023&L)+65536)}(4294901760&_)==0?(G[g++]=_>>12&15|224,G[g++]=_>>6&63|128):(G[g++]=_>>18&7|240,G[g++]=_>>12&63|128,G[g++]=_>>6&63|128)}G[g++]=63&_|128}else G[g++]=_}}(p,this.bytes,this.pos),this.pos+=x},T.prototype.encodeObject=function(p,E){var x=this.extensionCodec.tryToEncode(p,this.context);if(x!=null)this.encodeExtension(x);else if(Array.isArray(p))this.encodeArray(p,E);else if(ArrayBuffer.isView(p))this.encodeBinary(p);else{if(typeof p!="object")throw new Error("Unrecognized object: "+Object.prototype.toString.apply(p));this.encodeMap(p,E)}},T.prototype.encodeBinary=function(p){var E=p.byteLength;if(E<256)this.writeU8(196),this.writeU8(E);else if(E<65536)this.writeU8(197),this.writeU16(E);else{if(!(E<4294967296))throw new Error("Too large binary: "+E);this.writeU8(198),this.writeU32(E)}var x=oe(p);this.writeU8a(x)},T.prototype.encodeArray=function(p,E){var x,S,G=p.length;if(G<16)this.writeU8(144+G);else if(G<65536)this.writeU8(220),this.writeU16(G);else{if(!(G<4294967296))throw new Error("Too large array: "+G);this.writeU8(221),this.writeU32(G)}try{for(var c=fe(p),f=c.next();!f.done;f=c.next()){var g=f.value;this.encode(g,E+1)}}catch(v){x={error:v}}finally{try{f&&!f.done&&(S=c.return)&&S.call(c)}finally{if(x)throw x.error}}},T.prototype.countWithoutUndefined=function(p,E){var x,S,G=0;try{for(var c=fe(E),f=c.next();!f.done;f=c.next())p[f.value]!==void 0&&G++}catch(g){x={error:g}}finally{try{f&&!f.done&&(S=c.return)&&S.call(c)}finally{if(x)throw x.error}}return G},T.prototype.encodeMap=function(p,E){var x,S,G=Object.keys(p);this.sortKeys&&G.sort();var c=this.ignoreUndefined?this.countWithoutUndefined(p,G):G.length;if(c<16)this.writeU8(128+c);else if(c<65536)this.writeU8(222),this.writeU16(c);else{if(!(c<4294967296))throw new Error("Too large map object: "+c);this.writeU8(223),this.writeU32(c)}try{for(var f=fe(G),g=f.next();!g.done;g=f.next()){var v=g.value,_=p[v];this.ignoreUndefined&&_===void 0||(this.encodeString(v),this.encode(_,E+1))}}catch(L){x={error:L}}finally{try{g&&!g.done&&(S=f.return)&&S.call(f)}finally{if(x)throw x.error}}},T.prototype.encodeExtension=function(p){var E=p.data.length;if(E===1)this.writeU8(212);else if(E===2)this.writeU8(213);else if(E===4)this.writeU8(214);else if(E===8)this.writeU8(215);else if(E===16)this.writeU8(216);else if(E<256)this.writeU8(199),this.writeU8(E);else if(E<65536)this.writeU8(200),this.writeU16(E);else{if(!(E<4294967296))throw new Error("Too large extension object: "+E);this.writeU8(201),this.writeU32(E)}this.writeI8(p.type),this.writeU8a(p.data)},T.prototype.writeU8=function(p){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,p),this.pos++},T.prototype.writeU8a=function(p){var E=p.length;this.ensureBufferSizeToWrite(E),this.bytes.set(p,this.pos),this.pos+=E},T.prototype.writeI8=function(p){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,p),this.pos++},T.prototype.writeU16=function(p){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,p),this.pos+=2},T.prototype.writeI16=function(p){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,p),this.pos+=2},T.prototype.writeU32=function(p){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,p),this.pos+=4},T.prototype.writeI32=function(p){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,p),this.pos+=4},T.prototype.writeF32=function(p){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,p),this.pos+=4},T.prototype.writeF64=function(p){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,p),this.pos+=8},T.prototype.writeU64=function(p){this.ensureBufferSizeToWrite(8),function(E,x,S){var G=S/4294967296,c=S;E.setUint32(x,G),E.setUint32(x+4,c)}(this.view,this.pos,p),this.pos+=8},T.prototype.writeI64=function(p){this.ensureBufferSizeToWrite(8),k(this.view,this.pos,p),this.pos+=8},T}(),ie={};function ae(T,p){p===void 0&&(p=ie);var E=new $(p.extensionCodec,p.context,p.maxDepth,p.initialBufferSize,p.sortKeys,p.forceFloat32,p.ignoreUndefined);return E.encode(T,1),E.getUint8Array()}function Z(T){return(T<0?"-":"")+"0x"+Math.abs(T).toString(16).padStart(2,"0")}var pe=function(){function T(p,E){p===void 0&&(p=16),E===void 0&&(E=16),this.maxKeyLength=p,this.maxLengthPerKey=E,this.caches=[];for(var x=0;x<this.maxKeyLength;x++)this.caches.push([])}return T.prototype.canBeCached=function(p){return p>0&&p<=this.maxKeyLength},T.prototype.get=function(p,E,x){var S=this.caches[x-1],G=S.length;e:for(var c=0;c<G;c++){for(var f=S[c],g=f.bytes,v=0;v<x;v++)if(g[v]!==p[E+v])continue e;return f.value}return null},T.prototype.store=function(p,E){var x=this.caches[p.length-1],S={bytes:p,value:E};x.length>=this.maxLengthPerKey?x[Math.random()*x.length|0]=S:x.push(S)},T.prototype.decode=function(p,E,x){var S=this.get(p,E,x);if(S!=null)return S;var G=m(p,E,x),c=Uint8Array.prototype.slice.call(p,E,E+x);return this.store(c,G),G},T}(),ce=function(T,p,E,x){return new(E||(E=Promise))(function(S,G){function c(v){try{g(x.next(v))}catch(_){G(_)}}function f(v){try{g(x.throw(v))}catch(_){G(_)}}function g(v){var _;v.done?S(v.value):(_=v.value,_ instanceof E?_:new E(function(L){L(_)})).then(c,f)}g((x=x.apply(T,[])).next())})},ue=function(T,p){var E,x,S,G,c={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(E)throw new TypeError("Generator is already executing.");for(;c;)try{if(E=1,x&&(S=2&_[0]?x.return:_[0]?x.throw||((S=x.return)&&S.call(x),0):x.next)&&!(S=S.call(x,_[1])).done)return S;switch(x=0,S&&(_=[2&_[0],S.value]),_[0]){case 0:case 1:S=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,x=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(S=c.trys,!((S=S.length>0&&S[S.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!S||_[1]>S[0]&&_[1]<S[3])){c.label=_[1];break}if(_[0]===6&&c.label<S[1]){c.label=S[1],S=_;break}if(S&&c.label<S[2]){c.label=S[2],c.ops.push(_);break}S[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(T,c)}catch(L){_=[6,L],x=0}finally{E=S=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}},Ee=function(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,E=T[Symbol.asyncIterator];return E?E.call(T):(T=typeof __values=="function"?__values(T):T[Symbol.iterator](),p={},x("next"),x("throw"),x("return"),p[Symbol.asyncIterator]=function(){return this},p);function x(S){p[S]=T[S]&&function(G){return new Promise(function(c,f){(function(g,v,_,L){Promise.resolve(L).then(function(Y){g({value:Y,done:_})},v)})(c,f,(G=T[S](G)).done,G.value)})}}},ne=function(T){return this instanceof ne?(this.v=T,this):new ne(T)},de=function(T,p,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,S=E.apply(T,p||[]),G=[];return x={},c("next"),c("throw"),c("return"),x[Symbol.asyncIterator]=function(){return this},x;function c(L){S[L]&&(x[L]=function(Y){return new Promise(function(we,ve){G.push([L,Y,we,ve])>1||f(L,Y)})})}function f(L,Y){try{(we=S[L](Y)).value instanceof ne?Promise.resolve(we.value.v).then(g,v):_(G[0][2],we)}catch(ve){_(G[0][3],ve)}var we}function g(L){f("next",L)}function v(L){f("throw",L)}function _(L,Y){L(Y),G.shift(),G.length&&f(G[0][0],G[0][1])}},j=new DataView(new ArrayBuffer(0)),he=new Uint8Array(j.buffer),be=function(){try{j.getInt8(0)}catch(T){return T.constructor}throw new Error("never reached")}(),Q=new be("Insufficient data"),Ae=new pe,re=function(){function T(p,E,x,S,G,c,f,g){p===void 0&&(p=se.defaultCodec),x===void 0&&(x=4294967295),S===void 0&&(S=4294967295),G===void 0&&(G=4294967295),c===void 0&&(c=4294967295),f===void 0&&(f=4294967295),g===void 0&&(g=Ae),this.extensionCodec=p,this.context=E,this.maxStrLength=x,this.maxBinLength=S,this.maxArrayLength=G,this.maxMapLength=c,this.maxExtLength=f,this.cachedKeyDecoder=g,this.totalPos=0,this.pos=0,this.view=j,this.bytes=he,this.headByte=-1,this.stack=[]}return T.prototype.setBuffer=function(p){this.bytes=oe(p),this.view=function(E){if(E instanceof ArrayBuffer)return new DataView(E);var x=oe(E);return new DataView(x.buffer,x.byteOffset,x.byteLength)}(this.bytes),this.pos=0},T.prototype.appendBuffer=function(p){if(this.headByte!==-1||this.hasRemaining()){var E=this.bytes.subarray(this.pos),x=oe(p),S=new Uint8Array(E.length+x.length);S.set(E),S.set(x,E.length),this.setBuffer(S)}else this.setBuffer(p)},T.prototype.hasRemaining=function(p){return p===void 0&&(p=1),this.view.byteLength-this.pos>=p},T.prototype.createNoExtraBytesError=function(p){var E=this.view,x=this.pos;return new RangeError("Extra "+(E.byteLength-x)+" byte(s) found at buffer["+p+"]")},T.prototype.decodeSingleSync=function(){var p=this.decodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return p},T.prototype.decodeSingleAsync=function(p){var E,x,S,G;return ce(this,void 0,void 0,function(){var c,f,g,v,_,L,Y,we;return ue(this,function(ve){switch(ve.label){case 0:c=!1,ve.label=1;case 1:ve.trys.push([1,6,7,12]),E=Ee(p),ve.label=2;case 2:return[4,E.next()];case 3:if((x=ve.sent()).done)return[3,5];if(g=x.value,c)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(g);try{f=this.decodeSync(),c=!0}catch(xe){if(!(xe instanceof be))throw xe}this.totalPos+=this.pos,ve.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return v=ve.sent(),S={error:v},[3,12];case 7:return ve.trys.push([7,,10,11]),x&&!x.done&&(G=E.return)?[4,G.call(E)]:[3,9];case 8:ve.sent(),ve.label=9;case 9:return[3,11];case 10:if(S)throw S.error;return[7];case 11:return[7];case 12:if(c){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return[2,f]}throw L=(_=this).headByte,Y=_.pos,we=_.totalPos,new RangeError("Insufficient data in parcing "+Z(L)+" at "+we+" ("+Y+" in the current buffer)")}})})},T.prototype.decodeArrayStream=function(p){return this.decodeMultiAsync(p,!0)},T.prototype.decodeStream=function(p){return this.decodeMultiAsync(p,!1)},T.prototype.decodeMultiAsync=function(p,E){return de(this,arguments,function(){var x,S,G,c,f,g,v,_,L;return ue(this,function(Y){switch(Y.label){case 0:x=E,S=-1,Y.label=1;case 1:Y.trys.push([1,13,14,19]),G=Ee(p),Y.label=2;case 2:return[4,ne(G.next())];case 3:if((c=Y.sent()).done)return[3,12];if(f=c.value,E&&S===0)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(f),x&&(S=this.readArraySize(),x=!1,this.complete()),Y.label=4;case 4:Y.trys.push([4,9,,10]),Y.label=5;case 5:return[4,ne(this.decodeSync())];case 6:return[4,Y.sent()];case 7:return Y.sent(),--S==0?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((g=Y.sent())instanceof be))throw g;return[3,10];case 10:this.totalPos+=this.pos,Y.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return v=Y.sent(),_={error:v},[3,19];case 14:return Y.trys.push([14,,17,18]),c&&!c.done&&(L=G.return)?[4,ne(L.call(G))]:[3,16];case 15:Y.sent(),Y.label=16;case 16:return[3,18];case 17:if(_)throw _.error;return[7];case 18:return[7];case 19:return[2]}})})},T.prototype.decodeSync=function(){e:for(;;){var p=this.readHeadByte(),E=void 0;if(p>=224)E=p-256;else if(p<192)if(p<128)E=p;else if(p<144){if((S=p-128)!==0){this.pushMapState(S),this.complete();continue e}E={}}else if(p<160){if((S=p-144)!==0){this.pushArrayState(S),this.complete();continue e}E=[]}else{var x=p-160;E=this.decodeUtf8String(x,0)}else if(p===192)E=null;else if(p===194)E=!1;else if(p===195)E=!0;else if(p===202)E=this.readF32();else if(p===203)E=this.readF64();else if(p===204)E=this.readU8();else if(p===205)E=this.readU16();else if(p===206)E=this.readU32();else if(p===207)E=this.readU64();else if(p===208)E=this.readI8();else if(p===209)E=this.readI16();else if(p===210)E=this.readI32();else if(p===211)E=this.readI64();else if(p===217)x=this.lookU8(),E=this.decodeUtf8String(x,1);else if(p===218)x=this.lookU16(),E=this.decodeUtf8String(x,2);else if(p===219)x=this.lookU32(),E=this.decodeUtf8String(x,4);else if(p===220){if((S=this.readU16())!==0){this.pushArrayState(S),this.complete();continue e}E=[]}else if(p===221){if((S=this.readU32())!==0){this.pushArrayState(S),this.complete();continue e}E=[]}else if(p===222){if((S=this.readU16())!==0){this.pushMapState(S),this.complete();continue e}E={}}else if(p===223){if((S=this.readU32())!==0){this.pushMapState(S),this.complete();continue e}E={}}else if(p===196){var S=this.lookU8();E=this.decodeBinary(S,1)}else if(p===197)S=this.lookU16(),E=this.decodeBinary(S,2);else if(p===198)S=this.lookU32(),E=this.decodeBinary(S,4);else if(p===212)E=this.decodeExtension(1,0);else if(p===213)E=this.decodeExtension(2,0);else if(p===214)E=this.decodeExtension(4,0);else if(p===215)E=this.decodeExtension(8,0);else if(p===216)E=this.decodeExtension(16,0);else if(p===199)S=this.lookU8(),E=this.decodeExtension(S,1);else if(p===200)S=this.lookU16(),E=this.decodeExtension(S,2);else{if(p!==201)throw new Error("Unrecognized type byte: "+Z(p));S=this.lookU32(),E=this.decodeExtension(S,4)}this.complete();for(var G=this.stack;G.length>0;){var c=G[G.length-1];if(c.type===0){if(c.array[c.position]=E,c.position++,c.position!==c.size)continue e;G.pop(),E=c.array}else{if(c.type===1){if(f=void 0,(f=typeof E)!="string"&&f!=="number")throw new Error("The type of key must be string or number but "+typeof E);c.key=E,c.type=2;continue e}if(c.map[c.key]=E,c.readCount++,c.readCount!==c.size){c.key=null,c.type=1;continue e}G.pop(),E=c.map}}return E}var f},T.prototype.readHeadByte=function(){return this.headByte===-1&&(this.headByte=this.readU8()),this.headByte},T.prototype.complete=function(){this.headByte=-1},T.prototype.readArraySize=function(){var p=this.readHeadByte();switch(p){case 220:return this.readU16();case 221:return this.readU32();default:if(p<160)return p-144;throw new Error("Unrecognized array type byte: "+Z(p))}},T.prototype.pushMapState=function(p){if(p>this.maxMapLength)throw new Error("Max length exceeded: map length ("+p+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:p,key:null,readCount:0,map:{}})},T.prototype.pushArrayState=function(p){if(p>this.maxArrayLength)throw new Error("Max length exceeded: array length ("+p+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:p,array:new Array(p),position:0})},T.prototype.decodeUtf8String=function(p,E){var x;if(p>this.maxStrLength)throw new Error("Max length exceeded: UTF-8 byte length ("+p+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+E+p)throw Q;var S,G=this.pos+E;return S=this.stateIsMapKey()&&(!((x=this.cachedKeyDecoder)===null||x===void 0)&&x.canBeCached(p))?this.cachedKeyDecoder.decode(this.bytes,G,p):o&&p>b?function(c,f,g){var v=c.subarray(f,f+g);return y.decode(v)}(this.bytes,G,p):m(this.bytes,G,p),this.pos+=E+p,S},T.prototype.stateIsMapKey=function(){return this.stack.length>0&&this.stack[this.stack.length-1].type===1},T.prototype.decodeBinary=function(p,E){if(p>this.maxBinLength)throw new Error("Max length exceeded: bin length ("+p+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(p+E))throw Q;var x=this.pos+E,S=this.bytes.subarray(x,x+p);return this.pos+=E+p,S},T.prototype.decodeExtension=function(p,E){if(p>this.maxExtLength)throw new Error("Max length exceeded: ext length ("+p+") > maxExtLength ("+this.maxExtLength+")");var x=this.view.getInt8(this.pos+E),S=this.decodeBinary(p,E+1);return this.extensionCodec.decode(S,x,this.context)},T.prototype.lookU8=function(){return this.view.getUint8(this.pos)},T.prototype.lookU16=function(){return this.view.getUint16(this.pos)},T.prototype.lookU32=function(){return this.view.getUint32(this.pos)},T.prototype.readU8=function(){var p=this.view.getUint8(this.pos);return this.pos++,p},T.prototype.readI8=function(){var p=this.view.getInt8(this.pos);return this.pos++,p},T.prototype.readU16=function(){var p=this.view.getUint16(this.pos);return this.pos+=2,p},T.prototype.readI16=function(){var p=this.view.getInt16(this.pos);return this.pos+=2,p},T.prototype.readU32=function(){var p=this.view.getUint32(this.pos);return this.pos+=4,p},T.prototype.readI32=function(){var p=this.view.getInt32(this.pos);return this.pos+=4,p},T.prototype.readU64=function(){var p,E,x=(p=this.view,E=this.pos,4294967296*p.getUint32(E)+p.getUint32(E+4));return this.pos+=8,x},T.prototype.readI64=function(){var p=U(this.view,this.pos);return this.pos+=8,p},T.prototype.readF32=function(){var p=this.view.getFloat32(this.pos);return this.pos+=4,p},T.prototype.readF64=function(){var p=this.view.getFloat64(this.pos);return this.pos+=8,p},T}(),z={};function le(T,p){p===void 0&&(p=z);var E=new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength);return E.setBuffer(T),E.decodeSingleSync()}var ee=function(T,p){var E,x,S,G,c={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(E)throw new TypeError("Generator is already executing.");for(;c;)try{if(E=1,x&&(S=2&_[0]?x.return:_[0]?x.throw||((S=x.return)&&S.call(x),0):x.next)&&!(S=S.call(x,_[1])).done)return S;switch(x=0,S&&(_=[2&_[0],S.value]),_[0]){case 0:case 1:S=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,x=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(S=c.trys,!((S=S.length>0&&S[S.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!S||_[1]>S[0]&&_[1]<S[3])){c.label=_[1];break}if(_[0]===6&&c.label<S[1]){c.label=S[1],S=_;break}if(S&&c.label<S[2]){c.label=S[2],c.ops.push(_);break}S[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(T,c)}catch(L){_=[6,L],x=0}finally{E=S=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}},te=function(T){return this instanceof te?(this.v=T,this):new te(T)},A=function(T,p,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,S=E.apply(T,p||[]),G=[];return x={},c("next"),c("throw"),c("return"),x[Symbol.asyncIterator]=function(){return this},x;function c(L){S[L]&&(x[L]=function(Y){return new Promise(function(we,ve){G.push([L,Y,we,ve])>1||f(L,Y)})})}function f(L,Y){try{(we=S[L](Y)).value instanceof te?Promise.resolve(we.value.v).then(g,v):_(G[0][2],we)}catch(ve){_(G[0][3],ve)}var we}function g(L){f("next",L)}function v(L){f("throw",L)}function _(L,Y){L(Y),G.shift(),G.length&&f(G[0][0],G[0][1])}};function P(T){if(T==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function W(T){return T[Symbol.asyncIterator]!=null?T:function(p){return A(this,arguments,function(){var E,x,S,G;return ee(this,function(c){switch(c.label){case 0:E=p.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,te(E.read())];case 3:return x=c.sent(),S=x.done,G=x.value,S?[4,te(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return P(G),[4,te(G)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return E.releaseLock(),[7];case 10:return[2]}})})}(T)}var C=function(T,p,E,x){return new(E||(E=Promise))(function(S,G){function c(v){try{g(x.next(v))}catch(_){G(_)}}function f(v){try{g(x.throw(v))}catch(_){G(_)}}function g(v){var _;v.done?S(v.value):(_=v.value,_ instanceof E?_:new E(function(L){L(_)})).then(c,f)}g((x=x.apply(T,[])).next())})},R=function(T,p){var E,x,S,G,c={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return G={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function f(g){return function(v){return function(_){if(E)throw new TypeError("Generator is already executing.");for(;c;)try{if(E=1,x&&(S=2&_[0]?x.return:_[0]?x.throw||((S=x.return)&&S.call(x),0):x.next)&&!(S=S.call(x,_[1])).done)return S;switch(x=0,S&&(_=[2&_[0],S.value]),_[0]){case 0:case 1:S=_;break;case 4:return c.label++,{value:_[1],done:!1};case 5:c.label++,x=_[1],_=[0];continue;case 7:_=c.ops.pop(),c.trys.pop();continue;default:if(S=c.trys,!((S=S.length>0&&S[S.length-1])||_[0]!==6&&_[0]!==2)){c=0;continue}if(_[0]===3&&(!S||_[1]>S[0]&&_[1]<S[3])){c.label=_[1];break}if(_[0]===6&&c.label<S[1]){c.label=S[1],S=_;break}if(S&&c.label<S[2]){c.label=S[2],c.ops.push(_);break}S[2]&&c.ops.pop(),c.trys.pop();continue}_=p.call(T,c)}catch(L){_=[6,L],x=0}finally{E=S=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([g,v])}}};function H(T,p){return p===void 0&&(p=z),C(this,void 0,void 0,function(){var E;return R(this,function(x){return E=W(T),[2,new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeSingleAsync(E)]})})}function X(T,p){p===void 0&&(p=z);var E=W(T);return new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeArrayStream(E)}function J(T,p){p===void 0&&(p=z);var E=W(T);return new re(p.extensionCodec,p.context,p.maxStrLength,p.maxBinLength,p.maxArrayLength,p.maxMapLength,p.maxExtLength).decodeStream(E)}}])})}(ri)),ri.exports}var Za=zd();class el{}class an{constructor(){Ie(this,"items",[]);Ie(this,"unixTime",0)}addData(t,r){this.items.push([t,r])}getDataById(t){return this.items.filter(([r])=>r===t).map(([,r])=>r)}[Symbol.iterator](){return this.items[Symbol.iterator]()}static fromBuffer(t){const r=Za.decode(t);if(!Array.isArray(r))throw new Error("Invalid payload format");const a=new an;for(let l=0;l<r.length;l+=2){const n=r[l],i=r[l+1];if(typeof n!="number"||typeof i!="string"&&typeof i!="number")throw new Error("Invalid payload entry at index "+l);a.addData(n,i)}return a}toBuffer(){const t=[];for(const[r,a]of this.items)t.push(r,a);return Za.encode(t)}}const Ue=class Ue{constructor(t,r,a,l,n,i,o,s,u,h,d=null){Ie(this,"header");Ie(this,"header2");Ie(this,"meshRouteNum");Ie(this,"pathLoss");Ie(this,"lastHopLoss");Ie(this,"routingID");Ie(this,"entropy");Ie(this,"timestamp");Ie(this,"authTag");Ie(this,"ciphertext");Ie(this,"plaintext");this.header=t,this.header2=r,this.meshRouteNum=a,this.pathLoss=l,this.lastHopLoss=n,this.routingID=i,this.entropy=o,this.timestamp=s,this.authTag=u,this.ciphertext=h,this.plaintext=d}static parse(t){const r=new DataView(t.buffer),a=t[Ue.HEADER_OFFSET],l=t[Ue.HEADER2_OFFSET],n=t[Ue.MESH_ROUTE_NUM_OFFSET],i=t[Ue.PATH_LOSS_OFFSET],o=i>>3,s=i&7,u=t.slice(Ue.ROUTING_ID_OFFSET,Ue.ROUTING_ID_OFFSET+Ue.ROUTING_ID_LENGTH),h=t.slice(Ue.ENTROPY_OFFSET,Ue.ENTROPY_OFFSET+Ue.ENTROPY_LENGTH),d=r.getUint32(Ue.TIMESTAMP_OFFSET,!0),m=t.slice(-6,t.length),y=t.slice(Ue.CIPHERTEXT_OFFSET,t.length-Ue.AUTH_TAG_LENGTH);return new Ue(a,l,n,o,s,u,h,d,m,y,null)}serialize(){if(!this.ciphertext||!this.authTag)throw new Error("Packet is not encrypted");const t=new Uint8Array(Ue.CIPHERTEXT_OFFSET+this.ciphertext.length+Ue.AUTH_TAG_LENGTH),r=new DataView(t.buffer);return t[Ue.HEADER_OFFSET]=this.header,t[Ue.HEADER2_OFFSET]=this.header2,t[Ue.MESH_ROUTE_NUM_OFFSET]=this.meshRouteNum,t[Ue.PATH_LOSS_OFFSET]=this.pathLoss<<3|this.lastHopLoss&7,t.set(this.routingID,Ue.ROUTING_ID_OFFSET),t.set(this.entropy,Ue.ENTROPY_OFFSET),r.setUint32(Ue.TIMESTAMP_OFFSET,this.timestamp,!0),t.set(this.ciphertext,Ue.CIPHERTEXT_OFFSET),t.set(this.authTag,t.length-Ue.AUTH_TAG_LENGTH),t}async encrypt(t){if(!this.plaintext)throw new Error("No plaintext to encrypt");const r=new Uint8Array(12);crypto.getRandomValues(r),this.entropy=r.slice(0,Ue.ENTROPY_LENGTH),new DataView(r.buffer).setUint32(8,this.timestamp,!0);const a=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:r,tagLength:96},a,this.plaintext),n=new Uint8Array(l);this.ciphertext=n.slice(0,-12),this.authTag=n.slice(-12,-6),this.plaintext=null}async decrypt(t){if(!this.ciphertext||!this.authTag)throw new Error("Missing ciphertext or authTag for decryption");const r=new Uint8Array(12);r.set(this.entropy,0),new DataView(r.buffer).setUint32(8,this.timestamp,!0);const a=new Uint8Array(this.ciphertext.length+4);a.set(this.ciphertext,0),a.set(this.authTag.slice(0,4),this.ciphertext.length);const l=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);try{const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:r,tagLength:32},l,a);this.plaintext=new Uint8Array(n)}catch(n){throw new Error("Decryption failed: "+(n instanceof Error?n.message:String(n)))}this.ciphertext=null,this.authTag=null}};Ie(Ue,"HEADER_OFFSET",0),Ie(Ue,"HEADER2_OFFSET",1),Ie(Ue,"MESH_ROUTE_NUM_OFFSET",2),Ie(Ue,"PATH_LOSS_OFFSET",3),Ie(Ue,"ROUTING_ID_OFFSET",4),Ie(Ue,"ROUTING_ID_LENGTH",16),Ie(Ue,"ENTROPY_OFFSET",Ue.ROUTING_ID_OFFSET+Ue.ROUTING_ID_LENGTH),Ie(Ue,"ENTROPY_LENGTH",8),Ie(Ue,"TIMESTAMP_OFFSET",Ue.ENTROPY_OFFSET+Ue.ENTROPY_LENGTH),Ie(Ue,"TIMESTAMP_LENGTH",4),Ie(Ue,"AUTH_TAG_LENGTH",6),Ie(Ue,"CIPHERTEXT_OFFSET",Ue.TIMESTAMP_OFFSET+Ue.TIMESTAMP_LENGTH),Ie(Ue,"PACKET_TYPE_DATA",1),Ie(Ue,"PACKET_TYPE_DATA_RELIABLE",2),Ie(Ue,"PACKET_TYPE_BITMASK",3);let dt=Ue;const Du=[{id:0,name:"Invalid",description:"Invalid and reserved",type:"invalid",special:!0},{id:1,name:"Data Request",description:"A request for data, list of Data IDs, or 0 to request all data",type:"array",special:!0},{id:2,name:"Unique ID",description:"An ID that is unique within th channel",type:"string",special:!1,writable:!0},{id:3,name:"Friendly Name",description:"An arbitrary non-unique name",type:"string",special:!1,writable:!0},{id:4,name:"Documentation URL",description:"A URL to HTML/PDF/Markdown Documentation",type:"string",special:!1,writable:!0},{id:32,name:"Simple Text Message",description:"A simple text message, can be prefixed by username: ",type:"string",special:!0}],es=new Map(Du.map(e=>[e.id,e])),Gd=new Map(Du.map(e=>[e.name,e.id]));function mn(e){return Gd.get(e)||0}async function Vn(e,t){const r=Math.floor(t/3600),l=new TextEncoder().encode("r"),n=new Uint8Array(new Uint32Array([r]).buffer),i=new Uint8Array([...l,...n,...e]),o=await crypto.subtle.digest("SHA-256",i),s=new Uint8Array(o).slice(0,16);return new Uint8Array(s)}async function Kn(e,t){const r=Math.floor(t/3600),l=new TextEncoder().encode("c"),n=new Uint8Array(new Uint32Array([r]).buffer),i=new Uint8Array([...l,...n,...e]),o=await crypto.subtle.digest("SHA-256",i);return new Uint8Array(o).slice(0,16)}const tl=(e,t)=>e.length===t.length&&e.every((r,a)=>r===t[a]);class Yd{constructor(){Ie(this,"psk",null);Ie(this,"node",null);Ie(this,"maintainenceTimer",null);Ie(this,"tempKeys",null);Ie(this,"packetCallback",null);const t=this,r=async()=>{t.psk&&t.hourlyMaintenance()};this.maintainenceTimer=window.setInterval(r,24e4)}setPacketCallback(t){this.packetCallback=t}async getTempKeys(){if(!this.psk)throw new Error("No PSK set");const t={routingKey:new Uint8Array(16),cryptoKey:new Uint8Array(16),nextRoutingKey:new Uint8Array(16),nextCryptoKey:new Uint8Array(16)},r=Date.now()/1e3,a=Math.floor(r/3600),l=Math.floor((r+600)/3600),n=Math.floor((r-600)/3600);return t.routingKey=await Vn(this.psk,r),t.cryptoKey=await Kn(this.psk,r),a!=l?(t.nextRoutingKey=await Vn(this.psk,r+600),t.nextCryptoKey=await Kn(this.psk,r+600)):a!=n?(t.nextRoutingKey=await Vn(this.psk,r-600),t.nextCryptoKey=await Kn(this.psk,r-600)):(t.nextRoutingKey=t.routingKey,t.nextCryptoKey=t.cryptoKey),t}async handlePacket(t){if(this.tempKeys||(this.tempKeys=await this.getTempKeys()),(t[dt.HEADER_OFFSET]&dt.PACKET_TYPE_BITMASK)==0)return;const r=dt.parse(t);if(tl(r.routingID,this.tempKeys.routingKey)){if(await r.decrypt(this.tempKeys.cryptoKey),this.packetCallback){if(!r.plaintext)throw new Error("No plaintext");const a=an.fromBuffer(r.plaintext);a.unixTime=r.timestamp;const l=new el;this.packetCallback(a,l)}}else if(tl(r.routingID,this.tempKeys.nextRoutingKey)&&(await r.decrypt(this.tempKeys.nextCryptoKey),this.packetCallback)){if(!r.plaintext)throw new Error("No plaintext");const a=an.fromBuffer(r.plaintext);a.unixTime=r.timestamp;const l=new el;this.packetCallback(a,l)}}async sendPacket(t,r){var h;if(!this.psk)throw new Error("No psk set");if(!this.node)throw new Error("No node set");const a=t.toBuffer(),l=Date.now()/1e3,n=await Vn(this.psk,l),i=await Kn(this.psk,l),o=new Uint8Array(8);crypto.getRandomValues(o);let s=0;r?s=dt.PACKET_TYPE_DATA_RELIABLE:s=dt.PACKET_TYPE_DATA,s|=20;const u=new dt(s,0,0,0,0,n,o,l,null,null,a);await u.encrypt(i),await((h=this.node)==null?void 0:h.rawSend(u.serialize()))}async hourlyMaintenance(){this.psk&&(this.tempKeys=await this.getTempKeys());const t=new an;this.sendPacket(t,!1)}destructor(){this.maintainenceTimer&&clearInterval(this.maintainenceTimer)}async setPassword(t){const a=new TextEncoder().encode(t);this.psk=new Uint8Array(await crypto.subtle.digest("SHA-256",a)).slice(0,16),this.tempKeys=await this.getTempKeys()}}class Qd{constructor(){Ie(this,"transport",null);Ie(this,"generator",null);Ie(this,"channels",[]);Ie(this,"seenPackets",new Map)}addChannel(t){if(t.node)throw new Error("Channel already has node");this.channels.push(t),t.node=this}removeChannel(t){this.channels=this.channels.filter(r=>r!==t),t.node=null}async setTransport(t){this.transport=t,this.generator=t.listen()}hasSeenPacket(t){const r=t.slice(dt.ENTROPY_OFFSET,dt.ENTROPY_OFFSET+dt.ENTROPY_LENGTH).toString(),a=new DataView(t.buffer).getUint32(dt.TIMESTAMP_OFFSET,!0);if(a<Date.now()/1e3-180||this.seenPackets.has(r)&&(this.seenPackets.get(r)??0)+60>a)return!0;for(;this.seenPackets.size>1e6;){const l=this.seenPackets.entries().next().value;if(l&&l[1]+180<a)this.seenPackets.delete(l[0]);else break}return this.seenPackets.size>1e6?(console.warn("Too many seen packets"),!0):(this.seenPackets.set(r,a),!1)}async rawSend(t){if(!this.transport)throw new Error("No transport set");if(this.hasSeenPacket(t)){console.debug("Dropping duplicate outgoing packet");return}await this.transport.send(t)}async run(){var r;if(!this.transport)throw new Error("No transport set");const t=await((r=this.generator)==null?void 0:r.next());if(t&&(t.done&&(this.generator=this.transport.listen()),t.value)){if(this.hasSeenPacket(t.value)){console.debug("Dropping duplicate packet");return}for(const a of this.channels)await a.handlePacket(t.value)}}}const sr=Tn(""),Ht=Tn([]),rl=Lu(()=>({username:sr.value,channels:Ht.value})),Jd={class:"window"},Xd={class:"card flex-row"},Zd={class:"card flex-col w-18rem"},ep={class:"scroll h-12rem border"},tp={class:"card flex-col"},rp={class:"scroll max-h-12rem"},np={class:"text-left"},ip=sa({__name:"ChannelWindow",props:{password:{},name:{},node:{}},setup(e){const t=e,r=Tn([]);class a{constructor(u){Ie(this,"uid");Ie(this,"dataIds");this.uid=u,this.dataIds={},mn("Unique ID"),this.dataIds[mn("Unique ID")]=u,this.dataIds[mn("Friendly Name")]="Unknown"}}const l=new Yd;t.node.addChannel(l),l.setPassword(t.password);const n=Tn({});l.setPacketCallback(s=>{var m;const u=s.getDataById(32);for(const y of u)r.value.push(y.toString()),r.value.length>50&&r.value.shift();let h="";s.getDataById(mn("Unique ID"))&&(h=s.getDataById(mn("Unique ID")).toString()),n.value[h]||(n.value[h]=new a(h));const d=n.value[h];for(const y of s)es.get(y[0])&&!((m=es.get(y[0]))!=null&&m.special)&&(d.dataIds[y[0]]=y[1])});const i=Tn("");function o(s){r.value.push(sr.value+": "+s);const u=new an;u.addData(32,sr.value+": "+s),l.sendPacket(u,!0)}return oa(()=>{console.log("Component destroyed")}),(s,u)=>(Ot(),Rt("div",Jd,[Ge("h1",null,_r(t.name),1),Ge("div",Xd,[Ge("div",Zd,[u[3]||(u[3]=Ge("h3",null,"Chat",-1)),Ge("div",ep,[(Ot(!0),Rt(St,null,xn(r.value,h=>(Ot(),Rt("p",{class:Ii(["text-left",{"text-right highlight":h.startsWith(Kr(sr))}])},[Ge("b",null,_r(h.split(": ")[0])+":",1),yi(" "+_r(h.indexOf(": ")==-1?h:h.split(": ")[1]),1)],2))),256))]),uu(Ge("input",{type:"text",class:"text-input w-full",placeholder:"Type your message here","onUpdate:modelValue":u[0]||(u[0]=h=>i.value=h),onKeyup:u[1]||(u[1]=Fd(h=>o(i.value),["enter"]))},null,544),[[ju,i.value]]),Ge("button",{type:"button",class:"button w-full",onClick:u[2]||(u[2]=h=>o(i.value))}," Send ")]),(Ot(!0),Rt(St,null,xn(n.value,h=>(Ot(),Rt("div",tp,[Ge("div",rp,[(Ot(!0),Rt(St,null,xn(h.dataIds,(d,m)=>{var y;return Ot(),Rt("p",np,[Ge("b",null,_r((y=Kr(es).get(parseInt(m.toString())))==null?void 0:y.name)+"("+_r(m)+"):",1),yi(" "+_r(d),1)])}),256))])]))),256))])]))}}),Fu=(e,t)=>{const r=e.__vccOpts||e;for(const[a,l]of t)r[a]=l;return r},sp=Fu(ip,[["__scopeId","data-v-eb8ce37a"]]);class nl{constructor(t){Ie(this,"promises",Array());Ie(this,"permits",0);this.permits=t}signal(){if(this.permits+=1,this.promises.length>0){const t=this.promises.pop();t&&t(0)}}async wait(){(this.permits==0||this.promises.length>0)&&await new Promise(t=>this.promises.unshift(t)),this.permits-=1}}class op{constructor(t){Ie(this,"queue",Array());Ie(this,"waitingEnqueue");Ie(this,"waitingDequeue");this.waitingEnqueue=new nl(0),this.waitingDequeue=new nl(t)}async enqueue(t){await this.waitingDequeue.wait(),this.queue.unshift(t),this.waitingEnqueue.signal()}async dequeue(){return await this.waitingEnqueue.wait(),this.waitingDequeue.signal(),this.queue.pop()}}var ca=Object.defineProperty,ap=Object.getOwnPropertyDescriptor,lp=Object.getOwnPropertyNames,up=Object.prototype.hasOwnProperty,wt=(e,t)=>()=>(e&&(t=e(e=0)),t),_e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cn=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},cp=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of lp(t))!up.call(e,l)&&l!==r&&ca(e,l,{get:()=>t[l],enumerable:!(a=ap(t,l))||a.enumerable});return e},$e=e=>cp(ca({},"__esModule",{value:!0}),e),ge=wt(()=>{}),je={};cn(je,{_debugEnd:()=>to,_debugProcess:()=>eo,_events:()=>yo,_eventsCount:()=>bo,_exiting:()=>Fs,_fatalExceptions:()=>Js,_getActiveHandles:()=>zu,_getActiveRequests:()=>Ku,_kill:()=>$s,_linkedBinding:()=>qu,_maxListeners:()=>mo,_preload_modules:()=>po,_rawDebug:()=>Ns,_startProfilerIdleNotifier:()=>ro,_stopProfilerIdleNotifier:()=>no,_tickCallback:()=>Zs,abort:()=>ao,addListener:()=>wo,allowedNodeEnvironmentFlags:()=>Ys,arch:()=>As,argv:()=>xs,argv0:()=>fo,assert:()=>Gu,binding:()=>Rs,chdir:()=>Bs,config:()=>Ws,cpuUsage:()=>wn,cwd:()=>Ms,debugPort:()=>ho,default:()=>fa,dlopen:()=>Vu,domain:()=>Ds,emit:()=>Ao,emitWarning:()=>Ps,env:()=>Is,execArgv:()=>Os,execPath:()=>co,exit:()=>zs,features:()=>Qs,hasUncaughtExceptionCaptureCallback:()=>Yu,hrtime:()=>ni,kill:()=>Ks,listeners:()=>Ju,memoryUsage:()=>Vs,moduleLoadList:()=>js,nextTick:()=>Hu,off:()=>_o,on:()=>Jt,once:()=>vo,openStdin:()=>Gs,pid:()=>lo,platform:()=>Ts,ppid:()=>uo,prependListener:()=>To,prependOnceListener:()=>Io,reallyExit:()=>Hs,release:()=>Ls,removeAllListeners:()=>So,removeListener:()=>Eo,resourceUsage:()=>qs,setSourceMapsEnabled:()=>go,setUncaughtExceptionCaptureCallback:()=>Xs,stderr:()=>so,stdin:()=>oo,stdout:()=>io,title:()=>Ss,umask:()=>Us,uptime:()=>Qu,version:()=>ks,versions:()=>Cs});function ha(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function hp(){!$r||!Fr||($r=!1,Fr.length?qt=Fr.concat(qt):Cn=-1,qt.length&&Wu())}function Wu(){if(!$r){var e=setTimeout(hp,0);$r=!0;for(var t=qt.length;t;){for(Fr=qt,qt=[];++Cn<t;)Fr&&Fr[Cn].run();Cn=-1,t=qt.length}Fr=null,$r=!1,clearTimeout(e)}}function Hu(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];qt.push(new $u(e,t)),qt.length===1&&!$r&&setTimeout(Wu,0)}function $u(e,t){this.fun=e,this.array=t}function ht(){}function qu(e){ha("_linkedBinding")}function Vu(e){ha("dlopen")}function Ku(){return[]}function zu(){return[]}function Gu(e,t){if(!e)throw new Error(t||"assertion error")}function Yu(){return!1}function Qu(){return rr.now()/1e3}function ni(e){var t=Math.floor((Date.now()-rr.now())*.001),r=rr.now()*.001,a=Math.floor(r)+t,l=Math.floor(r%1*1e9);return e&&(a=a-e[0],l=l-e[1],l<0&&(a--,l+=ii)),[a,l]}function Jt(){return fa}function Ju(e){return[]}var qt,$r,Fr,Cn,Ss,As,Ts,Is,xs,Os,ks,Cs,Ps,Rs,Us,Ms,Bs,Ls,Ns,js,Ds,Fs,Ws,Hs,$s,wn,qs,Vs,Ks,zs,Gs,Ys,Qs,Js,Xs,Zs,eo,to,ro,no,io,so,oo,ao,lo,uo,co,ho,fo,po,go,rr,ts,ii,mo,yo,bo,wo,vo,_o,Eo,So,Ao,To,Io,fa,fp=wt(()=>{ge(),ye(),me(),qt=[],$r=!1,Cn=-1,$u.prototype.run=function(){this.fun.apply(null,this.array)},Ss="browser",As="x64",Ts="browser",Is={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},xs=["/usr/bin/node"],Os=[],ks="v16.8.0",Cs={},Ps=function(e,t){console.warn((t?t+": ":"")+e)},Rs=function(e){ha("binding")},Us=function(e){return 0},Ms=function(){return"/"},Bs=function(e){},Ls={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ns=ht,js=[],Ds={},Fs=!1,Ws={},Hs=ht,$s=ht,wn=function(){return{}},qs=wn,Vs=wn,Ks=ht,zs=ht,Gs=ht,Ys={},Qs={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Js=ht,Xs=ht,Zs=ht,eo=ht,to=ht,ro=ht,no=ht,io=void 0,so=void 0,oo=void 0,ao=ht,lo=2,uo=1,co="/bin/usr/node",ho=9229,fo="node",po=[],go=ht,rr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},rr.now===void 0&&(ts=Date.now(),rr.timing&&rr.timing.navigationStart&&(ts=rr.timing.navigationStart),rr.now=()=>Date.now()-ts),ii=1e9,ni.bigint=function(e){var t=ni(e);return typeof BigInt>"u"?t[0]*ii+t[1]:BigInt(t[0]*ii)+BigInt(t[1])},mo=10,yo={},bo=0,wo=Jt,vo=Jt,_o=Jt,Eo=Jt,So=Jt,Ao=ht,To=Jt,Io=Jt,fa={version:ks,versions:Cs,arch:As,platform:Ts,release:Ls,_rawDebug:Ns,moduleLoadList:js,binding:Rs,_linkedBinding:qu,_events:yo,_eventsCount:bo,_maxListeners:mo,on:Jt,addListener:wo,once:vo,off:_o,removeListener:Eo,removeAllListeners:So,emit:Ao,prependListener:To,prependOnceListener:Io,listeners:Ju,domain:Ds,_exiting:Fs,config:Ws,dlopen:Vu,uptime:Qu,_getActiveRequests:Ku,_getActiveHandles:zu,reallyExit:Hs,_kill:$s,cpuUsage:wn,resourceUsage:qs,memoryUsage:Vs,kill:Ks,exit:zs,openStdin:Gs,allowedNodeEnvironmentFlags:Ys,assert:Gu,features:Qs,_fatalExceptions:Js,setUncaughtExceptionCaptureCallback:Xs,hasUncaughtExceptionCaptureCallback:Yu,emitWarning:Ps,nextTick:Hu,_tickCallback:Zs,_debugProcess:eo,_debugEnd:to,_startProfilerIdleNotifier:ro,_stopProfilerIdleNotifier:no,stdout:io,stdin:oo,stderr:so,abort:ao,umask:Us,chdir:Bs,cwd:Ms,env:Is,title:Ss,argv:xs,execArgv:Os,pid:lo,ppid:uo,execPath:co,debugPort:ho,hrtime:ni,argv0:fo,_preload_modules:po,setSourceMapsEnabled:go}}),me=wt(()=>{fp()}),st={};cn(st,{Buffer:()=>wi,INSPECT_MAX_BYTES:()=>Xu,default:()=>Xt,kMaxLength:()=>Zu});function dp(){if(xo)return en;xo=!0,en.byteLength=o,en.toByteArray=u,en.fromByteArray=m;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,n=a.length;l<n;++l)e[l]=a[l],t[a.charCodeAt(l)]=l;t[45]=62,t[95]=63;function i(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=y.indexOf("=");I===-1&&(I=b);var k=I===b?0:4-I%4;return[I,k]}function o(y){var b=i(y),I=b[0],k=b[1];return(I+k)*3/4-k}function s(y,b,I){return(b+I)*3/4-I}function u(y){var b,I=i(y),k=I[0],U=I[1],w=new r(s(y,k,U)),O=0,D=U>0?k-4:k,F;for(F=0;F<D;F+=4)b=t[y.charCodeAt(F)]<<18|t[y.charCodeAt(F+1)]<<12|t[y.charCodeAt(F+2)]<<6|t[y.charCodeAt(F+3)],w[O++]=b>>16&255,w[O++]=b>>8&255,w[O++]=b&255;return U===2&&(b=t[y.charCodeAt(F)]<<2|t[y.charCodeAt(F+1)]>>4,w[O++]=b&255),U===1&&(b=t[y.charCodeAt(F)]<<10|t[y.charCodeAt(F+1)]<<4|t[y.charCodeAt(F+2)]>>2,w[O++]=b>>8&255,w[O++]=b&255),w}function h(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function d(y,b,I){for(var k,U=[],w=b;w<I;w+=3)k=(y[w]<<16&16711680)+(y[w+1]<<8&65280)+(y[w+2]&255),U.push(h(k));return U.join("")}function m(y){for(var b,I=y.length,k=I%3,U=[],w=16383,O=0,D=I-k;O<D;O+=w)U.push(d(y,O,O+w>D?D:O+w));return k===1?(b=y[I-1],U.push(e[b>>2]+e[b<<4&63]+"==")):k===2&&(b=(y[I-2]<<8)+y[I-1],U.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),U.join("")}return en}function pp(){return Oo?vn:(Oo=!0,vn.read=function(e,t,r,a,l){var n,i,o=l*8-a-1,s=(1<<o)-1,u=s>>1,h=-7,d=r?l-1:0,m=r?-1:1,y=e[t+d];for(d+=m,n=y&(1<<-h)-1,y>>=-h,h+=o;h>0;n=n*256+e[t+d],d+=m,h-=8);for(i=n&(1<<-h)-1,n>>=-h,h+=a;h>0;i=i*256+e[t+d],d+=m,h-=8);if(n===0)n=1-u;else{if(n===s)return i?NaN:(y?-1:1)*(1/0);i=i+Math.pow(2,a),n=n-u}return(y?-1:1)*i*Math.pow(2,n-a)},vn.write=function(e,t,r,a,l,n){var i,o,s,u=n*8-l-1,h=(1<<u)-1,d=h>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=a?0:n-1,b=a?1:-1,I=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),i+d>=1?t+=m/s:t+=m*Math.pow(2,1-d),t*s>=2&&(i++,s/=2),i+d>=h?(o=0,i=h):i+d>=1?(o=(t*s-1)*Math.pow(2,l),i=i+d):(o=t*Math.pow(2,d-1)*Math.pow(2,l),i=0));l>=8;e[r+y]=o&255,y+=b,o/=256,l-=8);for(i=i<<l|o,u+=l;u>0;e[r+y]=i&255,y+=b,i/=256,u-=8);e[r+y-b]|=I*128},vn)}function gp(){if(ko)return mr;ko=!0;let e=dp(),t=pp(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mr.Buffer=i,mr.SlowBuffer=U,mr.INSPECT_MAX_BYTES=50;let a=2147483647;mr.kMaxLength=a,i.TYPED_ARRAY_SUPPORT=l(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{let c=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(c,f),c.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function n(c){if(c>a)throw new RangeError('The value "'+c+'" is invalid for option "size"');let f=new Uint8Array(c);return Object.setPrototypeOf(f,i.prototype),f}function i(c,f,g){if(typeof c=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(c)}return o(c,f,g)}i.poolSize=8192;function o(c,f,g){if(typeof c=="string")return d(c,f);if(ArrayBuffer.isView(c))return y(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(p(c,ArrayBuffer)||c&&p(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(p(c,SharedArrayBuffer)||c&&p(c.buffer,SharedArrayBuffer)))return b(c,f,g);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let v=c.valueOf&&c.valueOf();if(v!=null&&v!==c)return i.from(v,f,g);let _=I(c);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return i.from(c[Symbol.toPrimitive]("string"),f,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}i.from=function(c,f,g){return o(c,f,g)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function s(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function u(c,f,g){return s(c),c<=0?n(c):f!==void 0?typeof g=="string"?n(c).fill(f,g):n(c).fill(f):n(c)}i.alloc=function(c,f,g){return u(c,f,g)};function h(c){return s(c),n(c<0?0:k(c)|0)}i.allocUnsafe=function(c){return h(c)},i.allocUnsafeSlow=function(c){return h(c)};function d(c,f){if((typeof f!="string"||f==="")&&(f="utf8"),!i.isEncoding(f))throw new TypeError("Unknown encoding: "+f);let g=w(c,f)|0,v=n(g),_=v.write(c,f);return _!==g&&(v=v.slice(0,_)),v}function m(c){let f=c.length<0?0:k(c.length)|0,g=n(f);for(let v=0;v<f;v+=1)g[v]=c[v]&255;return g}function y(c){if(p(c,Uint8Array)){let f=new Uint8Array(c);return b(f.buffer,f.byteOffset,f.byteLength)}return m(c)}function b(c,f,g){if(f<0||c.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<f+(g||0))throw new RangeError('"length" is outside of buffer bounds');let v;return f===void 0&&g===void 0?v=new Uint8Array(c):g===void 0?v=new Uint8Array(c,f):v=new Uint8Array(c,f,g),Object.setPrototypeOf(v,i.prototype),v}function I(c){if(i.isBuffer(c)){let f=k(c.length)|0,g=n(f);return g.length===0||c.copy(g,0,0,f),g}if(c.length!==void 0)return typeof c.length!="number"||E(c.length)?n(0):m(c);if(c.type==="Buffer"&&Array.isArray(c.data))return m(c.data)}function k(c){if(c>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return c|0}function U(c){return+c!=c&&(c=0),i.alloc(+c)}i.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==i.prototype},i.compare=function(c,f){if(p(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),p(f,Uint8Array)&&(f=i.from(f,f.offset,f.byteLength)),!i.isBuffer(c)||!i.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===f)return 0;let g=c.length,v=f.length;for(let _=0,L=Math.min(g,v);_<L;++_)if(c[_]!==f[_]){g=c[_],v=f[_];break}return g<v?-1:v<g?1:0},i.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(c,f){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return i.alloc(0);let g;if(f===void 0)for(f=0,g=0;g<c.length;++g)f+=c[g].length;let v=i.allocUnsafe(f),_=0;for(g=0;g<c.length;++g){let L=c[g];if(p(L,Uint8Array))_+L.length>v.length?(i.isBuffer(L)||(L=i.from(L)),L.copy(v,_)):Uint8Array.prototype.set.call(v,L,_);else if(i.isBuffer(L))L.copy(v,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=L.length}return v};function w(c,f){if(i.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||p(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let g=c.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&g===0)return 0;let _=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return R(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return J(c).length;default:if(_)return v?-1:R(c).length;f=(""+f).toLowerCase(),_=!0}}i.byteLength=w;function O(c,f,g){let v=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,f>>>=0,g<=f))return"";for(c||(c="utf8");;)switch(c){case"hex":return ue(this,f,g);case"utf8":case"utf-8":return ie(this,f,g);case"ascii":return pe(this,f,g);case"latin1":case"binary":return ce(this,f,g);case"base64":return $(this,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,f,g);default:if(v)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),v=!0}}i.prototype._isBuffer=!0;function D(c,f,g){let v=c[f];c[f]=c[g],c[g]=v}i.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<c;f+=2)D(this,f,f+1);return this},i.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<c;f+=4)D(this,f,f+3),D(this,f+1,f+2);return this},i.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<c;f+=8)D(this,f,f+7),D(this,f+1,f+6),D(this,f+2,f+5),D(this,f+3,f+4);return this},i.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?ie(this,0,c):O.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(c){if(!i.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:i.compare(this,c)===0},i.prototype.inspect=function(){let c="",f=mr.INSPECT_MAX_BYTES;return c=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(c+=" ... "),"<Buffer "+c+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(c,f,g,v,_){if(p(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),!i.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(f===void 0&&(f=0),g===void 0&&(g=c?c.length:0),v===void 0&&(v=0),_===void 0&&(_=this.length),f<0||g>c.length||v<0||_>this.length)throw new RangeError("out of range index");if(v>=_&&f>=g)return 0;if(v>=_)return-1;if(f>=g)return 1;if(f>>>=0,g>>>=0,v>>>=0,_>>>=0,this===c)return 0;let L=_-v,Y=g-f,we=Math.min(L,Y),ve=this.slice(v,_),xe=c.slice(f,g);for(let Ce=0;Ce<we;++Ce)if(ve[Ce]!==xe[Ce]){L=ve[Ce],Y=xe[Ce];break}return L<Y?-1:Y<L?1:0};function F(c,f,g,v,_){if(c.length===0)return-1;if(typeof g=="string"?(v=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,E(g)&&(g=_?0:c.length-1),g<0&&(g=c.length+g),g>=c.length){if(_)return-1;g=c.length-1}else if(g<0)if(_)g=0;else return-1;if(typeof f=="string"&&(f=i.from(f,v)),i.isBuffer(f))return f.length===0?-1:M(c,f,g,v,_);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(c,f,g):Uint8Array.prototype.lastIndexOf.call(c,f,g):M(c,[f],g,v,_);throw new TypeError("val must be string, number or Buffer")}function M(c,f,g,v,_){let L=1,Y=c.length,we=f.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(c.length<2||f.length<2)return-1;L=2,Y/=2,we/=2,g/=2}function ve(Ce,Pe){return L===1?Ce[Pe]:Ce.readUInt16BE(Pe*L)}let xe;if(_){let Ce=-1;for(xe=g;xe<Y;xe++)if(ve(c,xe)===ve(f,Ce===-1?0:xe-Ce)){if(Ce===-1&&(Ce=xe),xe-Ce+1===we)return Ce*L}else Ce!==-1&&(xe-=xe-Ce),Ce=-1}else for(g+we>Y&&(g=Y-we),xe=g;xe>=0;xe--){let Ce=!0;for(let Pe=0;Pe<we;Pe++)if(ve(c,xe+Pe)!==ve(f,Pe)){Ce=!1;break}if(Ce)return xe}return-1}i.prototype.includes=function(c,f,g){return this.indexOf(c,f,g)!==-1},i.prototype.indexOf=function(c,f,g){return F(this,c,f,g,!0)},i.prototype.lastIndexOf=function(c,f,g){return F(this,c,f,g,!1)};function N(c,f,g,v){g=Number(g)||0;let _=c.length-g;v?(v=Number(v),v>_&&(v=_)):v=_;let L=f.length;v>L/2&&(v=L/2);let Y;for(Y=0;Y<v;++Y){let we=parseInt(f.substr(Y*2,2),16);if(E(we))return Y;c[g+Y]=we}return Y}function K(c,f,g,v){return T(R(f,c.length-g),c,g,v)}function se(c,f,g,v){return T(H(f),c,g,v)}function oe(c,f,g,v){return T(J(f),c,g,v)}function fe(c,f,g,v){return T(X(f,c.length-g),c,g,v)}i.prototype.write=function(c,f,g,v){if(f===void 0)v="utf8",g=this.length,f=0;else if(g===void 0&&typeof f=="string")v=f,g=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(g)?(g=g>>>0,v===void 0&&(v="utf8")):(v=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let _=this.length-f;if((g===void 0||g>_)&&(g=_),c.length>0&&(g<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let L=!1;for(;;)switch(v){case"hex":return N(this,c,f,g);case"utf8":case"utf-8":return K(this,c,f,g);case"ascii":case"latin1":case"binary":return se(this,c,f,g);case"base64":return oe(this,c,f,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,c,f,g);default:if(L)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),L=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(c,f,g){return f===0&&g===c.length?e.fromByteArray(c):e.fromByteArray(c.slice(f,g))}function ie(c,f,g){g=Math.min(c.length,g);let v=[],_=f;for(;_<g;){let L=c[_],Y=null,we=L>239?4:L>223?3:L>191?2:1;if(_+we<=g){let ve,xe,Ce,Pe;switch(we){case 1:L<128&&(Y=L);break;case 2:ve=c[_+1],(ve&192)===128&&(Pe=(L&31)<<6|ve&63,Pe>127&&(Y=Pe));break;case 3:ve=c[_+1],xe=c[_+2],(ve&192)===128&&(xe&192)===128&&(Pe=(L&15)<<12|(ve&63)<<6|xe&63,Pe>2047&&(Pe<55296||Pe>57343)&&(Y=Pe));break;case 4:ve=c[_+1],xe=c[_+2],Ce=c[_+3],(ve&192)===128&&(xe&192)===128&&(Ce&192)===128&&(Pe=(L&15)<<18|(ve&63)<<12|(xe&63)<<6|Ce&63,Pe>65535&&Pe<1114112&&(Y=Pe))}}Y===null?(Y=65533,we=1):Y>65535&&(Y-=65536,v.push(Y>>>10&1023|55296),Y=56320|Y&1023),v.push(Y),_+=we}return Z(v)}let ae=4096;function Z(c){let f=c.length;if(f<=ae)return String.fromCharCode.apply(String,c);let g="",v=0;for(;v<f;)g+=String.fromCharCode.apply(String,c.slice(v,v+=ae));return g}function pe(c,f,g){let v="";g=Math.min(c.length,g);for(let _=f;_<g;++_)v+=String.fromCharCode(c[_]&127);return v}function ce(c,f,g){let v="";g=Math.min(c.length,g);for(let _=f;_<g;++_)v+=String.fromCharCode(c[_]);return v}function ue(c,f,g){let v=c.length;(!f||f<0)&&(f=0),(!g||g<0||g>v)&&(g=v);let _="";for(let L=f;L<g;++L)_+=x[c[L]];return _}function Ee(c,f,g){let v=c.slice(f,g),_="";for(let L=0;L<v.length-1;L+=2)_+=String.fromCharCode(v[L]+v[L+1]*256);return _}i.prototype.slice=function(c,f){let g=this.length;c=~~c,f=f===void 0?g:~~f,c<0?(c+=g,c<0&&(c=0)):c>g&&(c=g),f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),f<c&&(f=c);let v=this.subarray(c,f);return Object.setPrototypeOf(v,i.prototype),v};function ne(c,f,g){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+f>g)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c],_=1,L=0;for(;++L<f&&(_*=256);)v+=this[c+L]*_;return v},i.prototype.readUintBE=i.prototype.readUIntBE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c+--f],_=1;for(;f>0&&(_*=256);)v+=this[c+--f]*_;return v},i.prototype.readUint8=i.prototype.readUInt8=function(c,f){return c=c>>>0,f||ne(c,1,this.length),this[c]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(c,f){return c=c>>>0,f||ne(c,2,this.length),this[c]|this[c+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(c,f){return c=c>>>0,f||ne(c,2,this.length),this[c]<<8|this[c+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},i.prototype.readBigUInt64LE=S(function(c){c=c>>>0,A(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&P(c,this.length-8);let v=f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,_=this[++c]+this[++c]*2**8+this[++c]*2**16+g*2**24;return BigInt(v)+(BigInt(_)<<BigInt(32))}),i.prototype.readBigUInt64BE=S(function(c){c=c>>>0,A(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&P(c,this.length-8);let v=f*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],_=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+g;return(BigInt(v)<<BigInt(32))+BigInt(_)}),i.prototype.readIntLE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=this[c],_=1,L=0;for(;++L<f&&(_*=256);)v+=this[c+L]*_;return _*=128,v>=_&&(v-=Math.pow(2,8*f)),v},i.prototype.readIntBE=function(c,f,g){c=c>>>0,f=f>>>0,g||ne(c,f,this.length);let v=f,_=1,L=this[c+--v];for(;v>0&&(_*=256);)L+=this[c+--v]*_;return _*=128,L>=_&&(L-=Math.pow(2,8*f)),L},i.prototype.readInt8=function(c,f){return c=c>>>0,f||ne(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},i.prototype.readInt16LE=function(c,f){c=c>>>0,f||ne(c,2,this.length);let g=this[c]|this[c+1]<<8;return g&32768?g|4294901760:g},i.prototype.readInt16BE=function(c,f){c=c>>>0,f||ne(c,2,this.length);let g=this[c+1]|this[c]<<8;return g&32768?g|4294901760:g},i.prototype.readInt32LE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},i.prototype.readInt32BE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},i.prototype.readBigInt64LE=S(function(c){c=c>>>0,A(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&P(c,this.length-8);let v=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(g<<24);return(BigInt(v)<<BigInt(32))+BigInt(f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),i.prototype.readBigInt64BE=S(function(c){c=c>>>0,A(c,"offset");let f=this[c],g=this[c+7];(f===void 0||g===void 0)&&P(c,this.length-8);let v=(f<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(v)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+g)}),i.prototype.readFloatLE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),t.read(this,c,!0,23,4)},i.prototype.readFloatBE=function(c,f){return c=c>>>0,f||ne(c,4,this.length),t.read(this,c,!1,23,4)},i.prototype.readDoubleLE=function(c,f){return c=c>>>0,f||ne(c,8,this.length),t.read(this,c,!0,52,8)},i.prototype.readDoubleBE=function(c,f){return c=c>>>0,f||ne(c,8,this.length),t.read(this,c,!1,52,8)};function de(c,f,g,v,_,L){if(!i.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>_||f<L)throw new RangeError('"value" argument is out of bounds');if(g+v>c.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(c,f,g,v){if(c=+c,f=f>>>0,g=g>>>0,!v){let Y=Math.pow(2,8*g)-1;de(this,c,f,g,Y,0)}let _=1,L=0;for(this[f]=c&255;++L<g&&(_*=256);)this[f+L]=c/_&255;return f+g},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(c,f,g,v){if(c=+c,f=f>>>0,g=g>>>0,!v){let Y=Math.pow(2,8*g)-1;de(this,c,f,g,Y,0)}let _=g-1,L=1;for(this[f+_]=c&255;--_>=0&&(L*=256);)this[f+_]=c/L&255;return f+g},i.prototype.writeUint8=i.prototype.writeUInt8=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,1,255,0),this[f]=c&255,f+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,65535,0),this[f]=c&255,this[f+1]=c>>>8,f+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,65535,0),this[f]=c>>>8,this[f+1]=c&255,f+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,4294967295,0),this[f+3]=c>>>24,this[f+2]=c>>>16,this[f+1]=c>>>8,this[f]=c&255,f+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,4294967295,0),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4};function j(c,f,g,v,_){te(f,v,_,c,g,7);let L=Number(f&BigInt(4294967295));c[g++]=L,L=L>>8,c[g++]=L,L=L>>8,c[g++]=L,L=L>>8,c[g++]=L;let Y=Number(f>>BigInt(32)&BigInt(4294967295));return c[g++]=Y,Y=Y>>8,c[g++]=Y,Y=Y>>8,c[g++]=Y,Y=Y>>8,c[g++]=Y,g}function he(c,f,g,v,_){te(f,v,_,c,g,7);let L=Number(f&BigInt(4294967295));c[g+7]=L,L=L>>8,c[g+6]=L,L=L>>8,c[g+5]=L,L=L>>8,c[g+4]=L;let Y=Number(f>>BigInt(32)&BigInt(4294967295));return c[g+3]=Y,Y=Y>>8,c[g+2]=Y,Y=Y>>8,c[g+1]=Y,Y=Y>>8,c[g]=Y,g+8}i.prototype.writeBigUInt64LE=S(function(c,f=0){return j(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=S(function(c,f=0){return he(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(c,f,g,v){if(c=+c,f=f>>>0,!v){let we=Math.pow(2,8*g-1);de(this,c,f,g,we-1,-we)}let _=0,L=1,Y=0;for(this[f]=c&255;++_<g&&(L*=256);)c<0&&Y===0&&this[f+_-1]!==0&&(Y=1),this[f+_]=(c/L>>0)-Y&255;return f+g},i.prototype.writeIntBE=function(c,f,g,v){if(c=+c,f=f>>>0,!v){let we=Math.pow(2,8*g-1);de(this,c,f,g,we-1,-we)}let _=g-1,L=1,Y=0;for(this[f+_]=c&255;--_>=0&&(L*=256);)c<0&&Y===0&&this[f+_+1]!==0&&(Y=1),this[f+_]=(c/L>>0)-Y&255;return f+g},i.prototype.writeInt8=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,1,127,-128),c<0&&(c=255+c+1),this[f]=c&255,f+1},i.prototype.writeInt16LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,32767,-32768),this[f]=c&255,this[f+1]=c>>>8,f+2},i.prototype.writeInt16BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,2,32767,-32768),this[f]=c>>>8,this[f+1]=c&255,f+2},i.prototype.writeInt32LE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,2147483647,-2147483648),this[f]=c&255,this[f+1]=c>>>8,this[f+2]=c>>>16,this[f+3]=c>>>24,f+4},i.prototype.writeInt32BE=function(c,f,g){return c=+c,f=f>>>0,g||de(this,c,f,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4},i.prototype.writeBigInt64LE=S(function(c,f=0){return j(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=S(function(c,f=0){return he(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(c,f,g,v,_,L){if(g+v>c.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Q(c,f,g,v,_){return f=+f,g=g>>>0,_||be(c,f,g,4),t.write(c,f,g,v,23,4),g+4}i.prototype.writeFloatLE=function(c,f,g){return Q(this,c,f,!0,g)},i.prototype.writeFloatBE=function(c,f,g){return Q(this,c,f,!1,g)};function Ae(c,f,g,v,_){return f=+f,g=g>>>0,_||be(c,f,g,8),t.write(c,f,g,v,52,8),g+8}i.prototype.writeDoubleLE=function(c,f,g){return Ae(this,c,f,!0,g)},i.prototype.writeDoubleBE=function(c,f,g){return Ae(this,c,f,!1,g)},i.prototype.copy=function(c,f,g,v){if(!i.isBuffer(c))throw new TypeError("argument should be a Buffer");if(g||(g=0),!v&&v!==0&&(v=this.length),f>=c.length&&(f=c.length),f||(f=0),v>0&&v<g&&(v=g),v===g||c.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),c.length-f<v-g&&(v=c.length-f+g);let _=v-g;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,g,v):Uint8Array.prototype.set.call(c,this.subarray(g,v),f),_},i.prototype.fill=function(c,f,g,v){if(typeof c=="string"){if(typeof f=="string"?(v=f,f=0,g=this.length):typeof g=="string"&&(v=g,g=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!i.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(c.length===1){let L=c.charCodeAt(0);(v==="utf8"&&L<128||v==="latin1")&&(c=L)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(f<0||this.length<f||this.length<g)throw new RangeError("Out of range index");if(g<=f)return this;f=f>>>0,g=g===void 0?this.length:g>>>0,c||(c=0);let _;if(typeof c=="number")for(_=f;_<g;++_)this[_]=c;else{let L=i.isBuffer(c)?c:i.from(c,v),Y=L.length;if(Y===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(_=0;_<g-f;++_)this[_+f]=L[_%Y]}return this};let re={};function z(c,f,g){re[c]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(c,f){return`The "${c}" argument must be of type number. Received type ${typeof f}`},TypeError),z("ERR_OUT_OF_RANGE",function(c,f,g){let v=`The value of "${c}" is out of range.`,_=g;return Number.isInteger(g)&&Math.abs(g)>2**32?_=le(String(g)):typeof g=="bigint"&&(_=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(_=le(_)),_+="n"),v+=` It must be ${f}. Received ${_}`,v},RangeError);function le(c){let f="",g=c.length,v=c[0]==="-"?1:0;for(;g>=v+4;g-=3)f=`_${c.slice(g-3,g)}${f}`;return`${c.slice(0,g)}${f}`}function ee(c,f,g){A(f,"offset"),(c[f]===void 0||c[f+g]===void 0)&&P(f,c.length-(g+1))}function te(c,f,g,v,_,L){if(c>g||c<f){let Y=typeof f=="bigint"?"n":"",we;throw f===0||f===BigInt(0)?we=`>= 0${Y} and < 2${Y} ** ${(L+1)*8}${Y}`:we=`>= -(2${Y} ** ${(L+1)*8-1}${Y}) and < 2 ** ${(L+1)*8-1}${Y}`,new re.ERR_OUT_OF_RANGE("value",we,c)}ee(v,_,L)}function A(c,f){if(typeof c!="number")throw new re.ERR_INVALID_ARG_TYPE(f,"number",c)}function P(c,f,g){throw Math.floor(c)!==c?(A(c,g),new re.ERR_OUT_OF_RANGE("offset","an integer",c)):f<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,c)}let W=/[^+/0-9A-Za-z-_]/g;function C(c){if(c=c.split("=")[0],c=c.trim().replace(W,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function R(c,f){f=f||1/0;let g,v=c.length,_=null,L=[];for(let Y=0;Y<v;++Y){if(g=c.charCodeAt(Y),g>55295&&g<57344){if(!_){if(g>56319){(f-=3)>-1&&L.push(239,191,189);continue}else if(Y+1===v){(f-=3)>-1&&L.push(239,191,189);continue}_=g;continue}if(g<56320){(f-=3)>-1&&L.push(239,191,189),_=g;continue}g=(_-55296<<10|g-56320)+65536}else _&&(f-=3)>-1&&L.push(239,191,189);if(_=null,g<128){if((f-=1)<0)break;L.push(g)}else if(g<2048){if((f-=2)<0)break;L.push(g>>6|192,g&63|128)}else if(g<65536){if((f-=3)<0)break;L.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((f-=4)<0)break;L.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return L}function H(c){let f=[];for(let g=0;g<c.length;++g)f.push(c.charCodeAt(g)&255);return f}function X(c,f){let g,v,_,L=[];for(let Y=0;Y<c.length&&!((f-=2)<0);++Y)g=c.charCodeAt(Y),v=g>>8,_=g%256,L.push(_),L.push(v);return L}function J(c){return e.toByteArray(C(c))}function T(c,f,g,v){let _;for(_=0;_<v&&!(_+g>=f.length||_>=c.length);++_)f[_+g]=c[_];return _}function p(c,f){return c instanceof f||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===f.name}function E(c){return c!==c}let x=function(){let c="0123456789abcdef",f=new Array(256);for(let g=0;g<16;++g){let v=g*16;for(let _=0;_<16;++_)f[v+_]=c[g]+c[_]}return f}();function S(c){return typeof BigInt>"u"?G:c}function G(){throw new Error("BigInt not supported")}return mr}var en,xo,vn,Oo,mr,ko,Xt,wi,Xu,Zu,ot=wt(()=>{ge(),ye(),me(),en={},xo=!1,vn={},Oo=!1,mr={},ko=!1,Xt=gp(),Xt.Buffer,Xt.SlowBuffer,Xt.INSPECT_MAX_BYTES,Xt.kMaxLength,wi=Xt.Buffer,Xu=Xt.INSPECT_MAX_BYTES,Zu=Xt.kMaxLength}),ye=wt(()=>{ot()}),mp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,a){return a===0||a>this.max?!1:(this.aliasToTopic[a]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};e.default=t}),Ze=_e((e,t)=>{ge(),ye(),me();var r=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let l="";for(let n=0;n<a.length;n++)l+=`    ${a[n].stack}
`;super(l),this.name="AggregateError",this.errors=a}};t.exports={AggregateError:r,ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,l){return a.includes(l)},ArrayPrototypeIndexOf(a,l){return a.indexOf(l)},ArrayPrototypeJoin(a,l){return a.join(l)},ArrayPrototypeMap(a,l){return a.map(l)},ArrayPrototypePop(a,l){return a.pop(l)},ArrayPrototypePush(a,l){return a.push(l)},ArrayPrototypeSlice(a,l,n){return a.slice(l,n)},Error,FunctionPrototypeCall(a,l,...n){return a.call(l,...n)},FunctionPrototypeSymbolHasInstance(a,l){return Function.prototype[Symbol.hasInstance].call(a,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,l){return Object.defineProperties(a,l)},ObjectDefineProperty(a,l,n){return Object.defineProperty(a,l,n)},ObjectGetOwnPropertyDescriptor(a,l){return Object.getOwnPropertyDescriptor(a,l)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,l){return Object.setPrototypeOf(a,l)},Promise,PromisePrototypeCatch(a,l){return a.catch(l)},PromisePrototypeThen(a,l,n){return a.then(l,n)},PromiseReject(a){return Promise.reject(a)},PromiseResolve(a){return Promise.resolve(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,l){return a.test(l)},SafeSet:Set,String,StringPrototypeSlice(a,l,n){return a.slice(l,n)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(a,l,n){return a.set(l,n)},Boolean,Uint8Array}}),ec=_e((e,t)=>{ge(),ye(),me(),t.exports={format(r,...a){return r.replace(/%([sdifj])/g,function(...[l,n]){let i=a.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(r){switch(typeof r){case"string":if(r.includes("'"))if(r.includes('"')){if(!r.includes("`")&&!r.includes("${"))return`\`${r}\``}else return`"${r}"`;return`'${r}'`;case"number":return isNaN(r)?"NaN":Object.is(r,-0)?String(r):r;case"bigint":return`${String(r)}n`;case"boolean":case"undefined":return String(r);case"object":return"{}"}}}}),vt=_e((e,t)=>{ge(),ye(),me();var{format:r,inspect:a}=ec(),{AggregateError:l}=Ze(),n=globalThis.AggregateError||l,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",h={};function d(w,O){if(!w)throw new h.ERR_INTERNAL_ASSERTION(O)}function m(w){let O="",D=w.length,F=w[0]==="-"?1:0;for(;D>=F+4;D-=3)O=`_${w.slice(D-3,D)}${O}`;return`${w.slice(0,D)}${O}`}function y(w,O,D){if(typeof O=="function")return d(O.length<=D.length,`Code: ${w}; The provided arguments length (${D.length}) does not match the required ones (${O.length}).`),O(...D);let F=(O.match(/%[dfijoOs]/g)||[]).length;return d(F===D.length,`Code: ${w}; The provided arguments length (${D.length}) does not match the required ones (${F}).`),D.length===0?O:r(O,...D)}function b(w,O,D){D||(D=Error);class F extends D{constructor(...N){super(y(w,O,N))}toString(){return`${this.name} [${w}]: ${this.message}`}}Object.defineProperties(F.prototype,{name:{value:D.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${w}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),F.prototype.code=w,F.prototype[i]=!0,h[w]=F}function I(w){let O=u+w.name;return Object.defineProperty(w,"name",{value:O}),w}function k(w,O){if(w&&O&&w!==O){if(Array.isArray(O.errors))return O.errors.push(w),O;let D=new n([O,w],O.message);return D.code=O.code,D}return w||O}var U=class extends Error{constructor(w="The operation was aborted",O=void 0){if(O!==void 0&&typeof O!="object")throw new h.ERR_INVALID_ARG_TYPE("options","Object",O);super(w,O),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(w,O,D)=>{d(typeof w=="string","'name' must be a string"),Array.isArray(O)||(O=[O]);let F="The ";w.endsWith(" argument")?F+=`${w} `:F+=`"${w}" ${w.includes(".")?"property":"argument"} `,F+="must be ";let M=[],N=[],K=[];for(let oe of O)d(typeof oe=="string","All expected entries have to be of type string"),o.includes(oe)?M.push(oe.toLowerCase()):s.test(oe)?N.push(oe):(d(oe!=="object",'The value "object" should be written as "Object"'),K.push(oe));if(N.length>0){let oe=M.indexOf("object");oe!==-1&&(M.splice(M,oe,1),N.push("Object"))}if(M.length>0){switch(M.length){case 1:F+=`of type ${M[0]}`;break;case 2:F+=`one of type ${M[0]} or ${M[1]}`;break;default:{let oe=M.pop();F+=`one of type ${M.join(", ")}, or ${oe}`}}(N.length>0||K.length>0)&&(F+=" or ")}if(N.length>0){switch(N.length){case 1:F+=`an instance of ${N[0]}`;break;case 2:F+=`an instance of ${N[0]} or ${N[1]}`;break;default:{let oe=N.pop();F+=`an instance of ${N.join(", ")}, or ${oe}`}}K.length>0&&(F+=" or ")}switch(K.length){case 0:break;case 1:K[0].toLowerCase()!==K[0]&&(F+="an "),F+=`${K[0]}`;break;case 2:F+=`one of ${K[0]} or ${K[1]}`;break;default:{let oe=K.pop();F+=`one of ${K.join(", ")}, or ${oe}`}}if(D==null)F+=`. Received ${D}`;else if(typeof D=="function"&&D.name)F+=`. Received function ${D.name}`;else if(typeof D=="object"){var se;if((se=D.constructor)!==null&&se!==void 0&&se.name)F+=`. Received an instance of ${D.constructor.name}`;else{let oe=a(D,{depth:-1});F+=`. Received ${oe}`}}else{let oe=a(D,{colors:!1});oe.length>25&&(oe=`${oe.slice(0,25)}...`),F+=`. Received type ${typeof D} (${oe})`}return F},TypeError),b("ERR_INVALID_ARG_VALUE",(w,O,D="is invalid")=>{let F=a(O);return F.length>128&&(F=F.slice(0,128)+"..."),`The ${w.includes(".")?"property":"argument"} '${w}' ${D}. Received ${F}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(w,O,D)=>{var F;let M=D!=null&&(F=D.constructor)!==null&&F!==void 0&&F.name?`instance of ${D.constructor.name}`:`type ${typeof D}`;return`Expected ${w} to be returned from the "${O}" function but got ${M}.`},TypeError),b("ERR_MISSING_ARGS",(...w)=>{d(w.length>0,"At least one arg needs to be specified");let O,D=w.length;switch(w=(Array.isArray(w)?w:[w]).map(F=>`"${F}"`).join(" or "),D){case 1:O+=`The ${w[0]} argument`;break;case 2:O+=`The ${w[0]} and ${w[1]} arguments`;break;default:{let F=w.pop();O+=`The ${w.join(", ")}, and ${F} arguments`}break}return`${O} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(w,O,D)=>{d(O,'Missing "range" argument');let F;if(Number.isInteger(D)&&Math.abs(D)>2**32)F=m(String(D));else if(typeof D=="bigint"){F=String(D);let M=BigInt(2)**BigInt(32);(D>M||D<-M)&&(F=m(F)),F+="n"}else F=a(D);return`The value of "${w}" is out of range. It must be ${O}. Received ${F}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:U,aggregateTwoErrors:I(k),hideStackFrames:I,codes:h}}),Nn=_e((e,t)=>{ge(),ye(),me();var{AbortController:r,AbortSignal:a}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=a,t.exports.default=r});function He(){He.init.call(this)}function si(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function tc(e){return e._maxListeners===void 0?He.defaultMaxListeners:e._maxListeners}function il(e,t,r,a){var l,n,i,o;if(si(r),(n=e._events)===void 0?(n=e._events=Object.create(null),e._eventsCount=0):(n.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),n=e._events),i=n[t]),i===void 0)i=n[t]=r,++e._eventsCount;else if(typeof i=="function"?i=n[t]=a?[r,i]:[i,r]:a?i.unshift(r):i.push(r),(l=tc(e))>0&&i.length>l&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=i.length,o=s,console&&console.warn&&console.warn(o)}return e}function yp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sl(e,t,r){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},l=yp.bind(a);return l.listener=r,a.wrapFn=l,l}function ol(e,t,r){var a=e._events;if(a===void 0)return[];var l=a[t];return l===void 0?[]:typeof l=="function"?r?[l.listener||l]:[l]:r?function(n){for(var i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}(l):rc(l,l.length)}function al(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function rc(e,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a];return r}var ll,ul,Br,rs,ns,is,xt,cl=wt(()=>{ge(),ye(),me(),Br=typeof Reflect=="object"?Reflect:null,rs=Br&&typeof Br.apply=="function"?Br.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ul=Br&&typeof Br.ownKeys=="function"?Br.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},ns=Number.isNaN||function(e){return e!=e},ll=He,He.EventEmitter=He,He.prototype._events=void 0,He.prototype._eventsCount=0,He.prototype._maxListeners=void 0,is=10,Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return is},set:function(e){if(typeof e!="number"||e<0||ns(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");is=e}}),He.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ns(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},He.prototype.getMaxListeners=function(){return tc(this)},He.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a=e==="error",l=this._events;if(l!==void 0)a=a&&l.error===void 0;else if(!a)return!1;if(a){var n;if(t.length>0&&(n=t[0]),n instanceof Error)throw n;var i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}var o=l[e];if(o===void 0)return!1;if(typeof o=="function")rs(o,this,t);else{var s=o.length,u=rc(o,s);for(r=0;r<s;++r)rs(u[r],this,t)}return!0},He.prototype.addListener=function(e,t){return il(this,e,t,!1)},He.prototype.on=He.prototype.addListener,He.prototype.prependListener=function(e,t){return il(this,e,t,!0)},He.prototype.once=function(e,t){return si(t),this.on(e,sl(this,e,t)),this},He.prototype.prependOnceListener=function(e,t){return si(t),this.prependListener(e,sl(this,e,t)),this},He.prototype.removeListener=function(e,t){var r,a,l,n,i;if(si(t),(a=this._events)===void 0)return this;if((r=a[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(l=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){i=r[n].listener,l=n;break}if(l<0)return this;l===0?r.shift():function(o,s){for(;s+1<o.length;s++)o[s]=o[s+1];o.pop()}(r,l),r.length===1&&(a[e]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",e,i||t)}return this},He.prototype.off=He.prototype.removeListener,He.prototype.removeAllListeners=function(e){var t,r,a;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var l,n=Object.keys(r);for(a=0;a<n.length;++a)(l=n[a])!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this},He.prototype.listeners=function(e){return ol(this,e,!0)},He.prototype.rawListeners=function(e){return ol(this,e,!1)},He.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):al.call(e,t)},He.prototype.listenerCount=al,He.prototype.eventNames=function(){return this._eventsCount>0?ul(this._events):[]},xt=ll,xt.EventEmitter,xt.defaultMaxListeners,xt.init,xt.listenerCount,xt.EventEmitter,xt.defaultMaxListeners,xt.init,xt.listenerCount}),kr={};cn(kr,{EventEmitter:()=>nc,default:()=>xt,defaultMaxListeners:()=>ic,init:()=>sc,listenerCount:()=>oc,on:()=>ac,once:()=>lc});var nc,ic,sc,oc,ac,lc,zr=wt(()=>{ge(),ye(),me(),cl(),cl(),xt.once=function(e,t){return new Promise((r,a)=>{function l(...i){n!==void 0&&e.removeListener("error",n),r(i)}let n;t!=="error"&&(n=i=>{e.removeListener(name,l),a(i)},e.once("error",n)),e.once(t,l)})},xt.on=function(e,t){let r=[],a=[],l=null,n=!1,i={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(l){let h=Promise.reject(l);return l=null,h}return n?createIterResult(void 0,!0):new Promise((h,d)=>a.push({resolve:h,reject:d}))},async return(){e.removeListener(t,o),e.removeListener("error",s),n=!0;for(let u of a)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){l=u,e.removeListener(t,o),e.removeListener("error",s)},[Symbol.asyncIterator](){return this}};return e.on(t,o),e.on("error",s),i;function o(...u){let h=a.shift();h?h.resolve(createIterResult(u,!1)):r.push(u)}function s(u){n=!0;let h=a.shift();h?h.reject(u):l=u,i.return()}},{EventEmitter:nc,defaultMaxListeners:ic,init:sc,listenerCount:oc,on:ac,once:lc}=xt}),At=_e((e,t)=>{ge(),ye(),me();var r=(ot(),$e(st)),{format:a,inspect:l}=ec(),{codes:{ERR_INVALID_ARG_TYPE:n}}=vt(),{kResistStopPropagation:i,AggregateError:o,SymbolDispose:s}=Ze(),u=globalThis.AbortSignal||Nn().AbortSignal,h=globalThis.AbortController||Nn().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||r.Blob,y=typeof m<"u"?function(k){return k instanceof m}:function(k){return!1},b=(k,U)=>{if(k!==void 0&&(k===null||typeof k!="object"||!("aborted"in k)))throw new n(U,"AbortSignal",k)},I=(k,U)=>{if(typeof k!="function")throw new n(U,"Function",k)};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(k){let U=!1;return function(...w){U||(U=!0,k.apply(this,w))}},createDeferredPromise:function(){let k,U;return{promise:new Promise((w,O)=>{k=w,U=O}),resolve:k,reject:U}},promisify(k){return new Promise((U,w)=>{k((O,...D)=>O?w(O):U(...D))})},debuglog(){return function(){}},format:a,inspect:l,types:{isAsyncFunction(k){return k instanceof d},isArrayBufferView(k){return ArrayBuffer.isView(k)}},isBlob:y,deprecate(k,U){return k},addAbortListener:(zr(),$e(kr)).addAbortListener||function(k,U){if(k===void 0)throw new n("signal","AbortSignal",k);b(k,"signal"),I(U,"listener");let w;return k.aborted?queueMicrotask(()=>U()):(k.addEventListener("abort",U,{__proto__:null,once:!0,[i]:!0}),w=()=>{k.removeEventListener("abort",U)}),{__proto__:null,[s](){var O;(O=w)===null||O===void 0||O()}}},AbortSignalAny:u.any||function(k){if(k.length===1)return k[0];let U=new h,w=()=>U.abort();return k.forEach(O=>{b(O,"signals"),O.addEventListener("abort",w,{once:!0})}),U.signal.addEventListener("abort",()=>{k.forEach(O=>O.removeEventListener("abort",w))},{once:!0}),U.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Fn=_e((e,t)=>{ge(),ye(),me();var{ArrayIsArray:r,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:l,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:u,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:m,String:y,StringPrototypeToUpperCase:b,StringPrototypeTrim:I}=Ze(),{hideStackFrames:k,codes:{ERR_SOCKET_BAD_PORT:U,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:O,ERR_OUT_OF_RANGE:D,ERR_UNKNOWN_SIGNAL:F}}=vt(),{normalizeEncoding:M}=At(),{isAsyncFunction:N,isArrayBufferView:K}=At().types,se={};function oe(p){return p===(p|0)}function fe(p){return p===p>>>0}var $=/^[0-7]+$/,ie="must be a 32-bit unsigned integer or an octal string";function ae(p,E,x){if(typeof p>"u"&&(p=x),typeof p=="string"){if(m($,p)===null)throw new O(E,p,ie);p=h(p,8)}return ce(p,E),p}var Z=k((p,E,x=u,S=s)=>{if(typeof p!="number")throw new w(E,"number",p);if(!i(p))throw new D(E,"an integer",p);if(p<x||p>S)throw new D(E,`>= ${x} && <= ${S}`,p)}),pe=k((p,E,x=-2147483648,S=2147483647)=>{if(typeof p!="number")throw new w(E,"number",p);if(!i(p))throw new D(E,"an integer",p);if(p<x||p>S)throw new D(E,`>= ${x} && <= ${S}`,p)}),ce=k((p,E,x=!1)=>{if(typeof p!="number")throw new w(E,"number",p);if(!i(p))throw new D(E,"an integer",p);let S=x?1:0,G=4294967295;if(p<S||p>G)throw new D(E,`>= ${S} && <= ${G}`,p)});function ue(p,E){if(typeof p!="string")throw new w(E,"string",p)}function Ee(p,E,x=void 0,S){if(typeof p!="number")throw new w(E,"number",p);if(x!=null&&p<x||S!=null&&p>S||(x!=null||S!=null)&&o(p))throw new D(E,`${x!=null?`>= ${x}`:""}${x!=null&&S!=null?" && ":""}${S!=null?`<= ${S}`:""}`,p)}var ne=k((p,E,x)=>{if(!a(x,p)){let S="must be one of: "+l(n(x,G=>typeof G=="string"?`'${G}'`:y(G)),", ");throw new O(E,p,S)}});function de(p,E){if(typeof p!="boolean")throw new w(E,"boolean",p)}function j(p,E,x){return p==null||!d(p,E)?x:p[E]}var he=k((p,E,x=null)=>{let S=j(x,"allowArray",!1),G=j(x,"allowFunction",!1);if(!j(x,"nullable",!1)&&p===null||!S&&r(p)||typeof p!="object"&&(!G||typeof p!="function"))throw new w(E,"Object",p)}),be=k((p,E)=>{if(p!=null&&typeof p!="object"&&typeof p!="function")throw new w(E,"a dictionary",p)}),Q=k((p,E,x=0)=>{if(!r(p))throw new w(E,"Array",p);if(p.length<x){let S=`must be longer than ${x}`;throw new O(E,p,S)}});function Ae(p,E){Q(p,E);for(let x=0;x<p.length;x++)ue(p[x],`${E}[${x}]`)}function re(p,E){Q(p,E);for(let x=0;x<p.length;x++)de(p[x],`${E}[${x}]`)}function z(p,E){Q(p,E);for(let x=0;x<p.length;x++){let S=p[x],G=`${E}[${x}]`;if(S==null)throw new w(G,"AbortSignal",S);P(S,G)}}function le(p,E="signal"){if(ue(p,E),se[p]===void 0)throw se[b(p)]!==void 0?new F(p+" (signals must use all capital letters)"):new F(p)}var ee=k((p,E="buffer")=>{if(!K(p))throw new w(E,["Buffer","TypedArray","DataView"],p)});function te(p,E){let x=M(E),S=p.length;if(x==="hex"&&S%2!==0)throw new O("encoding",E,`is invalid for data of length ${S}`)}function A(p,E="Port",x=!0){if(typeof p!="number"&&typeof p!="string"||typeof p=="string"&&I(p).length===0||+p!==+p>>>0||p>65535||p===0&&!x)throw new U(E,p,x);return p|0}var P=k((p,E)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new w(E,"AbortSignal",p)}),W=k((p,E)=>{if(typeof p!="function")throw new w(E,"Function",p)}),C=k((p,E)=>{if(typeof p!="function"||N(p))throw new w(E,"Function",p)}),R=k((p,E)=>{if(p!==void 0)throw new w(E,"undefined",p)});function H(p,E,x){if(!a(x,p))throw new w(E,`('${l(x,"|")}')`,p)}var X=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function J(p,E){if(typeof p>"u"||!m(X,p))throw new O(E,p,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function T(p){if(typeof p=="string")return J(p,"hints"),p;if(r(p)){let E=p.length,x="";if(E===0)return x;for(let S=0;S<E;S++){let G=p[S];J(G,"hints"),x+=G,S!==E-1&&(x+=", ")}return x}throw new O("hints",p,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:oe,isUint32:fe,parseFileMode:ae,validateArray:Q,validateStringArray:Ae,validateBooleanArray:re,validateAbortSignalArray:z,validateBoolean:de,validateBuffer:ee,validateDictionary:be,validateEncoding:te,validateFunction:W,validateInt32:pe,validateInteger:Z,validateNumber:Ee,validateObject:he,validateOneOf:ne,validatePlainFunction:C,validatePort:A,validateSignalName:le,validateString:ue,validateUint32:ce,validateUndefined:R,validateUnion:H,validateAbortSignal:P,validateLinkHeaderValue:T}}),Gr=_e((e,t)=>{ge(),ye(),me();var r=t.exports={},a,l;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=n}catch{a=n}try{typeof clearTimeout=="function"?l=clearTimeout:l=i}catch{l=i}})();function o(U){if(a===setTimeout)return setTimeout(U,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(U,0);try{return a(U,0)}catch{try{return a.call(null,U,0)}catch{return a.call(this,U,0)}}}function s(U){if(l===clearTimeout)return clearTimeout(U);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(U);try{return l(U)}catch{try{return l.call(null,U)}catch{return l.call(this,U)}}}var u=[],h=!1,d,m=-1;function y(){!h||!d||(h=!1,d.length?u=d.concat(u):m=-1,u.length&&b())}function b(){if(!h){var U=o(y);h=!0;for(var w=u.length;w;){for(d=u,u=[];++m<w;)d&&d[m].run();m=-1,w=u.length}d=null,h=!1,s(U)}}r.nextTick=function(U){var w=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)w[O-1]=arguments[O];u.push(new I(U,w)),u.length===1&&!h&&o(b)};function I(U,w){this.fun=U,this.array=w}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function k(){}r.on=k,r.addListener=k,r.once=k,r.off=k,r.removeListener=k,r.removeAllListeners=k,r.emit=k,r.prependListener=k,r.prependOnceListener=k,r.listeners=function(U){return[]},r.binding=function(U){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(U){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),fr=_e((e,t)=>{ge(),ye(),me();var{SymbolAsyncIterator:r,SymbolIterator:a,SymbolFor:l}=Ze(),n=l("nodejs.stream.destroyed"),i=l("nodejs.stream.errored"),o=l("nodejs.stream.readable"),s=l("nodejs.stream.writable"),u=l("nodejs.stream.disturbed"),h=l("nodejs.webstream.isClosedPromise"),d=l("nodejs.webstream.controllerErrorFunction");function m(j,he=!1){var be;return!!(j&&typeof j.pipe=="function"&&typeof j.on=="function"&&(!he||typeof j.pause=="function"&&typeof j.resume=="function")&&(!j._writableState||((be=j._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!j._writableState||j._readableState))}function y(j){var he;return!!(j&&typeof j.write=="function"&&typeof j.on=="function"&&(!j._readableState||((he=j._writableState)===null||he===void 0?void 0:he.writable)!==!1))}function b(j){return!!(j&&typeof j.pipe=="function"&&j._readableState&&typeof j.on=="function"&&typeof j.write=="function")}function I(j){return j&&(j._readableState||j._writableState||typeof j.write=="function"&&typeof j.on=="function"||typeof j.pipe=="function"&&typeof j.on=="function")}function k(j){return!!(j&&!I(j)&&typeof j.pipeThrough=="function"&&typeof j.getReader=="function"&&typeof j.cancel=="function")}function U(j){return!!(j&&!I(j)&&typeof j.getWriter=="function"&&typeof j.abort=="function")}function w(j){return!!(j&&!I(j)&&typeof j.readable=="object"&&typeof j.writable=="object")}function O(j){return k(j)||U(j)||w(j)}function D(j,he){return j==null?!1:he===!0?typeof j[r]=="function":he===!1?typeof j[a]=="function":typeof j[r]=="function"||typeof j[a]=="function"}function F(j){if(!I(j))return null;let he=j._writableState,be=j._readableState,Q=he||be;return!!(j.destroyed||j[n]||Q!=null&&Q.destroyed)}function M(j){if(!y(j))return null;if(j.writableEnded===!0)return!0;let he=j._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function N(j,he){if(!y(j))return null;if(j.writableFinished===!0)return!0;let be=j._writableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.finished)!="boolean"?null:!!(be.finished||he===!1&&be.ended===!0&&be.length===0)}function K(j){if(!m(j))return null;if(j.readableEnded===!0)return!0;let he=j._readableState;return!he||he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function se(j,he){if(!m(j))return null;let be=j._readableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.endEmitted)!="boolean"?null:!!(be.endEmitted||he===!1&&be.ended===!0&&be.length===0)}function oe(j){return j&&j[o]!=null?j[o]:typeof(j==null?void 0:j.readable)!="boolean"?null:F(j)?!1:m(j)&&j.readable&&!se(j)}function fe(j){return j&&j[s]!=null?j[s]:typeof(j==null?void 0:j.writable)!="boolean"?null:F(j)?!1:y(j)&&j.writable&&!M(j)}function $(j,he){return I(j)?F(j)?!0:!((he==null?void 0:he.readable)!==!1&&oe(j)||(he==null?void 0:he.writable)!==!1&&fe(j)):null}function ie(j){var he,be;return I(j)?j.writableErrored?j.writableErrored:(he=(be=j._writableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function ae(j){var he,be;return I(j)?j.readableErrored?j.readableErrored:(he=(be=j._readableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function Z(j){if(!I(j))return null;if(typeof j.closed=="boolean")return j.closed;let he=j._writableState,be=j._readableState;return typeof(he==null?void 0:he.closed)=="boolean"||typeof(be==null?void 0:be.closed)=="boolean"?(he==null?void 0:he.closed)||(be==null?void 0:be.closed):typeof j._closed=="boolean"&&pe(j)?j._closed:null}function pe(j){return typeof j._closed=="boolean"&&typeof j._defaultKeepAlive=="boolean"&&typeof j._removedConnection=="boolean"&&typeof j._removedContLen=="boolean"}function ce(j){return typeof j._sent100=="boolean"&&pe(j)}function ue(j){var he;return typeof j._consuming=="boolean"&&typeof j._dumped=="boolean"&&((he=j.req)===null||he===void 0?void 0:he.upgradeOrConnect)===void 0}function Ee(j){if(!I(j))return null;let he=j._writableState,be=j._readableState,Q=he||be;return!Q&&ce(j)||!!(Q&&Q.autoDestroy&&Q.emitClose&&Q.closed===!1)}function ne(j){var he;return!!(j&&((he=j[u])!==null&&he!==void 0?he:j.readableDidRead||j.readableAborted))}function de(j){var he,be,Q,Ae,re,z,le,ee,te,A;return!!(j&&((he=(be=(Q=(Ae=(re=(z=j[i])!==null&&z!==void 0?z:j.readableErrored)!==null&&re!==void 0?re:j.writableErrored)!==null&&Ae!==void 0?Ae:(le=j._readableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&Q!==void 0?Q:(ee=j._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&be!==void 0?be:(te=j._readableState)===null||te===void 0?void 0:te.errored)!==null&&he!==void 0?he:!((A=j._writableState)===null||A===void 0)&&A.errored))}t.exports={isDestroyed:F,kIsDestroyed:n,isDisturbed:ne,kIsDisturbed:u,isErrored:de,kIsErrored:i,isReadable:oe,kIsReadable:o,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:s,isClosed:Z,isDuplexNodeStream:b,isFinished:$,isIterable:D,isReadableNodeStream:m,isReadableStream:k,isReadableEnded:K,isReadableFinished:se,isReadableErrored:ae,isNodeStream:I,isWebStream:O,isWritable:fe,isWritableNodeStream:y,isWritableStream:U,isWritableEnded:M,isWritableFinished:N,isWritableErrored:ie,isServerRequest:ue,isServerResponse:ce,willEmitClose:Ee,isTransformStream:w}}),Cr=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{AbortError:a,codes:l}=vt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=l,{kEmptyObject:o,once:s}=At(),{validateAbortSignal:u,validateFunction:h,validateObject:d,validateBoolean:m}=Fn(),{Promise:y,PromisePrototypeThen:b,SymbolDispose:I}=Ze(),{isClosed:k,isReadable:U,isReadableNodeStream:w,isReadableStream:O,isReadableFinished:D,isReadableErrored:F,isWritable:M,isWritableNodeStream:N,isWritableStream:K,isWritableFinished:se,isWritableErrored:oe,isNodeStream:fe,willEmitClose:$,kIsClosedPromise:ie}=fr(),ae;function Z(ne){return ne.setHeader&&typeof ne.abort=="function"}var pe=()=>{};function ce(ne,de,j){var he,be;if(arguments.length===2?(j=de,de=o):de==null?de=o:d(de,"options"),h(j,"callback"),u(de.signal,"options.signal"),j=s(j),O(ne)||K(ne))return ue(ne,de,j);if(!fe(ne))throw new n("stream",["ReadableStream","WritableStream","Stream"],ne);let Q=(he=de.readable)!==null&&he!==void 0?he:w(ne),Ae=(be=de.writable)!==null&&be!==void 0?be:N(ne),re=ne._writableState,z=ne._readableState,le=()=>{ne.writable||A()},ee=$(ne)&&w(ne)===Q&&N(ne)===Ae,te=se(ne,!1),A=()=>{te=!0,ne.destroyed&&(ee=!1),!(ee&&(!ne.readable||Q))&&(!Q||P)&&j.call(ne)},P=D(ne,!1),W=()=>{P=!0,ne.destroyed&&(ee=!1),!(ee&&(!ne.writable||Ae))&&(!Ae||te)&&j.call(ne)},C=p=>{j.call(ne,p)},R=k(ne),H=()=>{R=!0;let p=oe(ne)||F(ne);if(p&&typeof p!="boolean")return j.call(ne,p);if(Q&&!P&&w(ne,!0)&&!D(ne,!1))return j.call(ne,new i);if(Ae&&!te&&!se(ne,!1))return j.call(ne,new i);j.call(ne)},X=()=>{R=!0;let p=oe(ne)||F(ne);if(p&&typeof p!="boolean")return j.call(ne,p);j.call(ne)},J=()=>{ne.req.on("finish",A)};Z(ne)?(ne.on("complete",A),ee||ne.on("abort",H),ne.req?J():ne.on("request",J)):Ae&&!re&&(ne.on("end",le),ne.on("close",le)),!ee&&typeof ne.aborted=="boolean"&&ne.on("aborted",H),ne.on("end",W),ne.on("finish",A),de.error!==!1&&ne.on("error",C),ne.on("close",H),R?r.nextTick(H):re!=null&&re.errorEmitted||z!=null&&z.errorEmitted?ee||r.nextTick(X):(!Q&&(!ee||U(ne))&&(te||M(ne)===!1)||!Ae&&(!ee||M(ne))&&(P||U(ne)===!1)||z&&ne.req&&ne.aborted)&&r.nextTick(X);let T=()=>{j=pe,ne.removeListener("aborted",H),ne.removeListener("complete",A),ne.removeListener("abort",H),ne.removeListener("request",J),ne.req&&ne.req.removeListener("finish",A),ne.removeListener("end",le),ne.removeListener("close",le),ne.removeListener("finish",A),ne.removeListener("end",W),ne.removeListener("error",C),ne.removeListener("close",H)};if(de.signal&&!R){let p=()=>{let E=j;T(),E.call(ne,new a(void 0,{cause:de.signal.reason}))};if(de.signal.aborted)r.nextTick(p);else{ae=ae||At().addAbortListener;let E=ae(de.signal,p),x=j;j=s((...S)=>{E[I](),x.apply(ne,S)})}}return T}function ue(ne,de,j){let he=!1,be=pe;if(de.signal)if(be=()=>{he=!0,j.call(ne,new a(void 0,{cause:de.signal.reason}))},de.signal.aborted)r.nextTick(be);else{ae=ae||At().addAbortListener;let Ae=ae(de.signal,be),re=j;j=s((...z)=>{Ae[I](),re.apply(ne,z)})}let Q=(...Ae)=>{he||r.nextTick(()=>j.apply(ne,Ae))};return b(ne[ie].promise,Q,Q),pe}function Ee(ne,de){var j;let he=!1;return de===null&&(de=o),(j=de)!==null&&j!==void 0&&j.cleanup&&(m(de.cleanup,"cleanup"),he=de.cleanup),new y((be,Q)=>{let Ae=ce(ne,de,re=>{he&&Ae(),re?Q(re):be()})})}t.exports=ce,t.exports.finished=Ee}),hn=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:l},AbortError:n}=vt(),{Symbol:i}=Ze(),{kIsDestroyed:o,isDestroyed:s,isFinished:u,isServerRequest:h}=fr(),d=i("kDestroy"),m=i("kConstruct");function y($,ie,ae){$&&($.stack,ie&&!ie.errored&&(ie.errored=$),ae&&!ae.errored&&(ae.errored=$))}function b($,ie){let ae=this._readableState,Z=this._writableState,pe=Z||ae;return Z!=null&&Z.destroyed||ae!=null&&ae.destroyed?(typeof ie=="function"&&ie(),this):(y($,Z,ae),Z&&(Z.destroyed=!0),ae&&(ae.destroyed=!0),pe.constructed?I(this,$,ie):this.once(d,function(ce){I(this,a(ce,$),ie)}),this)}function I($,ie,ae){let Z=!1;function pe(ce){if(Z)return;Z=!0;let ue=$._readableState,Ee=$._writableState;y(ce,Ee,ue),Ee&&(Ee.closed=!0),ue&&(ue.closed=!0),typeof ae=="function"&&ae(ce),ce?r.nextTick(k,$,ce):r.nextTick(U,$)}try{$._destroy(ie||null,pe)}catch(ce){pe(ce)}}function k($,ie){w($,ie),U($)}function U($){let ie=$._readableState,ae=$._writableState;ae&&(ae.closeEmitted=!0),ie&&(ie.closeEmitted=!0),(ae!=null&&ae.emitClose||ie!=null&&ie.emitClose)&&$.emit("close")}function w($,ie){let ae=$._readableState,Z=$._writableState;Z!=null&&Z.errorEmitted||ae!=null&&ae.errorEmitted||(Z&&(Z.errorEmitted=!0),ae&&(ae.errorEmitted=!0),$.emit("error",ie))}function O(){let $=this._readableState,ie=this._writableState;$&&($.constructed=!0,$.closed=!1,$.closeEmitted=!1,$.destroyed=!1,$.errored=null,$.errorEmitted=!1,$.reading=!1,$.ended=$.readable===!1,$.endEmitted=$.readable===!1),ie&&(ie.constructed=!0,ie.destroyed=!1,ie.closed=!1,ie.closeEmitted=!1,ie.errored=null,ie.errorEmitted=!1,ie.finalCalled=!1,ie.prefinished=!1,ie.ended=ie.writable===!1,ie.ending=ie.writable===!1,ie.finished=ie.writable===!1)}function D($,ie,ae){let Z=$._readableState,pe=$._writableState;if(pe!=null&&pe.destroyed||Z!=null&&Z.destroyed)return this;Z!=null&&Z.autoDestroy||pe!=null&&pe.autoDestroy?$.destroy(ie):ie&&(ie.stack,pe&&!pe.errored&&(pe.errored=ie),Z&&!Z.errored&&(Z.errored=ie),ae?r.nextTick(w,$,ie):w($,ie))}function F($,ie){if(typeof $._construct!="function")return;let ae=$._readableState,Z=$._writableState;ae&&(ae.constructed=!1),Z&&(Z.constructed=!1),$.once(m,ie),!($.listenerCount(m)>1)&&r.nextTick(M,$)}function M($){let ie=!1;function ae(Z){if(ie){D($,Z??new l);return}ie=!0;let pe=$._readableState,ce=$._writableState,ue=ce||pe;pe&&(pe.constructed=!0),ce&&(ce.constructed=!0),ue.destroyed?$.emit(d,Z):Z?D($,Z,!0):r.nextTick(N,$)}try{$._construct(Z=>{r.nextTick(ae,Z)})}catch(Z){r.nextTick(ae,Z)}}function N($){$.emit(m)}function K($){return($==null?void 0:$.setHeader)&&typeof $.abort=="function"}function se($){$.emit("close")}function oe($,ie){$.emit("error",ie),r.nextTick(se,$)}function fe($,ie){!$||s($)||(!ie&&!u($)&&(ie=new n),h($)?($.socket=null,$.destroy(ie)):K($)?$.abort():K($.req)?$.req.abort():typeof $.destroy=="function"?$.destroy(ie):typeof $.close=="function"?$.close():ie?r.nextTick(oe,$,ie):r.nextTick(se,$),$.destroyed||($[o]=!0))}t.exports={construct:F,destroyer:fe,destroy:b,undestroy:O,errorOrDestroy:D}}),da=_e((e,t)=>{ge(),ye(),me();var{ArrayIsArray:r,ObjectSetPrototypeOf:a}=Ze(),{EventEmitter:l}=(zr(),$e(kr));function n(o){l.call(this,o)}a(n.prototype,l.prototype),a(n,l),n.prototype.pipe=function(o,s){let u=this;function h(U){o.writable&&o.write(U)===!1&&u.pause&&u.pause()}u.on("data",h);function d(){u.readable&&u.resume&&u.resume()}o.on("drain",d),!o._isStdio&&(!s||s.end!==!1)&&(u.on("end",y),u.on("close",b));let m=!1;function y(){m||(m=!0,o.end())}function b(){m||(m=!0,typeof o.destroy=="function"&&o.destroy())}function I(U){k(),l.listenerCount(this,"error")===0&&this.emit("error",U)}i(u,"error",I),i(o,"error",I);function k(){u.removeListener("data",h),o.removeListener("drain",d),u.removeListener("end",y),u.removeListener("close",b),u.removeListener("error",I),o.removeListener("error",I),u.removeListener("end",k),u.removeListener("close",k),o.removeListener("close",k)}return u.on("end",k),u.on("close",k),o.on("close",k),o.emit("pipe",u),o};function i(o,s,u){if(typeof o.prependListener=="function")return o.prependListener(s,u);!o._events||!o._events[s]?o.on(s,u):r(o._events[s])?o._events[s].unshift(u):o._events[s]=[u,o._events[s]]}t.exports={Stream:n,prependListener:i}}),Ui=_e((e,t)=>{ge(),ye(),me();var{SymbolDispose:r}=Ze(),{AbortError:a,codes:l}=vt(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=fr(),s=Cr(),{ERR_INVALID_ARG_TYPE:u}=l,h,d=(m,y)=>{if(typeof m!="object"||!("aborted"in m))throw new u(y,"AbortSignal",m)};t.exports.addAbortSignal=function(m,y){if(d(m,"signal"),!n(y)&&!i(y))throw new u("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(m,y){if(typeof m!="object"||!("aborted"in m))return y;let b=n(y)?()=>{y.destroy(new a(void 0,{cause:m.reason}))}:()=>{y[o](new a(void 0,{cause:m.reason}))};if(m.aborted)b();else{h=h||At().addAbortListener;let I=h(m,b);s(y,I[r])}return y}}),bp=_e((e,t)=>{ge(),ye(),me();var{StringPrototypeSlice:r,SymbolIterator:a,TypedArrayPrototypeSet:l,Uint8Array:n}=Ze(),{Buffer:i}=(ot(),$e(st)),{inspect:o}=At();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){let u={data:s,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(s){let u={data:s,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let u=this.head,h=""+u.data;for(;(u=u.next)!==null;)h+=s+u.data;return h}concat(s){if(this.length===0)return i.alloc(0);let u=i.allocUnsafe(s>>>0),h=this.head,d=0;for(;h;)l(u,h.data,d),d+=h.data.length,h=h.next;return u}consume(s,u){let h=this.head.data;if(s<h.length){let d=h.slice(0,s);return this.head.data=h.slice(s),d}return s===h.length?this.shift():u?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[a](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let u="",h=this.head,d=0;do{let m=h.data;if(s>m.length)u+=m,s-=m.length;else{s===m.length?(u+=m,++d,h.next?this.head=h.next:this.head=this.tail=null):(u+=r(m,0,s),this.head=h,h.data=r(m,s));break}++d}while((h=h.next)!==null);return this.length-=d,u}_getBuffer(s){let u=i.allocUnsafe(s),h=s,d=this.head,m=0;do{let y=d.data;if(s>y.length)l(u,y,h-s),s-=y.length;else{s===y.length?(l(u,y,h-s),++m,d.next?this.head=d.next:this.head=this.tail=null):(l(u,new n(y.buffer,y.byteOffset,s),h-s),this.head=d,d.data=y.slice(s));break}++m}while((d=d.next)!==null);return this.length-=m,u}[Symbol.for("nodejs.util.inspect.custom")](s,u){return o(this,{...u,depth:0,customInspect:!1})}}}),Mi=_e((e,t)=>{ge(),ye(),me();var{MathFloor:r,NumberIsInteger:a}=Ze(),{validateInteger:l}=Fn(),{ERR_INVALID_ARG_VALUE:n}=vt().codes,i=16*1024,o=16;function s(m,y,b){return m.highWaterMark!=null?m.highWaterMark:y?m[b]:null}function u(m){return m?o:i}function h(m,y){l(y,"value",0),m?o=y:i=y}function d(m,y,b,I){let k=s(y,I,b);if(k!=null){if(!a(k)||k<0){let U=I?`options.${b}`:"options.highWaterMark";throw new n(U,k)}return r(k)}return u(m.objectMode)}t.exports={getHighWaterMark:d,getDefaultHighWaterMark:u,setDefaultHighWaterMark:h}}),wp=_e((e,t)=>{ge(),ye(),me();var r=(ot(),$e(st)),a=r.Buffer;function l(i,o){for(var s in i)o[s]=i[s]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(l(r,e),e.Buffer=n);function n(i,o,s){return a(i,o,s)}n.prototype=Object.create(a.prototype),l(a,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return a(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var u=a(i);return o!==void 0?typeof s=="string"?u.fill(o,s):u.fill(o):u.fill(0),u},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return a(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(i)}}),vp=_e(e=>{ge(),ye(),me();var t=wp().Buffer,r=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(w){if(!w)return"utf8";for(var O;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(O)return;w=(""+w).toLowerCase(),O=!0}}function l(w){var O=a(w);if(typeof O!="string"&&(t.isEncoding===r||!r(w)))throw new Error("Unknown encoding: "+w);return O||w}e.StringDecoder=n;function n(w){this.encoding=l(w);var O;switch(this.encoding){case"utf16le":this.text=m,this.end=y,O=4;break;case"utf8":this.fillLast=u,O=4;break;case"base64":this.text=b,this.end=I,O=3;break;default:this.write=k,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}n.prototype.write=function(w){if(w.length===0)return"";var O,D;if(this.lastNeed){if(O=this.fillLast(w),O===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<w.length?O?O+this.text(w,D):this.text(w,D):O||""},n.prototype.end=d,n.prototype.text=h,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function i(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function o(w,O,D){var F=O.length-1;if(F<D)return 0;var M=i(O[F]);return M>=0?(M>0&&(w.lastNeed=M-1),M):--F<D||M===-2?0:(M=i(O[F]),M>=0?(M>0&&(w.lastNeed=M-2),M):--F<D||M===-2?0:(M=i(O[F]),M>=0?(M>0&&(M===2?M=0:w.lastNeed=M-3),M):0))}function s(w,O,D){if((O[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return w.lastNeed=2,"�"}}function u(w){var O=this.lastTotal-this.lastNeed,D=s(this,w);if(D!==void 0)return D;if(this.lastNeed<=w.length)return w.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,O,0,w.length),this.lastNeed-=w.length}function h(w,O){var D=o(this,w,O);if(!this.lastNeed)return w.toString("utf8",O);this.lastTotal=D;var F=w.length-(D-this.lastNeed);return w.copy(this.lastChar,0,F),w.toString("utf8",O,F)}function d(w){var O=w&&w.length?this.write(w):"";return this.lastNeed?O+"�":O}function m(w,O){if((w.length-O)%2===0){var D=w.toString("utf16le",O);if(D){var F=D.charCodeAt(D.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",O,w.length-1)}function y(w){var O=w&&w.length?this.write(w):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,D)}return O}function b(w,O){var D=(w.length-O)%3;return D===0?w.toString("base64",O):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",O,w.length-D))}function I(w){var O=w&&w.length?this.write(w):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(w){return w.toString(this.encoding)}function U(w){return w&&w.length?this.write(w):""}}),uc=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{PromisePrototypeThen:a,SymbolAsyncIterator:l,SymbolIterator:n}=Ze(),{Buffer:i}=(ot(),$e(st)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=vt().codes;function u(h,d,m){let y;if(typeof d=="string"||d instanceof i)return new h({objectMode:!0,...m,read(){this.push(d),this.push(null)}});let b;if(d&&d[l])b=!0,y=d[l]();else if(d&&d[n])b=!1,y=d[n]();else throw new o("iterable",["Iterable"],d);let I=new h({objectMode:!0,highWaterMark:1,...m}),k=!1;I._read=function(){k||(k=!0,w())},I._destroy=function(O,D){a(U(O),()=>r.nextTick(D,O),F=>r.nextTick(D,F||O))};async function U(O){let D=O!=null,F=typeof y.throw=="function";if(D&&F){let{value:M,done:N}=await y.throw(O);if(await M,N)return}if(typeof y.return=="function"){let{value:M}=await y.return();await M}}async function w(){for(;;){try{let{value:O,done:D}=b?await y.next():y.next();if(D)I.push(null);else{let F=O&&typeof O.then=="function"?await O:O;if(F===null)throw k=!1,new s;if(I.push(F))continue;k=!1}}catch(O){I.destroy(O)}break}}return I}t.exports=u}),Bi=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{ArrayPrototypeIndexOf:a,NumberIsInteger:l,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:u,Promise:h,SafeSet:d,SymbolAsyncDispose:m,SymbolAsyncIterator:y,Symbol:b}=Ze();t.exports=S,S.ReadableState=x;var{EventEmitter:I}=(zr(),$e(kr)),{Stream:k,prependListener:U}=da(),{Buffer:w}=(ot(),$e(st)),{addAbortSignal:O}=Ui(),D=Cr(),F=At().debuglog("stream",B=>{F=B}),M=bp(),N=hn(),{getHighWaterMark:K,getDefaultHighWaterMark:se}=Mi(),{aggregateTwoErrors:oe,codes:{ERR_INVALID_ARG_TYPE:fe,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:ie,ERR_STREAM_PUSH_AFTER_EOF:ae,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Z},AbortError:pe}=vt(),{validateObject:ce}=Fn(),ue=b("kPaused"),{StringDecoder:Ee}=vp(),ne=uc();u(S.prototype,k.prototype),u(S,k);var de=()=>{},{errorOrDestroy:j}=N,he=1,be=2,Q=4,Ae=8,re=16,z=32,le=64,ee=128,te=256,A=512,P=1024,W=2048,C=4096,R=8192,H=16384,X=32768,J=65536,T=1<<17,p=1<<18;function E(B){return{enumerable:!1,get(){return(this.state&B)!==0},set(V){V?this.state|=B:this.state&=~B}}}o(x.prototype,{objectMode:E(he),ended:E(be),endEmitted:E(Q),reading:E(Ae),constructed:E(re),sync:E(z),needReadable:E(le),emittedReadable:E(ee),readableListening:E(te),resumeScheduled:E(A),errorEmitted:E(P),emitClose:E(W),autoDestroy:E(C),destroyed:E(R),closed:E(H),closeEmitted:E(X),multiAwaitDrain:E(J),readingMore:E(T),dataEmitted:E(p)});function x(B,V,Se){typeof Se!="boolean"&&(Se=V instanceof ur()),this.state=W|C|re|z,B&&B.objectMode&&(this.state|=he),Se&&B&&B.readableObjectMode&&(this.state|=he),this.highWaterMark=B?K(this,B,"readableHighWaterMark",Se):se(!1),this.buffer=new M,this.length=0,this.pipes=[],this.flowing=null,this[ue]=null,B&&B.emitClose===!1&&(this.state&=~W),B&&B.autoDestroy===!1&&(this.state&=~C),this.errored=null,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,B&&B.encoding&&(this.decoder=new Ee(B.encoding),this.encoding=B.encoding)}function S(B){if(!(this instanceof S))return new S(B);let V=this instanceof ur();this._readableState=new x(B,this,V),B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&!V&&O(B.signal,this)),k.call(this,B),N.construct(this,()=>{this._readableState.needReadable&&we(this,this._readableState)})}S.prototype.destroy=N.destroy,S.prototype._undestroy=N.undestroy,S.prototype._destroy=function(B,V){V(B)},S.prototype[I.captureRejectionSymbol]=function(B){this.destroy(B)},S.prototype[m]=function(){let B;return this.destroyed||(B=this.readableEnded?null:new pe,this.destroy(B)),new h((V,Se)=>D(this,Te=>Te&&Te!==B?Se(Te):V(null)))},S.prototype.push=function(B,V){return G(this,B,V,!1)},S.prototype.unshift=function(B,V){return G(this,B,V,!0)};function G(B,V,Se,Te){F("readableAddChunk",V);let ke=B._readableState,ct;if((ke.state&he)===0&&(typeof V=="string"?(Se=Se||ke.defaultEncoding,ke.encoding!==Se&&(Te&&ke.encoding?V=w.from(V,Se).toString(ke.encoding):(V=w.from(V,Se),Se=""))):V instanceof w?Se="":k._isUint8Array(V)?(V=k._uint8ArrayToBuffer(V),Se=""):V!=null&&(ct=new fe("chunk",["string","Buffer","Uint8Array"],V))),ct)j(B,ct);else if(V===null)ke.state&=~Ae,_(B,ke);else if((ke.state&he)!==0||V&&V.length>0)if(Te)if((ke.state&Q)!==0)j(B,new Z);else{if(ke.destroyed||ke.errored)return!1;c(B,ke,V,!0)}else if(ke.ended)j(B,new ae);else{if(ke.destroyed||ke.errored)return!1;ke.state&=~Ae,ke.decoder&&!Se?(V=ke.decoder.write(V),ke.objectMode||V.length!==0?c(B,ke,V,!1):we(B,ke)):c(B,ke,V,!1)}else Te||(ke.state&=~Ae,we(B,ke));return!ke.ended&&(ke.length<ke.highWaterMark||ke.length===0)}function c(B,V,Se,Te){V.flowing&&V.length===0&&!V.sync&&B.listenerCount("data")>0?((V.state&J)!==0?V.awaitDrainWriters.clear():V.awaitDrainWriters=null,V.dataEmitted=!0,B.emit("data",Se)):(V.length+=V.objectMode?1:Se.length,Te?V.buffer.unshift(Se):V.buffer.push(Se),(V.state&le)!==0&&L(B)),we(B,V)}S.prototype.isPaused=function(){let B=this._readableState;return B[ue]===!0||B.flowing===!1},S.prototype.setEncoding=function(B){let V=new Ee(B);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;let Se=this._readableState.buffer,Te="";for(let ke of Se)Te+=V.write(ke);return Se.clear(),Te!==""&&Se.push(Te),this._readableState.length=Te.length,this};var f=1073741824;function g(B){if(B>f)throw new ie("size","<= 1GiB",B);return B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++,B}function v(B,V){return B<=0||V.length===0&&V.ended?0:(V.state&he)!==0?1:n(B)?V.flowing&&V.length?V.buffer.first().length:V.length:B<=V.length?B:V.ended?V.length:0}S.prototype.read=function(B){F("read",B),B===void 0?B=NaN:l(B)||(B=i(B,10));let V=this._readableState,Se=B;if(B>V.highWaterMark&&(V.highWaterMark=g(B)),B!==0&&(V.state&=~ee),B===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return F("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?Ve(this):L(this),null;if(B=v(B,V),B===0&&V.ended)return V.length===0&&Ve(this),null;let Te=(V.state&le)!==0;if(F("need readable",Te),(V.length===0||V.length-B<V.highWaterMark)&&(Te=!0,F("length less than watermark",Te)),V.ended||V.reading||V.destroyed||V.errored||!V.constructed)Te=!1,F("reading, ended or constructing",Te);else if(Te){F("do read"),V.state|=Ae|z,V.length===0&&(V.state|=le);try{this._read(V.highWaterMark)}catch(ct){j(this,ct)}V.state&=~z,V.reading||(B=v(Se,V))}let ke;return B>0?ke=Me(B,V):ke=null,ke===null?(V.needReadable=V.length<=V.highWaterMark,B=0):(V.length-=B,V.multiAwaitDrain?V.awaitDrainWriters.clear():V.awaitDrainWriters=null),V.length===0&&(V.ended||(V.needReadable=!0),Se!==B&&V.ended&&Ve(this)),ke!==null&&!V.errorEmitted&&!V.closeEmitted&&(V.dataEmitted=!0,this.emit("data",ke)),ke};function _(B,V){if(F("onEofChunk"),!V.ended){if(V.decoder){let Se=V.decoder.end();Se&&Se.length&&(V.buffer.push(Se),V.length+=V.objectMode?1:Se.length)}V.ended=!0,V.sync?L(B):(V.needReadable=!1,V.emittedReadable=!0,Y(B))}}function L(B){let V=B._readableState;F("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(F("emitReadable",V.flowing),V.emittedReadable=!0,r.nextTick(Y,B))}function Y(B){let V=B._readableState;F("emitReadable_",V.destroyed,V.length,V.ended),!V.destroyed&&!V.errored&&(V.length||V.ended)&&(B.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,Tt(B)}function we(B,V){!V.readingMore&&V.constructed&&(V.readingMore=!0,r.nextTick(ve,B,V))}function ve(B,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){let Se=V.length;if(F("maybeReadMore read 0"),B.read(0),Se===V.length)break}V.readingMore=!1}S.prototype._read=function(B){throw new $("_read()")},S.prototype.pipe=function(B,V){let Se=this,Te=this._readableState;Te.pipes.length===1&&(Te.multiAwaitDrain||(Te.multiAwaitDrain=!0,Te.awaitDrainWriters=new d(Te.awaitDrainWriters?[Te.awaitDrainWriters]:[]))),Te.pipes.push(B),F("pipe count=%d opts=%j",Te.pipes.length,V);let ke=(!V||V.end!==!1)&&B!==r.stdout&&B!==r.stderr?Ct:dn;Te.endEmitted?r.nextTick(ke):Se.once("end",ke),B.on("unpipe",ct);function ct(Rr,Gt){F("onunpipe"),Rr===Se&&Gt&&Gt.hasUnpiped===!1&&(Gt.hasUnpiped=!0,_h())}function Ct(){F("onend"),B.end()}let Pr,wa=!1;function _h(){F("cleanup"),B.removeListener("close",Di),B.removeListener("finish",Fi),Pr&&B.removeListener("drain",Pr),B.removeListener("error",ji),B.removeListener("unpipe",ct),Se.removeListener("end",Ct),Se.removeListener("end",dn),Se.removeListener("data",_a),wa=!0,Pr&&Te.awaitDrainWriters&&(!B._writableState||B._writableState.needDrain)&&Pr()}function va(){wa||(Te.pipes.length===1&&Te.pipes[0]===B?(F("false write response, pause",0),Te.awaitDrainWriters=B,Te.multiAwaitDrain=!1):Te.pipes.length>1&&Te.pipes.includes(B)&&(F("false write response, pause",Te.awaitDrainWriters.size),Te.awaitDrainWriters.add(B)),Se.pause()),Pr||(Pr=xe(Se,B),B.on("drain",Pr))}Se.on("data",_a);function _a(Rr){F("ondata");let Gt=B.write(Rr);F("dest.write",Gt),Gt===!1&&va()}function ji(Rr){if(F("onerror",Rr),dn(),B.removeListener("error",ji),B.listenerCount("error")===0){let Gt=B._writableState||B._readableState;Gt&&!Gt.errorEmitted?j(B,Rr):B.emit("error",Rr)}}U(B,"error",ji);function Di(){B.removeListener("finish",Fi),dn()}B.once("close",Di);function Fi(){F("onfinish"),B.removeListener("close",Di),dn()}B.once("finish",Fi);function dn(){F("unpipe"),Se.unpipe(B)}return B.emit("pipe",Se),B.writableNeedDrain===!0?va():Te.flowing||(F("pipe resume"),Se.resume()),B};function xe(B,V){return function(){let Se=B._readableState;Se.awaitDrainWriters===V?(F("pipeOnDrain",1),Se.awaitDrainWriters=null):Se.multiAwaitDrain&&(F("pipeOnDrain",Se.awaitDrainWriters.size),Se.awaitDrainWriters.delete(V)),(!Se.awaitDrainWriters||Se.awaitDrainWriters.size===0)&&B.listenerCount("data")&&B.resume()}}S.prototype.unpipe=function(B){let V=this._readableState,Se={hasUnpiped:!1};if(V.pipes.length===0)return this;if(!B){let ke=V.pipes;V.pipes=[],this.pause();for(let ct=0;ct<ke.length;ct++)ke[ct].emit("unpipe",this,{hasUnpiped:!1});return this}let Te=a(V.pipes,B);return Te===-1?this:(V.pipes.splice(Te,1),V.pipes.length===0&&this.pause(),B.emit("unpipe",this,Se),this)},S.prototype.on=function(B,V){let Se=k.prototype.on.call(this,B,V),Te=this._readableState;return B==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):B==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,F("on readable",Te.length,Te.reading),Te.length?L(this):Te.reading||r.nextTick(Pe,this)),Se},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(B,V){let Se=k.prototype.removeListener.call(this,B,V);return B==="readable"&&r.nextTick(Ce,this),Se},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(B){let V=k.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&r.nextTick(Ce,this),V};function Ce(B){let V=B._readableState;V.readableListening=B.listenerCount("readable")>0,V.resumeScheduled&&V[ue]===!1?V.flowing=!0:B.listenerCount("data")>0?B.resume():V.readableListening||(V.flowing=null)}function Pe(B){F("readable nexttick read 0"),B.read(0)}S.prototype.resume=function(){let B=this._readableState;return B.flowing||(F("resume"),B.flowing=!B.readableListening,jt(this,B)),B[ue]=!1,this};function jt(B,V){V.resumeScheduled||(V.resumeScheduled=!0,r.nextTick(_t,B,V))}function _t(B,V){F("resume",V.reading),V.reading||B.read(0),V.resumeScheduled=!1,B.emit("resume"),Tt(B),V.flowing&&!V.reading&&B.read(0)}S.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ue]=!0,this};function Tt(B){let V=B._readableState;for(F("flow",V.flowing);V.flowing&&B.read()!==null;);}S.prototype.wrap=function(B){let V=!1;B.on("data",Te=>{!this.push(Te)&&B.pause&&(V=!0,B.pause())}),B.on("end",()=>{this.push(null)}),B.on("error",Te=>{j(this,Te)}),B.on("close",()=>{this.destroy()}),B.on("destroy",()=>{this.destroy()}),this._read=()=>{V&&B.resume&&(V=!1,B.resume())};let Se=s(B);for(let Te=1;Te<Se.length;Te++){let ke=Se[Te];this[ke]===void 0&&typeof B[ke]=="function"&&(this[ke]=B[ke].bind(B))}return this},S.prototype[y]=function(){return Ye(this)},S.prototype.iterator=function(B){return B!==void 0&&ce(B,"options"),Ye(this,B)};function Ye(B,V){typeof B.read!="function"&&(B=S.wrap(B,{objectMode:!0}));let Se=it(B,V);return Se.stream=B,Se}async function*it(B,V){let Se=de;function Te(Ct){this===B?(Se(),Se=de):Se=Ct}B.on("readable",Te);let ke,ct=D(B,{writable:!1},Ct=>{ke=Ct?oe(ke,Ct):null,Se(),Se=de});try{for(;;){let Ct=B.destroyed?null:B.read();if(Ct!==null)yield Ct;else{if(ke)throw ke;if(ke===null)return;await new h(Te)}}}catch(Ct){throw ke=oe(ke,Ct),ke}finally{(ke||(V==null?void 0:V.destroyOnReturn)!==!1)&&(ke===void 0||B._readableState.autoDestroy)?N.destroyer(B,null):(B.off("readable",Te),ct())}}o(S.prototype,{readable:{__proto__:null,get(){let B=this._readableState;return!!B&&B.readable!==!1&&!B.destroyed&&!B.errorEmitted&&!B.endEmitted},set(B){this._readableState&&(this._readableState.readable=!!B)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(B){this._readableState&&(this._readableState.destroyed=B)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(x.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ue]!==!1},set(B){this[ue]=!!B}}}),S._fromList=Me;function Me(B,V){if(V.length===0)return null;let Se;return V.objectMode?Se=V.buffer.shift():!B||B>=V.length?(V.decoder?Se=V.buffer.join(""):V.buffer.length===1?Se=V.buffer.first():Se=V.buffer.concat(V.length),V.buffer.clear()):Se=V.buffer.consume(B,V.decoder),Se}function Ve(B){let V=B._readableState;F("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,r.nextTick(ut,V,B))}function ut(B,V){if(F("endReadableNT",B.endEmitted,B.length),!B.errored&&!B.closeEmitted&&!B.endEmitted&&B.length===0){if(B.endEmitted=!0,V.emit("end"),V.writable&&V.allowHalfOpen===!1)r.nextTick(nt,V);else if(B.autoDestroy){let Se=V._writableState;(!Se||Se.autoDestroy&&(Se.finished||Se.writable===!1))&&V.destroy()}}}function nt(B){B.writable&&!B.writableEnded&&!B.destroyed&&B.end()}S.from=function(B,V){return ne(S,B,V)};var gt;function gr(){return gt===void 0&&(gt={}),gt}S.fromWeb=function(B,V){return gr().newStreamReadableFromReadableStream(B,V)},S.toWeb=function(B,V){return gr().newReadableStreamFromStreamReadable(B,V)},S.wrap=function(B,V){var Se,Te;return new S({objectMode:(Se=(Te=B.readableObjectMode)!==null&&Te!==void 0?Te:B.objectMode)!==null&&Se!==void 0?Se:!0,...V,destroy(ke,ct){N.destroyer(B,ke),ct(ke)}}).wrap(B)}}),pa=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{ArrayPrototypeSlice:a,Error:l,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:u,Symbol:h,SymbolHasInstance:d}=Ze();t.exports=ce,ce.WritableState=Z;var{EventEmitter:m}=(zr(),$e(kr)),y=da().Stream,{Buffer:b}=(ot(),$e(st)),I=hn(),{addAbortSignal:k}=Ui(),{getHighWaterMark:U,getDefaultHighWaterMark:w}=Mi(),{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_MULTIPLE_CALLBACK:F,ERR_STREAM_CANNOT_PIPE:M,ERR_STREAM_DESTROYED:N,ERR_STREAM_ALREADY_FINISHED:K,ERR_STREAM_NULL_VALUES:se,ERR_STREAM_WRITE_AFTER_END:oe,ERR_UNKNOWN_ENCODING:fe}=vt().codes,{errorOrDestroy:$}=I;s(ce.prototype,y.prototype),s(ce,y);function ie(){}var ae=h("kOnFinished");function Z(C,R,H){typeof H!="boolean"&&(H=R instanceof ur()),this.objectMode=!!(C&&C.objectMode),H&&(this.objectMode=this.objectMode||!!(C&&C.writableObjectMode)),this.highWaterMark=C?U(this,C,"writableHighWaterMark",H):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let X=!!(C&&C.decodeStrings===!1);this.decodeStrings=!X,this.defaultEncoding=C&&C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,R),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,pe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!C||C.emitClose!==!1,this.autoDestroy=!C||C.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ae]=[]}function pe(C){C.buffered=[],C.bufferedIndex=0,C.allBuffers=!0,C.allNoop=!0}Z.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},i(Z.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ce(C){let R=this instanceof ur();if(!R&&!n(ce,this))return new ce(C);this._writableState=new Z(C,this,R),C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final),typeof C.construct=="function"&&(this._construct=C.construct),C.signal&&k(C.signal,this)),y.call(this,C),I.construct(this,()=>{let H=this._writableState;H.writing||Ae(this,H),ee(this,H)})}i(ce,d,{__proto__:null,value:function(C){return n(this,C)?!0:this!==ce?!1:C&&C._writableState instanceof Z}}),ce.prototype.pipe=function(){$(this,new M)};function ue(C,R,H,X){let J=C._writableState;if(typeof H=="function")X=H,H=J.defaultEncoding;else{if(!H)H=J.defaultEncoding;else if(H!=="buffer"&&!b.isEncoding(H))throw new fe(H);typeof X!="function"&&(X=ie)}if(R===null)throw new se;if(!J.objectMode)if(typeof R=="string")J.decodeStrings!==!1&&(R=b.from(R,H),H="buffer");else if(R instanceof b)H="buffer";else if(y._isUint8Array(R))R=y._uint8ArrayToBuffer(R),H="buffer";else throw new O("chunk",["string","Buffer","Uint8Array"],R);let T;return J.ending?T=new oe:J.destroyed&&(T=new N("write")),T?(r.nextTick(X,T),$(C,T,!0),T):(J.pendingcb++,Ee(C,J,R,H,X))}ce.prototype.write=function(C,R,H){return ue(this,C,R,H)===!0},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){let C=this._writableState;C.corked&&(C.corked--,C.writing||Ae(this,C))},ce.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=u(C)),!b.isEncoding(C))throw new fe(C);return this._writableState.defaultEncoding=C,this};function Ee(C,R,H,X,J){let T=R.objectMode?1:H.length;R.length+=T;let p=R.length<R.highWaterMark;return p||(R.needDrain=!0),R.writing||R.corked||R.errored||!R.constructed?(R.buffered.push({chunk:H,encoding:X,callback:J}),R.allBuffers&&X!=="buffer"&&(R.allBuffers=!1),R.allNoop&&J!==ie&&(R.allNoop=!1)):(R.writelen=T,R.writecb=J,R.writing=!0,R.sync=!0,C._write(H,X,R.onwrite),R.sync=!1),p&&!R.errored&&!R.destroyed}function ne(C,R,H,X,J,T,p){R.writelen=X,R.writecb=p,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new N("write")):H?C._writev(J,R.onwrite):C._write(J,T,R.onwrite),R.sync=!1}function de(C,R,H,X){--R.pendingcb,X(H),Q(R),$(C,H)}function j(C,R){let H=C._writableState,X=H.sync,J=H.writecb;if(typeof J!="function"){$(C,new F);return}H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0,R?(R.stack,H.errored||(H.errored=R),C._readableState&&!C._readableState.errored&&(C._readableState.errored=R),X?r.nextTick(de,C,H,R,J):de(C,H,R,J)):(H.buffered.length>H.bufferedIndex&&Ae(C,H),X?H.afterWriteTickInfo!==null&&H.afterWriteTickInfo.cb===J?H.afterWriteTickInfo.count++:(H.afterWriteTickInfo={count:1,cb:J,stream:C,state:H},r.nextTick(he,H.afterWriteTickInfo)):be(C,H,1,J))}function he({stream:C,state:R,count:H,cb:X}){return R.afterWriteTickInfo=null,be(C,R,H,X)}function be(C,R,H,X){for(!R.ending&&!C.destroyed&&R.length===0&&R.needDrain&&(R.needDrain=!1,C.emit("drain"));H-- >0;)R.pendingcb--,X();R.destroyed&&Q(R),ee(C,R)}function Q(C){if(C.writing)return;for(let J=C.bufferedIndex;J<C.buffered.length;++J){var R;let{chunk:T,callback:p}=C.buffered[J],E=C.objectMode?1:T.length;C.length-=E,p((R=C.errored)!==null&&R!==void 0?R:new N("write"))}let H=C[ae].splice(0);for(let J=0;J<H.length;J++){var X;H[J]((X=C.errored)!==null&&X!==void 0?X:new N("end"))}pe(C)}function Ae(C,R){if(R.corked||R.bufferProcessing||R.destroyed||!R.constructed)return;let{buffered:H,bufferedIndex:X,objectMode:J}=R,T=H.length-X;if(!T)return;let p=X;if(R.bufferProcessing=!0,T>1&&C._writev){R.pendingcb-=T-1;let E=R.allNoop?ie:S=>{for(let G=p;G<H.length;++G)H[G].callback(S)},x=R.allNoop&&p===0?H:a(H,p);x.allBuffers=R.allBuffers,ne(C,R,!0,R.length,x,"",E),pe(R)}else{do{let{chunk:E,encoding:x,callback:S}=H[p];H[p++]=null;let G=J?1:E.length;ne(C,R,!1,G,E,x,S)}while(p<H.length&&!R.writing);p===H.length?pe(R):p>256?(H.splice(0,p),R.bufferedIndex=0):R.bufferedIndex=p}R.bufferProcessing=!1}ce.prototype._write=function(C,R,H){if(this._writev)this._writev([{chunk:C,encoding:R}],H);else throw new D("_write()")},ce.prototype._writev=null,ce.prototype.end=function(C,R,H){let X=this._writableState;typeof C=="function"?(H=C,C=null,R=null):typeof R=="function"&&(H=R,R=null);let J;if(C!=null){let T=ue(this,C,R);T instanceof l&&(J=T)}return X.corked&&(X.corked=1,this.uncork()),J||(!X.errored&&!X.ending?(X.ending=!0,ee(this,X,!0),X.ended=!0):X.finished?J=new K("end"):X.destroyed&&(J=new N("end"))),typeof H=="function"&&(J||X.finished?r.nextTick(H,J):X[ae].push(H)),this};function re(C){return C.ending&&!C.destroyed&&C.constructed&&C.length===0&&!C.errored&&C.buffered.length===0&&!C.finished&&!C.writing&&!C.errorEmitted&&!C.closeEmitted}function z(C,R){let H=!1;function X(J){if(H){$(C,J??F());return}if(H=!0,R.pendingcb--,J){let T=R[ae].splice(0);for(let p=0;p<T.length;p++)T[p](J);$(C,J,R.sync)}else re(R)&&(R.prefinished=!0,C.emit("prefinish"),R.pendingcb++,r.nextTick(te,C,R))}R.sync=!0,R.pendingcb++;try{C._final(X)}catch(J){X(J)}R.sync=!1}function le(C,R){!R.prefinished&&!R.finalCalled&&(typeof C._final=="function"&&!R.destroyed?(R.finalCalled=!0,z(C,R)):(R.prefinished=!0,C.emit("prefinish")))}function ee(C,R,H){re(R)&&(le(C,R),R.pendingcb===0&&(H?(R.pendingcb++,r.nextTick((X,J)=>{re(J)?te(X,J):J.pendingcb--},C,R)):re(R)&&(R.pendingcb++,te(C,R))))}function te(C,R){R.pendingcb--,R.finished=!0;let H=R[ae].splice(0);for(let X=0;X<H.length;X++)H[X]();if(C.emit("finish"),R.autoDestroy){let X=C._readableState;(!X||X.autoDestroy&&(X.endEmitted||X.readable===!1))&&C.destroy()}}o(ce.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(C){this._writableState&&(this._writableState.destroyed=C)}},writable:{__proto__:null,get(){let C=this._writableState;return!!C&&C.writable!==!1&&!C.destroyed&&!C.errored&&!C.ending&&!C.ended},set(C){this._writableState&&(this._writableState.writable=!!C)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let C=this._writableState;return C?!C.destroyed&&!C.ending&&C.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var A=I.destroy;ce.prototype.destroy=function(C,R){let H=this._writableState;return!H.destroyed&&(H.bufferedIndex<H.buffered.length||H[ae].length)&&r.nextTick(Q,H),A.call(this,C,R),this},ce.prototype._undestroy=I.undestroy,ce.prototype._destroy=function(C,R){R(C)},ce.prototype[m.captureRejectionSymbol]=function(C){this.destroy(C)};var P;function W(){return P===void 0&&(P={}),P}ce.fromWeb=function(C,R){return W().newStreamWritableFromWritableStream(C,R)},ce.toWeb=function(C){return W().newWritableStreamFromStreamWritable(C)}}),_p=_e((e,t)=>{ge(),ye(),me();var r=Gr(),a=(ot(),$e(st)),{isReadable:l,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:u,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:m}=fr(),y=Cr(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:I,ERR_INVALID_RETURN_VALUE:k}}=vt(),{destroyer:U}=hn(),w=ur(),O=Bi(),D=pa(),{createDeferredPromise:F}=At(),M=uc(),N=globalThis.Blob||a.Blob,K=typeof N<"u"?function(ae){return ae instanceof N}:function(ae){return!1},se=globalThis.AbortController||Nn().AbortController,{FunctionPrototypeCall:oe}=Ze(),fe=class extends w{constructor(ae){super(ae),(ae==null?void 0:ae.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ae==null?void 0:ae.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function ae(Z,pe){if(h(Z))return Z;if(s(Z))return ie({readable:Z});if(u(Z))return ie({writable:Z});if(o(Z))return ie({writable:!1,readable:!1});if(d(Z))return ie({readable:O.fromWeb(Z)});if(m(Z))return ie({writable:D.fromWeb(Z)});if(typeof Z=="function"){let{value:ue,write:Ee,final:ne,destroy:de}=$(Z);if(i(ue))return M(fe,ue,{objectMode:!0,write:Ee,final:ne,destroy:de});let j=ue==null?void 0:ue.then;if(typeof j=="function"){let he,be=oe(j,ue,Q=>{if(Q!=null)throw new k("nully","body",Q)},Q=>{U(he,Q)});return he=new fe({objectMode:!0,readable:!1,write:Ee,final(Q){ne(async()=>{try{await be,r.nextTick(Q,null)}catch(Ae){r.nextTick(Q,Ae)}})},destroy:de})}throw new k("Iterable, AsyncIterable or AsyncFunction",pe,ue)}if(K(Z))return ae(Z.arrayBuffer());if(i(Z))return M(fe,Z,{objectMode:!0,writable:!1});if(d(Z==null?void 0:Z.readable)&&m(Z==null?void 0:Z.writable))return fe.fromWeb(Z);if(typeof(Z==null?void 0:Z.writable)=="object"||typeof(Z==null?void 0:Z.readable)=="object"){let ue=Z!=null&&Z.readable?s(Z==null?void 0:Z.readable)?Z==null?void 0:Z.readable:ae(Z.readable):void 0,Ee=Z!=null&&Z.writable?u(Z==null?void 0:Z.writable)?Z==null?void 0:Z.writable:ae(Z.writable):void 0;return ie({readable:ue,writable:Ee})}let ce=Z==null?void 0:Z.then;if(typeof ce=="function"){let ue;return oe(ce,Z,Ee=>{Ee!=null&&ue.push(Ee),ue.push(null)},Ee=>{U(ue,Ee)}),ue=new fe({objectMode:!0,writable:!1,read(){}})}throw new I(pe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Z)};function $(ae){let{promise:Z,resolve:pe}=F(),ce=new se,ue=ce.signal;return{value:ae(async function*(){for(;;){let Ee=Z;Z=null;let{chunk:ne,done:de,cb:j}=await Ee;if(r.nextTick(j),de)return;if(ue.aborted)throw new b(void 0,{cause:ue.reason});({promise:Z,resolve:pe}=F()),yield ne}}(),{signal:ue}),write(Ee,ne,de){let j=pe;pe=null,j({chunk:Ee,done:!1,cb:de})},final(Ee){let ne=pe;pe=null,ne({done:!0,cb:Ee})},destroy(Ee,ne){ce.abort(),ne(Ee)}}}function ie(ae){let Z=ae.readable&&typeof ae.readable.read!="function"?O.wrap(ae.readable):ae.readable,pe=ae.writable,ce=!!l(Z),ue=!!n(pe),Ee,ne,de,j,he;function be(Q){let Ae=j;j=null,Ae?Ae(Q):Q&&he.destroy(Q)}return he=new fe({readableObjectMode:!!(Z!=null&&Z.readableObjectMode),writableObjectMode:!!(pe!=null&&pe.writableObjectMode),readable:ce,writable:ue}),ue&&(y(pe,Q=>{ue=!1,Q&&U(Z,Q),be(Q)}),he._write=function(Q,Ae,re){pe.write(Q,Ae)?re():Ee=re},he._final=function(Q){pe.end(),ne=Q},pe.on("drain",function(){if(Ee){let Q=Ee;Ee=null,Q()}}),pe.on("finish",function(){if(ne){let Q=ne;ne=null,Q()}})),ce&&(y(Z,Q=>{ce=!1,Q&&U(Z,Q),be(Q)}),Z.on("readable",function(){if(de){let Q=de;de=null,Q()}}),Z.on("end",function(){he.push(null)}),he._read=function(){for(;;){let Q=Z.read();if(Q===null){de=he._read;return}if(!he.push(Q))return}}),he._destroy=function(Q,Ae){!Q&&j!==null&&(Q=new b),de=null,Ee=null,ne=null,j===null?Ae(Q):(j=Ae,U(pe,Q),U(Z,Q))},he}}),ur=_e((e,t)=>{ge(),ye(),me();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:l,ObjectSetPrototypeOf:n}=Ze();t.exports=s;var i=Bi(),o=pa();n(s.prototype,i.prototype),n(s,i);{let m=l(o.prototype);for(let y=0;y<m.length;y++){let b=m[y];s.prototype[b]||(s.prototype[b]=o.prototype[b])}}function s(m){if(!(this instanceof s))return new s(m);i.call(this,m),o.call(this,m),m?(this.allowHalfOpen=m.allowHalfOpen!==!1,m.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),m.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(s.prototype,{writable:{__proto__:null,...a(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(o.prototype,"writableLength")},writableFinished:{__proto__:null,...a(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(m){this._readableState&&this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}});var u;function h(){return u===void 0&&(u={}),u}s.fromWeb=function(m,y){return h().newStreamDuplexFromReadableWritablePair(m,y)},s.toWeb=function(m){return h().newReadableWritablePairFromDuplex(m)};var d;s.from=function(m){return d||(d=_p()),d(m,"body")}}),cc=_e((e,t)=>{ge(),ye(),me();var{ObjectSetPrototypeOf:r,Symbol:a}=Ze();t.exports=s;var{ERR_METHOD_NOT_IMPLEMENTED:l}=vt().codes,n=ur(),{getHighWaterMark:i}=Mi();r(s.prototype,n.prototype),r(s,n);var o=a("kCallback");function s(d){if(!(this instanceof s))return new s(d);let m=d?i(this,d,"readableHighWaterMark",!0):null;m===0&&(d={...d,highWaterMark:null,readableHighWaterMark:m,writableHighWaterMark:d.writableHighWaterMark||0}),n.call(this,d),this._readableState.sync=!1,this[o]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",h)}function u(d){typeof this._flush=="function"&&!this.destroyed?this._flush((m,y)=>{if(m){d?d(m):this.destroy(m);return}y!=null&&this.push(y),this.push(null),d&&d()}):(this.push(null),d&&d())}function h(){this._final!==u&&u.call(this)}s.prototype._final=u,s.prototype._transform=function(d,m,y){throw new l("_transform()")},s.prototype._write=function(d,m,y){let b=this._readableState,I=this._writableState,k=b.length;this._transform(d,m,(U,w)=>{if(U){y(U);return}w!=null&&this.push(w),I.ended||k===b.length||b.length<b.highWaterMark?y():this[o]=y})},s.prototype._read=function(){if(this[o]){let d=this[o];this[o]=null,d()}}}),hc=_e((e,t)=>{ge(),ye(),me();var{ObjectSetPrototypeOf:r}=Ze();t.exports=l;var a=cc();r(l.prototype,a.prototype),r(l,a);function l(n){if(!(this instanceof l))return new l(n);a.call(this,n)}l.prototype._transform=function(n,i,o){o(null,n)}}),ga=_e((e,t)=>{ge(),ye(),me();var r=Gr(),{ArrayIsArray:a,Promise:l,SymbolAsyncIterator:n,SymbolDispose:i}=Ze(),o=Cr(),{once:s}=At(),u=hn(),h=ur(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:I,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:U}=vt(),{validateFunction:w,validateAbortSignal:O}=Fn(),{isIterable:D,isReadable:F,isReadableNodeStream:M,isNodeStream:N,isTransformStream:K,isWebStream:se,isReadableStream:oe,isReadableFinished:fe}=fr(),$=globalThis.AbortController||Nn().AbortController,ie,ae,Z;function pe(Q,Ae,re){let z=!1;Q.on("close",()=>{z=!0});let le=o(Q,{readable:Ae,writable:re},ee=>{z=!ee});return{destroy:ee=>{z||(z=!0,u.destroyer(Q,ee||new I("pipe")))},cleanup:le}}function ce(Q){return w(Q[Q.length-1],"streams[stream.length - 1]"),Q.pop()}function ue(Q){if(D(Q))return Q;if(M(Q))return Ee(Q);throw new m("val",["Readable","Iterable","AsyncIterable"],Q)}async function*Ee(Q){ae||(ae=Bi()),yield*ae.prototype[n].call(Q)}async function ne(Q,Ae,re,{end:z}){let le,ee=null,te=W=>{if(W&&(le=W),ee){let C=ee;ee=null,C()}},A=()=>new l((W,C)=>{le?C(le):ee=()=>{le?C(le):W()}});Ae.on("drain",te);let P=o(Ae,{readable:!1},te);try{Ae.writableNeedDrain&&await A();for await(let W of Q)Ae.write(W)||await A();z&&(Ae.end(),await A()),re()}catch(W){re(le!==W?d(le,W):W)}finally{P(),Ae.off("drain",te)}}async function de(Q,Ae,re,{end:z}){K(Ae)&&(Ae=Ae.writable);let le=Ae.getWriter();try{for await(let ee of Q)await le.ready,le.write(ee).catch(()=>{});await le.ready,z&&await le.close(),re()}catch(ee){try{await le.abort(ee),re(ee)}catch(te){re(te)}}}function j(...Q){return he(Q,s(ce(Q)))}function he(Q,Ae,re){if(Q.length===1&&a(Q[0])&&(Q=Q[0]),Q.length<2)throw new b("streams");let z=new $,le=z.signal,ee=re==null?void 0:re.signal,te=[];O(ee,"options.signal");function A(){J(new U)}Z=Z||At().addAbortListener;let P;ee&&(P=Z(ee,A));let W,C,R=[],H=0;function X(x){J(x,--H===0)}function J(x,S){var G;if(x&&(!W||W.code==="ERR_STREAM_PREMATURE_CLOSE")&&(W=x),!(!W&&!S)){for(;R.length;)R.shift()(W);(G=P)===null||G===void 0||G[i](),z.abort(),S&&(W||te.forEach(c=>c()),r.nextTick(Ae,W,C))}}let T;for(let x=0;x<Q.length;x++){let S=Q[x],G=x<Q.length-1,c=x>0,f=G||(re==null?void 0:re.end)!==!1,g=x===Q.length-1;if(N(S)){let v=function(_){_&&_.name!=="AbortError"&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"&&X(_)};if(f){let{destroy:_,cleanup:L}=pe(S,G,c);R.push(_),F(S)&&g&&te.push(L)}S.on("error",v),F(S)&&g&&te.push(()=>{S.removeListener("error",v)})}if(x===0)if(typeof S=="function"){if(T=S({signal:le}),!D(T))throw new y("Iterable, AsyncIterable or Stream","source",T)}else D(S)||M(S)||K(S)?T=S:T=h.from(S);else if(typeof S=="function"){if(K(T)){var p;T=ue((p=T)===null||p===void 0?void 0:p.readable)}else T=ue(T);if(T=S(T,{signal:le}),G){if(!D(T,!0))throw new y("AsyncIterable",`transform[${x-1}]`,T)}else{var E;ie||(ie=hc());let v=new ie({objectMode:!0}),_=(E=T)===null||E===void 0?void 0:E.then;if(typeof _=="function")H++,_.call(T,we=>{C=we,we!=null&&v.write(we),f&&v.end(),r.nextTick(X)},we=>{v.destroy(we),r.nextTick(X,we)});else if(D(T,!0))H++,ne(T,v,X,{end:f});else if(oe(T)||K(T)){let we=T.readable||T;H++,ne(we,v,X,{end:f})}else throw new y("AsyncIterable or Promise","destination",T);T=v;let{destroy:L,cleanup:Y}=pe(T,!1,!0);R.push(L),g&&te.push(Y)}}else if(N(S)){if(M(T)){H+=2;let v=be(T,S,X,{end:f});F(S)&&g&&te.push(v)}else if(K(T)||oe(T)){let v=T.readable||T;H++,ne(v,S,X,{end:f})}else if(D(T))H++,ne(T,S,X,{end:f});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=S}else if(se(S)){if(M(T))H++,de(ue(T),S,X,{end:f});else if(oe(T)||D(T))H++,de(T,S,X,{end:f});else if(K(T))H++,de(T.readable,S,X,{end:f});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],T);T=S}else T=h.from(S)}return(le!=null&&le.aborted||ee!=null&&ee.aborted)&&r.nextTick(A),T}function be(Q,Ae,re,{end:z}){let le=!1;if(Ae.on("close",()=>{le||re(new k)}),Q.pipe(Ae,{end:!1}),z){let ee=function(){le=!0,Ae.end()};fe(Q)?r.nextTick(ee):Q.once("end",ee)}else re();return o(Q,{readable:!0,writable:!1},ee=>{let te=Q._readableState;ee&&ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&te&&te.ended&&!te.errored&&!te.errorEmitted?Q.once("end",re).once("error",re):re(ee)}),o(Ae,{readable:!1,writable:!0},re)}t.exports={pipelineImpl:he,pipeline:j}}),fc=_e((e,t)=>{ge(),ye(),me();var{pipeline:r}=ga(),a=ur(),{destroyer:l}=hn(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:u,isWritableStream:h,isReadableStream:d}=fr(),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:b}}=vt(),I=Cr();t.exports=function(...k){if(k.length===0)throw new b("streams");if(k.length===1)return a.from(k[0]);let U=[...k];if(typeof k[0]=="function"&&(k[0]=a.from(k[0])),typeof k[k.length-1]=="function"){let $=k.length-1;k[$]=a.from(k[$])}for(let $=0;$<k.length;++$)if(!(!n(k[$])&&!s(k[$]))){if($<k.length-1&&!(i(k[$])||d(k[$])||u(k[$])))throw new y(`streams[${$}]`,U[$],"must be readable");if($>0&&!(o(k[$])||h(k[$])||u(k[$])))throw new y(`streams[${$}]`,U[$],"must be writable")}let w,O,D,F,M;function N($){let ie=F;F=null,ie?ie($):$?M.destroy($):!fe&&!oe&&M.destroy()}let K=k[0],se=r(k,N),oe=!!(o(K)||h(K)||u(K)),fe=!!(i(se)||d(se)||u(se));if(M=new a({writableObjectMode:!!(K!=null&&K.writableObjectMode),readableObjectMode:!!(se!=null&&se.readableObjectMode),writable:oe,readable:fe}),oe){if(n(K))M._write=function(ie,ae,Z){K.write(ie,ae)?Z():w=Z},M._final=function(ie){K.end(),O=ie},K.on("drain",function(){if(w){let ie=w;w=null,ie()}});else if(s(K)){let ie=(u(K)?K.writable:K).getWriter();M._write=async function(ae,Z,pe){try{await ie.ready,ie.write(ae).catch(()=>{}),pe()}catch(ce){pe(ce)}},M._final=async function(ae){try{await ie.ready,ie.close().catch(()=>{}),O=ae}catch(Z){ae(Z)}}}let $=u(se)?se.readable:se;I($,()=>{if(O){let ie=O;O=null,ie()}})}if(fe){if(n(se))se.on("readable",function(){if(D){let $=D;D=null,$()}}),se.on("end",function(){M.push(null)}),M._read=function(){for(;;){let $=se.read();if($===null){D=M._read;return}if(!M.push($))return}};else if(s(se)){let $=(u(se)?se.readable:se).getReader();M._read=async function(){for(;;)try{let{value:ie,done:ae}=await $.read();if(!M.push(ie))return;if(ae){M.push(null);return}}catch{return}}}}return M._destroy=function($,ie){!$&&F!==null&&($=new m),D=null,w=null,O=null,F===null?ie($):(F=ie,n(se)&&l(se,$))},M}}),Ep=_e((e,t)=>{ge(),ye(),me();var r=globalThis.AbortController||Nn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:a,ERR_INVALID_ARG_TYPE:l,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=vt(),{validateAbortSignal:s,validateInteger:u,validateObject:h}=Fn(),d=Ze().Symbol("kWeak"),m=Ze().Symbol("kResistStopPropagation"),{finished:y}=Cr(),b=fc(),{addAbortSignalNoValidate:I}=Ui(),{isWritable:k,isNodeStream:U}=fr(),{deprecate:w}=At(),{ArrayPrototypePush:O,Boolean:D,MathFloor:F,Number:M,NumberIsNaN:N,Promise:K,PromiseReject:se,PromiseResolve:oe,PromisePrototypeThen:fe,Symbol:$}=Ze(),ie=$("kEmpty"),ae=$("kEof");function Z(ee,te){if(te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal"),U(ee)&&!k(ee))throw new a("stream",ee,"must be writable");let A=b(this,ee);return te!=null&&te.signal&&I(te.signal,A),A}function pe(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal");let A=1;(te==null?void 0:te.concurrency)!=null&&(A=F(te.concurrency));let P=A-1;return(te==null?void 0:te.highWaterMark)!=null&&(P=F(te.highWaterMark)),u(A,"options.concurrency",1),u(P,"options.highWaterMark",0),P+=A,(async function*(){let W=At().AbortSignalAny([te==null?void 0:te.signal].filter(D)),C=this,R=[],H={signal:W},X,J,T=!1,p=0;function E(){T=!0,x()}function x(){p-=1,S()}function S(){J&&!T&&p<A&&R.length<P&&(J(),J=null)}async function G(){try{for await(let c of C){if(T)return;if(W.aborted)throw new o;try{if(c=ee(c,H),c===ie)continue;c=oe(c)}catch(f){c=se(f)}p+=1,fe(c,x,E),R.push(c),X&&(X(),X=null),!T&&(R.length>=P||p>=A)&&await new K(f=>{J=f})}R.push(ae)}catch(c){let f=se(c);fe(f,x,E),R.push(f)}finally{T=!0,X&&(X(),X=null)}}G();try{for(;;){for(;R.length>0;){let c=await R[0];if(c===ae)return;if(W.aborted)throw new o;c!==ie&&(yield c),R.shift(),S()}await new K(c=>{X=c})}}finally{T=!0,J&&(J(),J=null)}}).call(this)}function ce(ee=void 0){return ee!=null&&h(ee,"options"),(ee==null?void 0:ee.signal)!=null&&s(ee.signal,"options.signal"),(async function*(){let te=0;for await(let P of this){var A;if(ee!=null&&(A=ee.signal)!==null&&A!==void 0&&A.aborted)throw new o({cause:ee.signal.reason});yield[te++,P]}}).call(this)}async function ue(ee,te=void 0){for await(let A of j.call(this,ee,te))return!0;return!1}async function Ee(ee,te=void 0){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);return!await ue.call(this,async(...A)=>!await ee(...A),te)}async function ne(ee,te){for await(let A of j.call(this,ee,te))return A}async function de(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);async function A(P,W){return await ee(P,W),ie}for await(let P of pe.call(this,A,te));}function j(ee,te){if(typeof ee!="function")throw new l("fn",["Function","AsyncFunction"],ee);async function A(P,W){return await ee(P,W)?P:ie}return pe.call(this,A,te)}var he=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(ee,te,A){var P;if(typeof ee!="function")throw new l("reducer",["Function","AsyncFunction"],ee);A!=null&&h(A,"options"),(A==null?void 0:A.signal)!=null&&s(A.signal,"options.signal");let W=arguments.length>1;if(A!=null&&(P=A.signal)!==null&&P!==void 0&&P.aborted){let J=new o(void 0,{cause:A.signal.reason});throw this.once("error",()=>{}),await y(this.destroy(J)),J}let C=new r,R=C.signal;if(A!=null&&A.signal){let J={once:!0,[d]:this,[m]:!0};A.signal.addEventListener("abort",()=>C.abort(),J)}let H=!1;try{for await(let J of this){var X;if(H=!0,A!=null&&(X=A.signal)!==null&&X!==void 0&&X.aborted)throw new o;W?te=await ee(te,J,{signal:R}):(te=J,W=!0)}if(!H&&!W)throw new he}finally{C.abort()}return te}async function Q(ee){ee!=null&&h(ee,"options"),(ee==null?void 0:ee.signal)!=null&&s(ee.signal,"options.signal");let te=[];for await(let P of this){var A;if(ee!=null&&(A=ee.signal)!==null&&A!==void 0&&A.aborted)throw new o(void 0,{cause:ee.signal.reason});O(te,P)}return te}function Ae(ee,te){let A=pe.call(this,ee,te);return(async function*(){for await(let P of A)yield*P}).call(this)}function re(ee){if(ee=M(ee),N(ee))return 0;if(ee<0)throw new i("number",">= 0",ee);return ee}function z(ee,te=void 0){return te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal"),ee=re(ee),(async function*(){var A;if(te!=null&&(A=te.signal)!==null&&A!==void 0&&A.aborted)throw new o;for await(let W of this){var P;if(te!=null&&(P=te.signal)!==null&&P!==void 0&&P.aborted)throw new o;ee--<=0&&(yield W)}}).call(this)}function le(ee,te=void 0){return te!=null&&h(te,"options"),(te==null?void 0:te.signal)!=null&&s(te.signal,"options.signal"),ee=re(ee),(async function*(){var A;if(te!=null&&(A=te.signal)!==null&&A!==void 0&&A.aborted)throw new o;for await(let W of this){var P;if(te!=null&&(P=te.signal)!==null&&P!==void 0&&P.aborted)throw new o;if(ee-- >0&&(yield W),ee<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:w(ce,"readable.asIndexedPairs will be removed in a future version."),drop:z,filter:j,flatMap:Ae,map:pe,take:le,compose:Z},t.exports.promiseReturningOperators={every:Ee,forEach:de,reduce:be,toArray:Q,some:ue,find:ne}}),dc=_e((e,t)=>{ge(),ye(),me();var{ArrayPrototypePop:r,Promise:a}=Ze(),{isIterable:l,isNodeStream:n,isWebStream:i}=fr(),{pipelineImpl:o}=ga(),{finished:s}=Cr();pc();function u(...h){return new a((d,m)=>{let y,b,I=h[h.length-1];if(I&&typeof I=="object"&&!n(I)&&!l(I)&&!i(I)){let k=r(h);y=k.signal,b=k.end}o(h,(k,U)=>{k?m(k):d(U)},{signal:y,end:b})})}t.exports={finished:s,pipeline:u}}),pc=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(ot(),$e(st)),{ObjectDefineProperty:a,ObjectKeys:l,ReflectApply:n}=Ze(),{promisify:{custom:i}}=At(),{streamReturningOperators:o,promiseReturningOperators:s}=Ep(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=vt(),h=fc(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:m}=Mi(),{pipeline:y}=ga(),{destroyer:b}=hn(),I=Cr(),k=dc(),U=fr(),w=t.exports=da().Stream;w.isDestroyed=U.isDestroyed,w.isDisturbed=U.isDisturbed,w.isErrored=U.isErrored,w.isReadable=U.isReadable,w.isWritable=U.isWritable,w.Readable=Bi();for(let D of l(o)){let F=function(...N){if(new.target)throw u();return w.Readable.from(n(M,this,N))},M=o[D];a(F,"name",{__proto__:null,value:M.name}),a(F,"length",{__proto__:null,value:M.length}),a(w.Readable.prototype,D,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}for(let D of l(s)){let F=function(...N){if(new.target)throw u();return n(M,this,N)},M=s[D];a(F,"name",{__proto__:null,value:M.name}),a(F,"length",{__proto__:null,value:M.length}),a(w.Readable.prototype,D,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}w.Writable=pa(),w.Duplex=ur(),w.Transform=cc(),w.PassThrough=hc(),w.pipeline=y;var{addAbortSignal:O}=Ui();w.addAbortSignal=O,w.finished=I,w.destroy=b,w.compose=h,w.setDefaultHighWaterMark=d,w.getDefaultHighWaterMark=m,a(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return k}}),a(y,i,{__proto__:null,enumerable:!0,get(){return k.pipeline}}),a(I,i,{__proto__:null,enumerable:!0,get(){return k.finished}}),w.Stream=w,w._isUint8Array=function(D){return D instanceof Uint8Array},w._uint8ArrayToBuffer=function(D){return r.from(D.buffer,D.byteOffset,D.byteLength)}}),Yr=_e((e,t)=>{ge(),ye(),me();var r=pc(),a=dc(),l=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=l,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return a}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),Sp=_e((e,t)=>{ge(),ye(),me(),typeof Object.create=="function"?t.exports=function(r,a){a&&(r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,a){if(a){r.super_=a;var l=function(){};l.prototype=a.prototype,r.prototype=new l,r.prototype.constructor=r}}}),Ap=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(ot(),$e(st)),a=Symbol.for("BufferList");function l(n){if(!(this instanceof l))return new l(n);l._init.call(this,n)}l._init=function(n){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},l.prototype._new=function(n){return new l(n)},l.prototype._offset=function(n){if(n===0)return[0,0];let i=0;for(let o=0;o<this._bufs.length;o++){let s=i+this._bufs[o].length;if(n<s||o===this._bufs.length-1)return[o,n-i];i=s}},l.prototype._reverseOffset=function(n){let i=n[0],o=n[1];for(let s=0;s<i;s++)o+=this._bufs[s].length;return o},l.prototype.get=function(n){if(n>this.length||n<0)return;let i=this._offset(n);return this._bufs[i[0]][i[1]]},l.prototype.slice=function(n,i){return typeof n=="number"&&n<0&&(n+=this.length),typeof i=="number"&&i<0&&(i+=this.length),this.copy(null,0,n,i)},l.prototype.copy=function(n,i,o,s){if((typeof o!="number"||o<0)&&(o=0),(typeof s!="number"||s>this.length)&&(s=this.length),o>=this.length||s<=0)return n||r.alloc(0);let u=!!n,h=this._offset(o),d=s-o,m=d,y=u&&i||0,b=h[1];if(o===0&&s===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let I=0;I<this._bufs.length;I++)this._bufs[I].copy(n,y),y+=this._bufs[I].length;return n}if(m<=this._bufs[h[0]].length-b)return u?this._bufs[h[0]].copy(n,i,b,b+m):this._bufs[h[0]].slice(b,b+m);u||(n=r.allocUnsafe(d));for(let I=h[0];I<this._bufs.length;I++){let k=this._bufs[I].length-b;if(m>k)this._bufs[I].copy(n,y,b),y+=k;else{this._bufs[I].copy(n,y,b,b+m),y+=k;break}m-=k,b&&(b=0)}return n.length>y?n.slice(0,y):n},l.prototype.shallowSlice=function(n,i){if(n=n||0,i=typeof i!="number"?this.length:i,n<0&&(n+=this.length),i<0&&(i+=this.length),n===i)return this._new();let o=this._offset(n),s=this._offset(i),u=this._bufs.slice(o[0],s[0]+1);return s[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,s[1]),o[1]!==0&&(u[0]=u[0].slice(o[1])),this._new(u)},l.prototype.toString=function(n,i,o){return this.slice(i,o).toString(n)},l.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},l.prototype.duplicate=function(){let n=this._new();for(let i=0;i<this._bufs.length;i++)n.append(this._bufs[i]);return n},l.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(r.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let i=0;i<n.length;i++)this.append(n[i]);else if(this._isBufferList(n))for(let i=0;i<n._bufs.length;i++)this.append(n._bufs[i]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(r.from(n));return this},l.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},l.prototype.indexOf=function(n,i,o){if(o===void 0&&typeof i=="string"&&(o=i,i=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=r.from([n]):typeof n=="string"?n=r.from(n,o):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=r.from(n.buffer,n.byteOffset,n.byteLength):r.isBuffer(n)||(n=r.from(n)),i=Number(i||0),isNaN(i)&&(i=0),i<0&&(i=this.length+i),i<0&&(i=0),n.length===0)return i>this.length?this.length:i;let s=this._offset(i),u=s[0],h=s[1];for(;u<this._bufs.length;u++){let d=this._bufs[u];for(;h<d.length;)if(d.length-h>=n.length){let m=d.indexOf(n,h);if(m!==-1)return this._reverseOffset([u,m]);h=d.length-n.length+1}else{let m=this._reverseOffset([u,h]);if(this._match(m,n))return m;h++}h=0}return-1},l.prototype._match=function(n,i){if(this.length-n<i.length)return!1;for(let o=0;o<i.length;o++)if(this.get(n+o)!==i[o])return!1;return!0},function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let i in n)(function(o){n[o]===null?l.prototype[o]=function(s,u){return this.slice(s,s+u)[o](0,u)}:l.prototype[o]=function(s=0){return this.slice(s,s+n[o])[o](0)}})(i)}(),l.prototype._isBufferList=function(n){return n instanceof l||l.isBufferList(n)},l.isBufferList=function(n){return n!=null&&n[a]},t.exports=l}),Tp=_e((e,t)=>{ge(),ye(),me();var r=Yr().Duplex,a=Sp(),l=Ap();function n(i){if(!(this instanceof n))return new n(i);if(typeof i=="function"){this._callback=i;let o=(function(s){this._callback&&(this._callback(s),this._callback=null)}).bind(this);this.on("pipe",function(s){s.on("error",o)}),this.on("unpipe",function(s){s.removeListener("error",o)}),i=null}l._init.call(this,i),r.call(this)}a(n,r),Object.assign(n.prototype,l.prototype),n.prototype._new=function(i){return new n(i)},n.prototype._write=function(i,o,s){this._appendBuffer(i),typeof s=="function"&&s()},n.prototype._read=function(i){if(!this.length)return this.push(null);i=Math.min(i,this.length),this.push(this.slice(0,i)),this.consume(i)},n.prototype.end=function(i){r.prototype.end.call(this,i),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(i,o){this._bufs.length=0,this.length=0,o(i)},n.prototype._isBufferList=function(i){return i instanceof n||i instanceof l||n.isBufferList(i)},n.isBufferList=l.isBufferList,t.exports=n,t.exports.BufferListStream=n,t.exports.BufferList=l}),Ip=_e((e,t)=>{ge(),ye(),me();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r}),gc=_e((e,t)=>{ge(),ye(),me();var r=t.exports,{Buffer:a}=(ot(),$e(st));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let n in r.requiredHeaderFlags){let i=r.requiredHeaderFlags[n];r.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+i.toString(16)+" for "+r.types[n]+" packet"}r.codes={};for(let n in r.types){let i=r.types[n];r.codes[i]=n}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=a.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=a.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=a.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let n in r.properties){let i=r.properties[n];r.propertiesCodes[i]=n}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function l(n){return[0,1,2].map(i=>[0,1].map(o=>[0,1].map(s=>{let u=a.alloc(1);return u.writeUInt8(r.codes[n]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|i<<r.QOS_SHIFT|s,0,!0),u})))}r.PUBLISH_HEADER=l("publish"),r.SUBSCRIBE_HEADER=l("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=l("unsubscribe"),r.ACKS={unsuback:l("unsuback"),puback:l("puback"),pubcomp:l("pubcomp"),pubrel:l("pubrel"),pubrec:l("pubrec")},r.SUBACK_HEADER=a.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=a.from([3]),r.VERSION4=a.from([4]),r.VERSION5=a.from([5]),r.VERSION131=a.from([131]),r.VERSION132=a.from([132]),r.QOS=[0,1,2].map(n=>a.from([n])),r.EMPTY={pingreq:a.from([r.codes.pingreq<<4,0]),pingresp:a.from([r.codes.pingresp<<4,0]),disconnect:a.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),xp=_e((e,t)=>{ge(),ye(),me();var r=1e3,a=r*60,l=a*60,n=l*24,i=n*7,o=n*365.25;t.exports=function(m,y){y=y||{};var b=typeof m;if(b==="string"&&m.length>0)return s(m);if(b==="number"&&isFinite(m))return y.long?h(m):u(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function s(m){if(m=String(m),!(m.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(y){var b=parseFloat(y[1]),I=(y[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return b*o;case"weeks":case"week":case"w":return b*i;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*l;case"minutes":case"minute":case"mins":case"min":case"m":return b*a;case"seconds":case"second":case"secs":case"sec":case"s":return b*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function u(m){var y=Math.abs(m);return y>=n?Math.round(m/n)+"d":y>=l?Math.round(m/l)+"h":y>=a?Math.round(m/a)+"m":y>=r?Math.round(m/r)+"s":m+"ms"}function h(m){var y=Math.abs(m);return y>=n?d(m,y,n,"day"):y>=l?d(m,y,l,"hour"):y>=a?d(m,y,a,"minute"):y>=r?d(m,y,r,"second"):m+" ms"}function d(m,y,b,I){var k=y>=b*1.5;return Math.round(m/b)+" "+I+(k?"s":"")}}),Op=_e((e,t)=>{ge(),ye(),me();function r(a){n.debug=n,n.default=n,n.coerce=d,n.disable=u,n.enable=o,n.enabled=h,n.humanize=xp(),n.destroy=m,Object.keys(a).forEach(y=>{n[y]=a[y]}),n.names=[],n.skips=[],n.formatters={};function l(y){let b=0;for(let I=0;I<y.length;I++)b=(b<<5)-b+y.charCodeAt(I),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=l;function n(y){let b,I=null,k,U;function w(...O){if(!w.enabled)return;let D=w,F=Number(new Date),M=F-(b||F);D.diff=M,D.prev=b,D.curr=F,b=F,O[0]=n.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let N=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(K,se)=>{if(K==="%%")return"%";N++;let oe=n.formatters[se];if(typeof oe=="function"){let fe=O[N];K=oe.call(D,fe),O.splice(N,1),N--}return K}),n.formatArgs.call(D,O),(D.log||n.log).apply(D,O)}return w.namespace=y,w.useColors=n.useColors(),w.color=n.selectColor(y),w.extend=i,w.destroy=n.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(k!==n.namespaces&&(k=n.namespaces,U=n.enabled(y)),U),set:O=>{I=O}}),typeof n.init=="function"&&n.init(w),w}function i(y,b){let I=n(this.namespace+(typeof b>"u"?":":b)+y);return I.log=this.log,I}function o(y){n.save(y),n.namespaces=y,n.names=[],n.skips=[];let b=(typeof y=="string"?y:"").trim().replace(" ",",").split(",").filter(Boolean);for(let I of b)I[0]==="-"?n.skips.push(I.slice(1)):n.names.push(I)}function s(y,b){let I=0,k=0,U=-1,w=0;for(;I<y.length;)if(k<b.length&&(b[k]===y[I]||b[k]==="*"))b[k]==="*"?(U=k,w=I,k++):(I++,k++);else if(U!==-1)k=U+1,w++,I=w;else return!1;for(;k<b.length&&b[k]==="*";)k++;return k===b.length}function u(){let y=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),y}function h(y){for(let b of n.skips)if(s(y,b))return!1;for(let b of n.names)if(s(y,b))return!0;return!1}function d(y){return y instanceof Error?y.stack||y.message:y}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}t.exports=r}),cr=_e((e,t)=>{ge(),ye(),me(),e.formatArgs=a,e.save=l,e.load=n,e.useColors=r,e.storage=i(),e.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;s.splice(1,0,u,"color: inherit");let h=0,d=0;s[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(h++,m==="%c"&&(d=h))}),s.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function l(s){try{s?e.storage.setItem("debug",s):e.storage.removeItem("debug")}catch{}}function n(){let s;try{s=e.storage.getItem("debug")}catch{}return!s&&typeof je<"u"&&"env"in je&&(s=je.env.DEBUG),s}function i(){try{return localStorage}catch{}}t.exports=Op()(e);var{formatters:o}=t.exports;o.j=function(s){try{return JSON.stringify(s)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),kp=_e((e,t)=>{ge(),ye(),me();var r=Tp(),{EventEmitter:a}=(zr(),$e(kr)),l=Ip(),n=gc(),i=cr()("mqtt-packet:parser"),o=class Co extends a{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof Co?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Co().parser(u)}_resetState(){i("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new l,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),i("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,i("parse: state complete. _stateCounter is now: %d",this._stateCounter),i("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return i("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),h=u>>n.CMD_SHIFT;this.packet.cmd=n.types[h];let d=u&15,m=n.requiredHeaderFlags[h];return m!=null&&d!==m?this._emitError(new Error(n.requiredHeaderFlagsErrors[h])):(this.packet.retain=(u&n.RETAIN_MASK)!==0,this.packet.qos=u>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&n.DUP_MASK)!==0,i("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),i("_parseLength %d",u.value),!!u}_parsePayload(){i("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return i("_parsePayload complete result: %s",u),u}_parseConnect(){i("_parseConnect");let u,h,d,m,y={},b=this.packet,I=this._parseString();if(I===null)return this._emitError(new Error("Cannot parse protocolId"));if(I!=="MQTT"&&I!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=I,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));y.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let k=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),U=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(y.will)b.will={},b.will.retain=k,b.will.qos=U;else{if(k)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(U)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(b.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){let O=this._parseProperties();Object.getOwnPropertyNames(O).length&&(b.properties=O)}let w=this._parseString();if(w===null)return this._emitError(new Error("Packet too short"));if(b.clientId=w,i("_parseConnect: packet.clientId: %s",b.clientId),y.will){if(b.protocolVersion===5){let O=this._parseProperties();Object.getOwnPropertyNames(O).length&&(b.will.properties=O)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=u,i("_parseConnect: packet.will.topic: %s",b.will.topic),h=this._parseBuffer(),h===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=h,i("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(y.username){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse username"));b.username=m,i("_parseConnect: packet.username: %s",b.username)}if(y.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));b.password=d}return this.settings=b,i("_parseConnect: complete"),b}_parseConnack(){i("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let h=this._list.readUInt8(this._pos++);if(h>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(h&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}i("_parseConnack: complete")}_parsePublish(){i("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}u.payload=this._list.slice(this._pos,u.length),i("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){i("_parseSubscribe");let u=this.packet,h,d,m,y,b,I,k;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let U=this._parseProperties();Object.getOwnPropertyNames(U).length&&(u.properties=U)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(m=d&n.SUBSCRIBE_OPTIONS_QOS_MASK,m>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(I=(d>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(d>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=d>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,y>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));k={topic:h,qos:m},this.settings.protocolVersion===5?(k.nl=I,k.rap=b,k.rh=y):this.settings.bridgeMode&&(k.rh=0,k.rap=!0,k.nl=!0),i("_parseSubscribe: push subscription `%s` to subscription",k),u.subscriptions.push(k)}}}_parseSuback(){i("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let h=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[h])return this._emitError(new Error("Invalid suback code"))}else if(h>2&&h!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(h)}}}_parseUnsubscribe(){i("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let h=this._parseString();if(h===null)return this._emitError(new Error("Cannot parse topic"));i("_parseUnsubscribe: push topic `%s` to unsubscriptions",h),u.unsubscriptions.push(h)}}}_parseUnsuback(){i("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let h=this._parseProperties();for(Object.getOwnPropertyNames(h).length&&(u.properties=h),u.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){i("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}i("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}}return!0}_parseDisconnect(){let u=this.packet;if(i("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(u.properties=h)}return i("_parseDisconnect result: true"),!0}_parseAuth(){i("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let h=this._parseProperties();return Object.getOwnPropertyNames(h).length&&(u.properties=h),i("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(i("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let m=this._list.toString("utf8",this._pos,d);return this._pos+=h,i("_parseString: result: %s",m),m}_parseStringPair(){return i("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),h=u+this._pos;if(u===-1||h>this._list.length||h>this.packet.length)return null;let d=this._list.slice(this._pos,h);return this._pos+=u,i("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,i("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,i("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){i("_parseVarByteNum");let h=4,d=0,m=1,y=0,b=!1,I,k=this._pos?this._pos:0;for(;d<h&&k+d<this._list.length;){if(I=this._list.readUInt8(k+d++),y+=m*(I&n.VARBYTEINT_MASK),m*=128,(I&n.VARBYTEINT_FIN_MASK)===0){b=!0;break}if(this._list.length<=d)break}return!b&&d===h&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),k&&(this._pos+=d),b?u?b={bytes:d,value:y}:b=y:b=!1,i("_parseVarByteNum: result: %o",b),b}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),i("_parseByte: result: %o",u),u}_parseByType(u){switch(i("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){i("_parseProperties");let u=this._parseVarByteNum(),h=this._pos+u,d={};for(;this._pos<h;){let m=this._parseByte();if(!m)return this._emitError(new Error("Cannot parse property code type")),!1;let y=n.propertiesCodes[m];if(!y)return this._emitError(new Error("Unknown property")),!1;if(y==="userProperties"){d[y]||(d[y]=Object.create(null));let b=this._parseByType(n.propertiesTypes[y]);if(d[y][b.name])if(Array.isArray(d[y][b.name]))d[y][b.name].push(b.value);else{let I=d[y][b.name];d[y][b.name]=[I],d[y][b.name].push(b.value)}else d[y][b.name]=b.value;continue}d[y]?Array.isArray(d[y])?d[y].push(this._parseByType(n.propertiesTypes[y])):(d[y]=[d[y]],d[y].push(this._parseByType(n.propertiesTypes[y]))):d[y]=this._parseByType(n.propertiesTypes[y])}return d}_newPacket(){return i("_newPacket"),this.packet&&(this._list.consume(this.packet.length),i("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),i("_newPacket: new packet"),this.packet=new l,this._pos=0,!0}_emitError(u){i("_emitError",u),this.error=u,this.emit("error",u)}};t.exports=o}),Cp=_e((e,t)=>{ge(),ye(),me();var{Buffer:r}=(ot(),$e(st)),a=65536,l={},n=r.isBuffer(r.from([1,2]).subarray(0,1));function i(h){let d=r.allocUnsafe(2);return d.writeUInt8(h>>8,0),d.writeUInt8(h&255,1),d}function o(){for(let h=0;h<a;h++)l[h]=i(h)}function s(h){let d=0,m=0,y=r.allocUnsafe(4);do d=h%128|0,h=h/128|0,h>0&&(d=d|128),y.writeUInt8(d,m++);while(h>0&&m<4);return h>0&&(m=0),n?y.subarray(0,m):y.slice(0,m)}function u(h){let d=r.allocUnsafe(4);return d.writeUInt32BE(h,0),d}t.exports={cache:l,generateCache:o,generateNumber:i,genBufVariableByteInt:s,generate4ByteBuffer:u}}),Pp=_e((e,t)=>{ge(),ye(),me(),typeof je>"u"||!je.version||je.version.indexOf("v0.")===0||je.version.indexOf("v1.")===0&&je.version.indexOf("v1.8.")!==0?t.exports={nextTick:r}:t.exports=je;function r(a,l,n,i){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,s,u;switch(o){case 0:case 1:return je.nextTick(a);case 2:return je.nextTick(function(){a.call(null,l)});case 3:return je.nextTick(function(){a.call(null,l,n)});case 4:return je.nextTick(function(){a.call(null,l,n,i)});default:for(s=new Array(o-1),u=0;u<s.length;)s[u++]=arguments[u];return je.nextTick(function(){a.apply(null,s)})}}}),mc=_e((e,t)=>{ge(),ye(),me();var r=gc(),{Buffer:a}=(ot(),$e(st)),l=a.allocUnsafe(0),n=a.from([0]),i=Cp(),o=Pp().nextTick,s=cr()("mqtt-packet:writeToStream"),u=i.cache,h=i.generateNumber,d=i.generateCache,m=i.genBufVariableByteInt,y=i.generate4ByteBuffer,b=ce,I=!0;function k(re,z,le){switch(s("generate called"),z.cork&&(z.cork(),o(U,z)),I&&(I=!1,d()),s("generate: packet.cmd: %s",re.cmd),re.cmd){case"connect":return w(re,z);case"connack":return O(re,z,le);case"publish":return D(re,z,le);case"puback":case"pubrec":case"pubrel":case"pubcomp":return F(re,z,le);case"subscribe":return M(re,z,le);case"suback":return N(re,z,le);case"unsubscribe":return K(re,z,le);case"unsuback":return se(re,z,le);case"pingreq":case"pingresp":return oe(re,z);case"disconnect":return fe(re,z,le);case"auth":return $(re,z,le);default:return z.destroy(new Error("Unknown command")),!1}}Object.defineProperty(k,"cacheNumbers",{get(){return b===ce},set(re){re?((!u||Object.keys(u).length===0)&&(I=!0),b=ce):(I=!1,b=ue)}});function U(re){re.uncork()}function w(re,z,le){let ee=re||{},te=ee.protocolId||"MQTT",A=ee.protocolVersion||4,P=ee.will,W=ee.clean,C=ee.keepalive||0,R=ee.clientId||"",H=ee.username,X=ee.password,J=ee.properties;W===void 0&&(W=!0);let T=0;if(typeof te!="string"&&!a.isBuffer(te))return z.destroy(new Error("Invalid protocolId")),!1;if(T+=te.length+2,A!==3&&A!==4&&A!==5)return z.destroy(new Error("Invalid protocol version")),!1;if(T+=1,(typeof R=="string"||a.isBuffer(R))&&(R||A>=4)&&(R||W))T+=a.byteLength(R)+2;else{if(A<4)return z.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(W*1===0)return z.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof C!="number"||C<0||C>65535||C%1!==0)return z.destroy(new Error("Invalid keepalive")),!1;T+=2,T+=1;let p,E;if(A===5){if(p=de(z,J),!p)return!1;T+=p.length}if(P){if(typeof P!="object")return z.destroy(new Error("Invalid will")),!1;if(!P.topic||typeof P.topic!="string")return z.destroy(new Error("Invalid will topic")),!1;if(T+=a.byteLength(P.topic)+2,T+=2,P.payload)if(P.payload.length>=0)typeof P.payload=="string"?T+=a.byteLength(P.payload):T+=P.payload.length;else return z.destroy(new Error("Invalid will payload")),!1;if(E={},A===5){if(E=de(z,P.properties),!E)return!1;T+=E.length}}let x=!1;if(H!=null)if(Ae(H))x=!0,T+=a.byteLength(H)+2;else return z.destroy(new Error("Invalid username")),!1;if(X!=null){if(!x)return z.destroy(new Error("Username is required to use password")),!1;if(Ae(X))T+=Q(X)+2;else return z.destroy(new Error("Invalid password")),!1}z.write(r.CONNECT_HEADER),ae(z,T),ne(z,te),ee.bridgeMode&&(A+=128),z.write(A===131?r.VERSION131:A===132?r.VERSION132:A===4?r.VERSION4:A===5?r.VERSION5:r.VERSION3);let S=0;return S|=H!=null?r.USERNAME_MASK:0,S|=X!=null?r.PASSWORD_MASK:0,S|=P&&P.retain?r.WILL_RETAIN_MASK:0,S|=P&&P.qos?P.qos<<r.WILL_QOS_SHIFT:0,S|=P?r.WILL_FLAG_MASK:0,S|=W?r.CLEAN_SESSION_MASK:0,z.write(a.from([S])),b(z,C),A===5&&p.write(),ne(z,R),P&&(A===5&&E.write(),Z(z,P.topic),ne(z,P.payload)),H!=null&&ne(z,H),X!=null&&ne(z,X),!0}function O(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=ee===5?te.reasonCode:te.returnCode,P=te.properties,W=2;if(typeof A!="number")return z.destroy(new Error("Invalid return code")),!1;let C=null;if(ee===5){if(C=de(z,P),!C)return!1;W+=C.length}return z.write(r.CONNACK_HEADER),ae(z,W),z.write(te.sessionPresent?r.SESSIONPRESENT_HEADER:n),z.write(a.from([A])),C==null||C.write(),!0}function D(re,z,le){s("publish: packet: %o",re);let ee=le?le.protocolVersion:4,te=re||{},A=te.qos||0,P=te.retain?r.RETAIN_MASK:0,W=te.topic,C=te.payload||l,R=te.messageId,H=te.properties,X=0;if(typeof W=="string")X+=a.byteLength(W)+2;else if(a.isBuffer(W))X+=W.length+2;else return z.destroy(new Error("Invalid topic")),!1;if(a.isBuffer(C)?X+=C.length:X+=a.byteLength(C),A&&typeof R!="number")return z.destroy(new Error("Invalid messageId")),!1;A&&(X+=2);let J=null;if(ee===5){if(J=de(z,H),!J)return!1;X+=J.length}return z.write(r.PUBLISH_HEADER[A][te.dup?1:0][P?1:0]),ae(z,X),b(z,Q(W)),z.write(W),A>0&&b(z,R),J==null||J.write(),s("publish: payload: %o",C),z.write(C)}function F(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.cmd||"puback",P=te.messageId,W=te.dup&&A==="pubrel"?r.DUP_MASK:0,C=0,R=te.reasonCode,H=te.properties,X=ee===5?3:2;if(A==="pubrel"&&(C=1),typeof P!="number")return z.destroy(new Error("Invalid messageId")),!1;let J=null;if(ee===5&&typeof H=="object"){if(J=j(z,H,le,X),!J)return!1;X+=J.length}return z.write(r.ACKS[A][C][W][0]),X===3&&(X+=R!==0?1:-1),ae(z,X),b(z,P),ee===5&&X!==2&&z.write(a.from([R])),J!==null?J.write():X===4&&z.write(a.from([0])),!0}function M(re,z,le){s("subscribe: packet: ");let ee=le?le.protocolVersion:4,te=re||{},A=te.dup?r.DUP_MASK:0,P=te.messageId,W=te.subscriptions,C=te.properties,R=0;if(typeof P!="number")return z.destroy(new Error("Invalid messageId")),!1;R+=2;let H=null;if(ee===5){if(H=de(z,C),!H)return!1;R+=H.length}if(typeof W=="object"&&W.length)for(let J=0;J<W.length;J+=1){let T=W[J].topic,p=W[J].qos;if(typeof T!="string")return z.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof p!="number")return z.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ee===5){if(typeof(W[J].nl||!1)!="boolean")return z.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(W[J].rap||!1)!="boolean")return z.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let E=W[J].rh||0;if(typeof E!="number"||E>2)return z.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}R+=a.byteLength(T)+2+1}else return z.destroy(new Error("Invalid subscriptions")),!1;s("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),z.write(r.SUBSCRIBE_HEADER[1][A?1:0][0]),ae(z,R),b(z,P),H!==null&&H.write();let X=!0;for(let J of W){let T=J.topic,p=J.qos,E=+J.nl,x=+J.rap,S=J.rh,G;Z(z,T),G=r.SUBSCRIBE_OPTIONS_QOS[p],ee===5&&(G|=E?r.SUBSCRIBE_OPTIONS_NL:0,G|=x?r.SUBSCRIBE_OPTIONS_RAP:0,G|=S?r.SUBSCRIBE_OPTIONS_RH[S]:0),X=z.write(a.from([G]))}return X}function N(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.messageId,P=te.granted,W=te.properties,C=0;if(typeof A!="number")return z.destroy(new Error("Invalid messageId")),!1;if(C+=2,typeof P=="object"&&P.length)for(let H=0;H<P.length;H+=1){if(typeof P[H]!="number")return z.destroy(new Error("Invalid qos vector")),!1;C+=1}else return z.destroy(new Error("Invalid qos vector")),!1;let R=null;if(ee===5){if(R=j(z,W,le,C),!R)return!1;C+=R.length}return z.write(r.SUBACK_HEADER),ae(z,C),b(z,A),R!==null&&R.write(),z.write(a.from(P))}function K(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.messageId,P=te.dup?r.DUP_MASK:0,W=te.unsubscriptions,C=te.properties,R=0;if(typeof A!="number")return z.destroy(new Error("Invalid messageId")),!1;if(R+=2,typeof W=="object"&&W.length)for(let J=0;J<W.length;J+=1){if(typeof W[J]!="string")return z.destroy(new Error("Invalid unsubscriptions")),!1;R+=a.byteLength(W[J])+2}else return z.destroy(new Error("Invalid unsubscriptions")),!1;let H=null;if(ee===5){if(H=de(z,C),!H)return!1;R+=H.length}z.write(r.UNSUBSCRIBE_HEADER[1][P?1:0][0]),ae(z,R),b(z,A),H!==null&&H.write();let X=!0;for(let J=0;J<W.length;J++)X=Z(z,W[J]);return X}function se(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.messageId,P=te.dup?r.DUP_MASK:0,W=te.granted,C=te.properties,R=te.cmd,H=0,X=2;if(typeof A!="number")return z.destroy(new Error("Invalid messageId")),!1;if(ee===5)if(typeof W=="object"&&W.length)for(let T=0;T<W.length;T+=1){if(typeof W[T]!="number")return z.destroy(new Error("Invalid qos vector")),!1;X+=1}else return z.destroy(new Error("Invalid qos vector")),!1;let J=null;if(ee===5){if(J=j(z,C,le,X),!J)return!1;X+=J.length}return z.write(r.ACKS[R][H][P][0]),ae(z,X),b(z,A),J!==null&&J.write(),ee===5&&z.write(a.from(W)),!0}function oe(re,z,le){return z.write(r.EMPTY[re.cmd])}function fe(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.reasonCode,P=te.properties,W=ee===5?1:0,C=null;if(ee===5){if(C=j(z,P,le,W),!C)return!1;W+=C.length}return z.write(a.from([r.codes.disconnect<<4])),ae(z,W),ee===5&&z.write(a.from([A])),C!==null&&C.write(),!0}function $(re,z,le){let ee=le?le.protocolVersion:4,te=re||{},A=te.reasonCode,P=te.properties,W=ee===5?1:0;ee!==5&&z.destroy(new Error("Invalid mqtt version for auth packet"));let C=j(z,P,le,W);return C?(W+=C.length,z.write(a.from([r.codes.auth<<4])),ae(z,W),z.write(a.from([A])),C!==null&&C.write(),!0):!1}var ie={};function ae(re,z){if(z>r.VARBYTEINT_MAX)return re.destroy(new Error(`Invalid variable byte integer: ${z}`)),!1;let le=ie[z];return le||(le=m(z),z<16384&&(ie[z]=le)),s("writeVarByteInt: writing to stream: %o",le),re.write(le)}function Z(re,z){let le=a.byteLength(z);return b(re,le),s("writeString: %s",z),re.write(z,"utf8")}function pe(re,z,le){Z(re,z),Z(re,le)}function ce(re,z){return s("writeNumberCached: number: %d",z),s("writeNumberCached: %o",u[z]),re.write(u[z])}function ue(re,z){let le=h(z);return s("writeNumberGenerated: %o",le),re.write(le)}function Ee(re,z){let le=y(z);return s("write4ByteNumber: %o",le),re.write(le)}function ne(re,z){typeof z=="string"?Z(re,z):z?(b(re,z.length),re.write(z)):b(re,0)}function de(re,z){if(typeof z!="object"||z.length!=null)return{length:1,write(){be(re,{},0)}};let le=0;function ee(te,A){let P=r.propertiesTypes[te],W=0;switch(P){case"byte":{if(typeof A!="boolean")return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=2;break}case"int8":{if(typeof A!="number"||A<0||A>255)return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=2;break}case"binary":{if(A&&A===null)return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=1+a.byteLength(A)+2;break}case"int16":{if(typeof A!="number"||A<0||A>65535)return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=3;break}case"int32":{if(typeof A!="number"||A<0||A>4294967295)return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=5;break}case"var":{if(typeof A!="number"||A<0||A>268435455)return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=1+a.byteLength(m(A));break}case"string":{if(typeof A!="string")return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=3+a.byteLength(A.toString());break}case"pair":{if(typeof A!="object")return re.destroy(new Error(`Invalid ${te}: ${A}`)),!1;W+=Object.getOwnPropertyNames(A).reduce((C,R)=>{let H=A[R];return Array.isArray(H)?C+=H.reduce((X,J)=>(X+=3+a.byteLength(R.toString())+2+a.byteLength(J.toString()),X),0):C+=3+a.byteLength(R.toString())+2+a.byteLength(A[R].toString()),C},0);break}default:return re.destroy(new Error(`Invalid property ${te}: ${A}`)),!1}return W}if(z)for(let te in z){let A=0,P=0,W=z[te];if(W!==void 0){if(Array.isArray(W))for(let C=0;C<W.length;C++){if(P=ee(te,W[C]),!P)return!1;A+=P}else{if(P=ee(te,W),!P)return!1;A=P}if(!A)return!1;le+=A}}return{length:a.byteLength(m(le))+le,write(){be(re,z,le)}}}function j(re,z,le,ee){let te=["reasonString","userProperties"],A=le&&le.properties&&le.properties.maximumPacketSize?le.properties.maximumPacketSize:0,P=de(re,z);if(A)for(;ee+P.length>A;){let W=te.shift();if(W&&z[W])delete z[W],P=de(re,z);else return!1}return P}function he(re,z,le){switch(r.propertiesTypes[z]){case"byte":{re.write(a.from([r.properties[z]])),re.write(a.from([+le]));break}case"int8":{re.write(a.from([r.properties[z]])),re.write(a.from([le]));break}case"binary":{re.write(a.from([r.properties[z]])),ne(re,le);break}case"int16":{re.write(a.from([r.properties[z]])),b(re,le);break}case"int32":{re.write(a.from([r.properties[z]])),Ee(re,le);break}case"var":{re.write(a.from([r.properties[z]])),ae(re,le);break}case"string":{re.write(a.from([r.properties[z]])),Z(re,le);break}case"pair":{Object.getOwnPropertyNames(le).forEach(ee=>{let te=le[ee];Array.isArray(te)?te.forEach(A=>{re.write(a.from([r.properties[z]])),pe(re,ee.toString(),A.toString())}):(re.write(a.from([r.properties[z]])),pe(re,ee.toString(),te.toString()))});break}default:return re.destroy(new Error(`Invalid property ${z} value: ${le}`)),!1}}function be(re,z,le){ae(re,le);for(let ee in z)if(Object.prototype.hasOwnProperty.call(z,ee)&&z[ee]!=null){let te=z[ee];if(Array.isArray(te))for(let A=0;A<te.length;A++)he(re,ee,te[A]);else he(re,ee,te)}}function Q(re){return re?re instanceof a?re.length:a.byteLength(re):0}function Ae(re){return typeof re=="string"||re instanceof a}t.exports=k}),Rp=_e((e,t)=>{ge(),ye(),me();var r=mc(),{EventEmitter:a}=(zr(),$e(kr)),{Buffer:l}=(ot(),$e(st));function n(o,s){let u=new i;return r(o,u,s),u.concat()}var i=class extends a{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,s=new Array(this._array.length),u=this._array,h=0,d;for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?s[d]=u[d].length:s[d]=l.byteLength(u[d]),o+=s[d];let m=l.allocUnsafe(o);for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?(u[d].copy(m,h),h+=s[d]):(m.write(u[d],h),h+=s[d]);return m}destroy(o){o&&this.emit("error",o)}};t.exports=n}),Up=_e(e=>{ge(),ye(),me(),e.parser=kp().parser,e.generate=Rp(),e.writeToStream=mc()}),yc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};e.default=t}),Mp=_e((e,t)=>{ge(),ye(),me(),t.exports=a;function r(n){return n instanceof wi?wi.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function a(n){if(n=n||{},n.circles)return l(n);let i=new Map;if(i.set(Date,d=>new Date(d)),i.set(Map,(d,m)=>new Map(s(Array.from(d),m))),i.set(Set,(d,m)=>new Set(s(Array.from(d),m))),n.constructorHandlers)for(let d of n.constructorHandlers)i.set(d[0],d[1]);let o=null;return n.proto?h:u;function s(d,m){let y=Object.keys(d),b=new Array(y.length);for(let I=0;I<y.length;I++){let k=y[I],U=d[k];typeof U!="object"||U===null?b[k]=U:U.constructor!==Object&&(o=i.get(U.constructor))?b[k]=o(U,m):ArrayBuffer.isView(U)?b[k]=r(U):b[k]=m(U)}return b}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return s(d,u);if(d.constructor!==Object&&(o=i.get(d.constructor)))return o(d,u);let m={};for(let y in d){if(Object.hasOwnProperty.call(d,y)===!1)continue;let b=d[y];typeof b!="object"||b===null?m[y]=b:b.constructor!==Object&&(o=i.get(b.constructor))?m[y]=o(b,u):ArrayBuffer.isView(b)?m[y]=r(b):m[y]=u(b)}return m}function h(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return s(d,h);if(d.constructor!==Object&&(o=i.get(d.constructor)))return o(d,h);let m={};for(let y in d){let b=d[y];typeof b!="object"||b===null?m[y]=b:b.constructor!==Object&&(o=i.get(b.constructor))?m[y]=o(b,h):ArrayBuffer.isView(b)?m[y]=r(b):m[y]=h(b)}return m}}function l(n){let i=[],o=[],s=new Map;if(s.set(Date,y=>new Date(y)),s.set(Map,(y,b)=>new Map(h(Array.from(y),b))),s.set(Set,(y,b)=>new Set(h(Array.from(y),b))),n.constructorHandlers)for(let y of n.constructorHandlers)s.set(y[0],y[1]);let u=null;return n.proto?m:d;function h(y,b){let I=Object.keys(y),k=new Array(I.length);for(let U=0;U<I.length;U++){let w=I[U],O=y[w];if(typeof O!="object"||O===null)k[w]=O;else if(O.constructor!==Object&&(u=s.get(O.constructor)))k[w]=u(O,b);else if(ArrayBuffer.isView(O))k[w]=r(O);else{let D=i.indexOf(O);D!==-1?k[w]=o[D]:k[w]=b(O)}}return k}function d(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,d);if(y.constructor!==Object&&(u=s.get(y.constructor)))return u(y,d);let b={};i.push(y),o.push(b);for(let I in y){if(Object.hasOwnProperty.call(y,I)===!1)continue;let k=y[I];if(typeof k!="object"||k===null)b[I]=k;else if(k.constructor!==Object&&(u=s.get(k.constructor)))b[I]=u(k,d);else if(ArrayBuffer.isView(k))b[I]=r(k);else{let U=i.indexOf(k);U!==-1?b[I]=o[U]:b[I]=d(k)}}return i.pop(),o.pop(),b}function m(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return h(y,m);if(y.constructor!==Object&&(u=s.get(y.constructor)))return u(y,m);let b={};i.push(y),o.push(b);for(let I in y){let k=y[I];if(typeof k!="object"||k===null)b[I]=k;else if(k.constructor!==Object&&(u=s.get(k.constructor)))b[I]=u(k,m);else if(ArrayBuffer.isView(k))b[I]=r(k);else{let U=i.indexOf(k);U!==-1?b[I]=o[U]:b[I]=m(k)}}return i.pop(),o.pop(),b}}}),Bp=_e((e,t)=>{ge(),ye(),me(),t.exports=Mp()()}),Lp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=r;function t(a){let l=a.split("/");for(let n=0;n<l.length;n++)if(l[n]!=="+"){if(l[n]==="#")return n===l.length-1;if(l[n].indexOf("+")!==-1||l[n].indexOf("#")!==-1)return!1}return!0}function r(a){if(a.length===0)return"empty_topic_list";for(let l=0;l<a.length;l++)if(!t(a[l]))return a[l];return null}}),bc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=Yr(),r={objectMode:!0},a={clean:!0},l=class{constructor(n){this.options=n||{},this.options=Object.assign(Object.assign({},a),n),this._inflights=new Map}put(n,i){return this._inflights.set(n.messageId,n),i&&i(),this}createStream(){let n=new t.Readable(r),i=[],o=!1,s=0;return this._inflights.forEach((u,h)=>{i.push(u)}),n._read=()=>{!o&&s<i.length?n.push(i[s++]):n.push(null)},n.destroy=u=>{if(!o)return o=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,i){let o=this._inflights.get(n.messageId);return o?(this._inflights.delete(n.messageId),i(null,o)):i&&i(new Error("missing packet")),this}get(n,i){let o=this._inflights.get(n.messageId);return o?i(null,o):i&&i(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};e.default=l}),Np=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(a,l,n)=>{a.log("handlePublish: packet %o",l),n=typeof n<"u"?n:a.noop;let i=l.topic.toString(),o=l.payload,{qos:s}=l,{messageId:u}=l,{options:h}=a;if(a.options.protocolVersion===5){let d;if(l.properties&&(d=l.properties.topicAlias),typeof d<"u")if(i.length===0)if(d>0&&d<=65535){let m=a.topicAliasRecv.getTopicByAlias(d);if(m)i=m,a.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,d);else{a.log("handlePublish :: unregistered topic alias. alias: %d",d),a.emit("error",new Error("Received unregistered Topic Alias"));return}}else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}else if(a.topicAliasRecv.put(i,d))a.log("handlePublish :: registered topic: %s - alias: %d",i,d);else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(a.log("handlePublish: qos %d",s),s){case 2:{h.customHandleAcks(i,o,l,(d,m)=>{if(typeof d=="number"&&(m=d,d=null),d)return a.emit("error",d);if(t.indexOf(m)===-1)return a.emit("error",new Error("Wrong reason code for pubrec"));m?a._sendPacket({cmd:"pubrec",messageId:u,reasonCode:m},n):a.incomingStore.put(l,()=>{a._sendPacket({cmd:"pubrec",messageId:u},n)})});break}case 1:{h.customHandleAcks(i,o,l,(d,m)=>{if(typeof d=="number"&&(m=d,d=null),d)return a.emit("error",d);if(t.indexOf(m)===-1)return a.emit("error",new Error("Wrong reason code for puback"));m||a.emit("message",i,o,l),a.handleMessage(l,y=>{if(y)return n&&n(y);a._sendPacket({cmd:"puback",messageId:u,reasonCode:m},n)})});break}case 0:a.emit("message",i,o,l),a.handleMessage(l,n);break;default:a.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r}),jp=_e((e,t)=>{t.exports={version:"5.13.1"}}),fn=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=a;var t=class wc extends Error{constructor(n,i){super(n),this.code=i,Object.setPrototypeOf(this,wc.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var r=class vc extends Error{constructor(n,i){super(n),this.packet=i,Object.setPrototypeOf(this,vc.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=r;function a(l,n,i=!1){var o;let s=[n];for(;;){let u=s[0],h=Object.getPrototypeOf(u);if(h!=null&&h.prototype)s.unshift(h);else break}for(let u of s)for(let h of Object.getOwnPropertyNames(u.prototype))(i||h!=="constructor")&&Object.defineProperty(l.prototype,h,(o=Object.getOwnPropertyDescriptor(u.prototype,h))!==null&&o!==void 0?o:Object.create(null))}e.nextTick=typeof(je==null?void 0:je.nextTick)=="function"?je.nextTick:l=>{setTimeout(l,0)},e.MQTTJS_VERSION=jp().version}),Li=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=fn();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(a,l)=>{let{messageId:n}=l,i=l.cmd,o=null,s=a.outgoing[n]?a.outgoing[n].cb:null,u=null;if(!s){a.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(a.log("_handleAck :: packet type",i),i){case"pubcomp":case"puback":{let h=l.reasonCode;h&&h>0&&h!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),a._removeOutgoingAndStoreMessage(n,()=>{s(u,l)})):a._removeOutgoingAndStoreMessage(n,s);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:n};let h=l.reasonCode;h&&h>0&&h!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[h]}`,h),a._removeOutgoingAndStoreMessage(n,()=>{s(u,l)})):a._sendPacket(o);break}case"suback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n);let h=l.granted;for(let d=0;d<h.length;d++){let m=h[d];if((m&128)!==0){u=new Error(`Subscribe error: ${e.ReasonCodes[m]}`),u.code=m;let y=a.messageIdToTopic[n];y&&y.forEach(b=>{delete a._resubscribeTopics[b]})}}delete a.messageIdToTopic[n],a._invokeStoreProcessingQueue(),s(u,l);break}case"unsuback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n),a._invokeStoreProcessingQueue(),s(null,l);break}default:a.emit("error",new Error("unrecognized packet type"))}a.disconnecting&&Object.keys(a.outgoing).length===0&&a.emit("outgoingEmpty")};e.default=r}),Dp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=fn(),r=Li(),a=(l,n)=>{let{options:i}=l,o=i.protocolVersion,s=o===5?n.reasonCode:n.returnCode;if(o!==5){let u=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,s);l.emit("error",u);return}l.handleAuth(n,(u,h)=>{if(u){l.emit("error",u);return}if(s===24)l.reconnecting=!1,l._sendPacket(h);else{let d=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[s]}`,s);l.emit("error",d)}})};e.default=a}),Fp=_e(e=>{var y,b,I,k,U,w,O,D,F,M,N,K,se,oe,fe,$,ie,ae,Z,pe,ce,ue,Ee,ne,de,j,he,be,Q,Po,re,z,le,ee,_c,A,P,W,yr,br,Ro,oi,ai,ze,Uo,_n,wr,Mo,G;ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,a=typeof je=="object"&&je?je:{},l=(c,f,g,v)=>{typeof a.emitWarning=="function"?a.emitWarning(c,f,g,v):console.error(`[${g}] ${f}: ${c}`)},n=globalThis.AbortController,i=globalThis.AbortSignal;if(typeof n>"u"){i=class{constructor(){Ie(this,"onabort");Ie(this,"_onabort",[]);Ie(this,"reason");Ie(this,"aborted",!1)}addEventListener(g,v){this._onabort.push(v)}},n=class{constructor(){Ie(this,"signal",new i);f()}abort(g){var v,_;if(!this.signal.aborted){this.signal.reason=g,this.signal.aborted=!0;for(let L of this.signal._onabort)L(g);(_=(v=this.signal).onabort)==null||_.call(v,g)}}};let c=((y=a.env)==null?void 0:y.LRU_CACHE_IGNORE_AC_WARNING)!=="1",f=()=>{c&&(c=!1,l("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",f))}}var o=c=>!r.has(c),s=c=>c&&c===Math.floor(c)&&c>0&&isFinite(c),u=c=>s(c)?c<=Math.pow(2,8)?Uint8Array:c<=Math.pow(2,16)?Uint16Array:c<=Math.pow(2,32)?Uint32Array:c<=Number.MAX_SAFE_INTEGER?h:null:null,h=class extends Array{constructor(c){super(c),this.fill(0)}},d=(b=class{constructor(f,g){Ie(this,"heap");Ie(this,"length");if(!q(b,I))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new g(f),this.length=0}static create(f){let g=u(f);if(!g)return[];Re(b,I,!0);let v=new b(f,g);return Re(b,I,!1),v}push(f){this.heap[this.length++]=f}pop(){return this.heap[--this.length]}},I=new WeakMap,Ne(b,I,!1),b),m=(G=class{constructor(f){Ne(this,Q);Ne(this,w);Ne(this,O);Ne(this,D);Ne(this,F);Ne(this,M);Ne(this,N);Ie(this,"ttl");Ie(this,"ttlResolution");Ie(this,"ttlAutopurge");Ie(this,"updateAgeOnGet");Ie(this,"updateAgeOnHas");Ie(this,"allowStale");Ie(this,"noDisposeOnSet");Ie(this,"noUpdateTTL");Ie(this,"maxEntrySize");Ie(this,"sizeCalculation");Ie(this,"noDeleteOnFetchRejection");Ie(this,"noDeleteOnStaleGet");Ie(this,"allowStaleOnFetchAbort");Ie(this,"allowStaleOnFetchRejection");Ie(this,"ignoreFetchAbort");Ne(this,K);Ne(this,se);Ne(this,oe);Ne(this,fe);Ne(this,$);Ne(this,ie);Ne(this,ae);Ne(this,Z);Ne(this,pe);Ne(this,ce);Ne(this,ue);Ne(this,Ee);Ne(this,ne);Ne(this,de);Ne(this,j);Ne(this,he);Ne(this,be);Ne(this,re,()=>{});Ne(this,z,()=>{});Ne(this,le,()=>{});Ne(this,ee,()=>!1);Ne(this,A,f=>{});Ne(this,P,(f,g,v)=>{});Ne(this,W,(f,g,v,_)=>{if(v||_)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Ie(this,k,"LRUCache");let{max:g=0,ttl:v,ttlResolution:_=1,ttlAutopurge:L,updateAgeOnGet:Y,updateAgeOnHas:we,allowStale:ve,dispose:xe,disposeAfter:Ce,noDisposeOnSet:Pe,noUpdateTTL:jt,maxSize:_t=0,maxEntrySize:Tt=0,sizeCalculation:Ye,fetchMethod:it,memoMethod:Me,noDeleteOnFetchRejection:Ve,noDeleteOnStaleGet:ut,allowStaleOnFetchRejection:nt,allowStaleOnFetchAbort:gt,ignoreFetchAbort:gr}=f;if(g!==0&&!s(g))throw new TypeError("max option must be a nonnegative integer");let B=g?u(g):Array;if(!B)throw new Error("invalid max value: "+g);if(Re(this,w,g),Re(this,O,_t),this.maxEntrySize=Tt||q(this,O),this.sizeCalculation=Ye,this.sizeCalculation){if(!q(this,O)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Me!==void 0&&typeof Me!="function")throw new TypeError("memoMethod must be a function if defined");if(Re(this,N,Me),it!==void 0&&typeof it!="function")throw new TypeError("fetchMethod must be a function if specified");if(Re(this,M,it),Re(this,he,!!it),Re(this,oe,new Map),Re(this,fe,new Array(g).fill(void 0)),Re(this,$,new Array(g).fill(void 0)),Re(this,ie,new B(g)),Re(this,ae,new B(g)),Re(this,Z,0),Re(this,pe,0),Re(this,ce,d.create(g)),Re(this,K,0),Re(this,se,0),typeof xe=="function"&&Re(this,D,xe),typeof Ce=="function"?(Re(this,F,Ce),Re(this,ue,[])):(Re(this,F,void 0),Re(this,ue,void 0)),Re(this,j,!!q(this,D)),Re(this,be,!!q(this,F)),this.noDisposeOnSet=!!Pe,this.noUpdateTTL=!!jt,this.noDeleteOnFetchRejection=!!Ve,this.allowStaleOnFetchRejection=!!nt,this.allowStaleOnFetchAbort=!!gt,this.ignoreFetchAbort=!!gr,this.maxEntrySize!==0){if(q(this,O)!==0&&!s(q(this,O)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Oe(this,Q,_c).call(this)}if(this.allowStale=!!ve,this.noDeleteOnStaleGet=!!ut,this.updateAgeOnGet=!!Y,this.updateAgeOnHas=!!we,this.ttlResolution=s(_)||_===0?_:1,this.ttlAutopurge=!!L,this.ttl=v||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Oe(this,Q,Po).call(this)}if(q(this,w)===0&&this.ttl===0&&q(this,O)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!q(this,w)&&!q(this,O)){let V="LRU_CACHE_UNBOUNDED";o(V)&&(r.add(V),l("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,G))}}static unsafeExposeInternals(f){return{starts:q(f,ne),ttls:q(f,de),sizes:q(f,Ee),keyMap:q(f,oe),keyList:q(f,fe),valList:q(f,$),next:q(f,ie),prev:q(f,ae),get head(){return q(f,Z)},get tail(){return q(f,pe)},free:q(f,ce),isBackgroundFetch:g=>{var v;return Oe(v=f,Q,ze).call(v,g)},backgroundFetch:(g,v,_,L)=>{var Y;return Oe(Y=f,Q,ai).call(Y,g,v,_,L)},moveToTail:g=>{var v;return Oe(v=f,Q,_n).call(v,g)},indexes:g=>{var v;return Oe(v=f,Q,yr).call(v,g)},rindexes:g=>{var v;return Oe(v=f,Q,br).call(v,g)},isStale:g=>{var v;return q(v=f,ee).call(v,g)}}}get max(){return q(this,w)}get maxSize(){return q(this,O)}get calculatedSize(){return q(this,se)}get size(){return q(this,K)}get fetchMethod(){return q(this,M)}get memoMethod(){return q(this,N)}get dispose(){return q(this,D)}get disposeAfter(){return q(this,F)}getRemainingTTL(f){return q(this,oe).has(f)?1/0:0}*entries(){for(let f of Oe(this,Q,yr).call(this))q(this,$)[f]!==void 0&&q(this,fe)[f]!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield[q(this,fe)[f],q(this,$)[f]])}*rentries(){for(let f of Oe(this,Q,br).call(this))q(this,$)[f]!==void 0&&q(this,fe)[f]!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield[q(this,fe)[f],q(this,$)[f]])}*keys(){for(let f of Oe(this,Q,yr).call(this)){let g=q(this,fe)[f];g!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield g)}}*rkeys(){for(let f of Oe(this,Q,br).call(this)){let g=q(this,fe)[f];g!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield g)}}*values(){for(let f of Oe(this,Q,yr).call(this))q(this,$)[f]!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield q(this,$)[f])}*rvalues(){for(let f of Oe(this,Q,br).call(this))q(this,$)[f]!==void 0&&!Oe(this,Q,ze).call(this,q(this,$)[f])&&(yield q(this,$)[f])}[(U=Symbol.iterator,k=Symbol.toStringTag,U)](){return this.entries()}find(f,g={}){for(let v of Oe(this,Q,yr).call(this)){let _=q(this,$)[v],L=Oe(this,Q,ze).call(this,_)?_.__staleWhileFetching:_;if(L!==void 0&&f(L,q(this,fe)[v],this))return this.get(q(this,fe)[v],g)}}forEach(f,g=this){for(let v of Oe(this,Q,yr).call(this)){let _=q(this,$)[v],L=Oe(this,Q,ze).call(this,_)?_.__staleWhileFetching:_;L!==void 0&&f.call(g,L,q(this,fe)[v],this)}}rforEach(f,g=this){for(let v of Oe(this,Q,br).call(this)){let _=q(this,$)[v],L=Oe(this,Q,ze).call(this,_)?_.__staleWhileFetching:_;L!==void 0&&f.call(g,L,q(this,fe)[v],this)}}purgeStale(){let f=!1;for(let g of Oe(this,Q,br).call(this,{allowStale:!0}))q(this,ee).call(this,g)&&(Oe(this,Q,wr).call(this,q(this,fe)[g],"expire"),f=!0);return f}info(f){let g=q(this,oe).get(f);if(g===void 0)return;let v=q(this,$)[g],_=Oe(this,Q,ze).call(this,v)?v.__staleWhileFetching:v;if(_===void 0)return;let L={value:_};if(q(this,de)&&q(this,ne)){let Y=q(this,de)[g],we=q(this,ne)[g];if(Y&&we){let ve=Y-(t.now()-we);L.ttl=ve,L.start=Date.now()}}return q(this,Ee)&&(L.size=q(this,Ee)[g]),L}dump(){let f=[];for(let g of Oe(this,Q,yr).call(this,{allowStale:!0})){let v=q(this,fe)[g],_=q(this,$)[g],L=Oe(this,Q,ze).call(this,_)?_.__staleWhileFetching:_;if(L===void 0||v===void 0)continue;let Y={value:L};if(q(this,de)&&q(this,ne)){Y.ttl=q(this,de)[g];let we=t.now()-q(this,ne)[g];Y.start=Math.floor(Date.now()-we)}q(this,Ee)&&(Y.size=q(this,Ee)[g]),f.unshift([v,Y])}return f}load(f){this.clear();for(let[g,v]of f){if(v.start){let _=Date.now()-v.start;v.start=t.now()-_}this.set(g,v.value,v)}}set(f,g,v={}){var jt,_t,Tt,Ye,it;if(g===void 0)return this.delete(f),this;let{ttl:_=this.ttl,start:L,noDisposeOnSet:Y=this.noDisposeOnSet,sizeCalculation:we=this.sizeCalculation,status:ve}=v,{noUpdateTTL:xe=this.noUpdateTTL}=v,Ce=q(this,W).call(this,f,g,v.size||0,we);if(this.maxEntrySize&&Ce>this.maxEntrySize)return ve&&(ve.set="miss",ve.maxEntrySizeExceeded=!0),Oe(this,Q,wr).call(this,f,"set"),this;let Pe=q(this,K)===0?void 0:q(this,oe).get(f);if(Pe===void 0)Pe=q(this,K)===0?q(this,pe):q(this,ce).length!==0?q(this,ce).pop():q(this,K)===q(this,w)?Oe(this,Q,oi).call(this,!1):q(this,K),q(this,fe)[Pe]=f,q(this,$)[Pe]=g,q(this,oe).set(f,Pe),q(this,ie)[q(this,pe)]=Pe,q(this,ae)[Pe]=q(this,pe),Re(this,pe,Pe),Wn(this,K)._++,q(this,P).call(this,Pe,Ce,ve),ve&&(ve.set="add"),xe=!1;else{Oe(this,Q,_n).call(this,Pe);let Me=q(this,$)[Pe];if(g!==Me){if(q(this,he)&&Oe(this,Q,ze).call(this,Me)){Me.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Ve}=Me;Ve!==void 0&&!Y&&(q(this,j)&&((jt=q(this,D))==null||jt.call(this,Ve,f,"set")),q(this,be)&&((_t=q(this,ue))==null||_t.push([Ve,f,"set"])))}else Y||(q(this,j)&&((Tt=q(this,D))==null||Tt.call(this,Me,f,"set")),q(this,be)&&((Ye=q(this,ue))==null||Ye.push([Me,f,"set"])));if(q(this,A).call(this,Pe),q(this,P).call(this,Pe,Ce,ve),q(this,$)[Pe]=g,ve){ve.set="replace";let Ve=Me&&Oe(this,Q,ze).call(this,Me)?Me.__staleWhileFetching:Me;Ve!==void 0&&(ve.oldValue=Ve)}}else ve&&(ve.set="update")}if(_!==0&&!q(this,de)&&Oe(this,Q,Po).call(this),q(this,de)&&(xe||q(this,le).call(this,Pe,_,L),ve&&q(this,z).call(this,ve,Pe)),!Y&&q(this,be)&&q(this,ue)){let Me=q(this,ue),Ve;for(;Ve=Me==null?void 0:Me.shift();)(it=q(this,F))==null||it.call(this,...Ve)}return this}pop(){var f;try{for(;q(this,K);){let g=q(this,$)[q(this,Z)];if(Oe(this,Q,oi).call(this,!0),Oe(this,Q,ze).call(this,g)){if(g.__staleWhileFetching)return g.__staleWhileFetching}else if(g!==void 0)return g}}finally{if(q(this,be)&&q(this,ue)){let g=q(this,ue),v;for(;v=g==null?void 0:g.shift();)(f=q(this,F))==null||f.call(this,...v)}}}has(f,g={}){let{updateAgeOnHas:v=this.updateAgeOnHas,status:_}=g,L=q(this,oe).get(f);if(L!==void 0){let Y=q(this,$)[L];if(Oe(this,Q,ze).call(this,Y)&&Y.__staleWhileFetching===void 0)return!1;if(q(this,ee).call(this,L))_&&(_.has="stale",q(this,z).call(this,_,L));else return v&&q(this,re).call(this,L),_&&(_.has="hit",q(this,z).call(this,_,L)),!0}else _&&(_.has="miss");return!1}peek(f,g={}){let{allowStale:v=this.allowStale}=g,_=q(this,oe).get(f);if(_===void 0||!v&&q(this,ee).call(this,_))return;let L=q(this,$)[_];return Oe(this,Q,ze).call(this,L)?L.__staleWhileFetching:L}async fetch(f,g={}){let{allowStale:v=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:L=this.noDeleteOnStaleGet,ttl:Y=this.ttl,noDisposeOnSet:we=this.noDisposeOnSet,size:ve=0,sizeCalculation:xe=this.sizeCalculation,noUpdateTTL:Ce=this.noUpdateTTL,noDeleteOnFetchRejection:Pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:jt=this.allowStaleOnFetchRejection,ignoreFetchAbort:_t=this.ignoreFetchAbort,allowStaleOnFetchAbort:Tt=this.allowStaleOnFetchAbort,context:Ye,forceRefresh:it=!1,status:Me,signal:Ve}=g;if(!q(this,he))return Me&&(Me.fetch="get"),this.get(f,{allowStale:v,updateAgeOnGet:_,noDeleteOnStaleGet:L,status:Me});let ut={allowStale:v,updateAgeOnGet:_,noDeleteOnStaleGet:L,ttl:Y,noDisposeOnSet:we,size:ve,sizeCalculation:xe,noUpdateTTL:Ce,noDeleteOnFetchRejection:Pe,allowStaleOnFetchRejection:jt,allowStaleOnFetchAbort:Tt,ignoreFetchAbort:_t,status:Me,signal:Ve},nt=q(this,oe).get(f);if(nt===void 0){Me&&(Me.fetch="miss");let gt=Oe(this,Q,ai).call(this,f,nt,ut,Ye);return gt.__returned=gt}else{let gt=q(this,$)[nt];if(Oe(this,Q,ze).call(this,gt)){let Se=v&&gt.__staleWhileFetching!==void 0;return Me&&(Me.fetch="inflight",Se&&(Me.returnedStale=!0)),Se?gt.__staleWhileFetching:gt.__returned=gt}let gr=q(this,ee).call(this,nt);if(!it&&!gr)return Me&&(Me.fetch="hit"),Oe(this,Q,_n).call(this,nt),_&&q(this,re).call(this,nt),Me&&q(this,z).call(this,Me,nt),gt;let B=Oe(this,Q,ai).call(this,f,nt,ut,Ye),V=B.__staleWhileFetching!==void 0&&v;return Me&&(Me.fetch=gr?"stale":"refresh",V&&gr&&(Me.returnedStale=!0)),V?B.__staleWhileFetching:B.__returned=B}}async forceFetch(f,g={}){let v=await this.fetch(f,g);if(v===void 0)throw new Error("fetch() returned undefined");return v}memo(f,g={}){let v=q(this,N);if(!v)throw new Error("no memoMethod provided to constructor");let{context:_,forceRefresh:L,...Y}=g,we=this.get(f,Y);if(!L&&we!==void 0)return we;let ve=v(f,we,{options:Y,context:_});return this.set(f,ve,Y),ve}get(f,g={}){let{allowStale:v=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:L=this.noDeleteOnStaleGet,status:Y}=g,we=q(this,oe).get(f);if(we!==void 0){let ve=q(this,$)[we],xe=Oe(this,Q,ze).call(this,ve);return Y&&q(this,z).call(this,Y,we),q(this,ee).call(this,we)?(Y&&(Y.get="stale"),xe?(Y&&v&&ve.__staleWhileFetching!==void 0&&(Y.returnedStale=!0),v?ve.__staleWhileFetching:void 0):(L||Oe(this,Q,wr).call(this,f,"expire"),Y&&v&&(Y.returnedStale=!0),v?ve:void 0)):(Y&&(Y.get="hit"),xe?ve.__staleWhileFetching:(Oe(this,Q,_n).call(this,we),_&&q(this,re).call(this,we),ve))}else Y&&(Y.get="miss")}delete(f){return Oe(this,Q,wr).call(this,f,"delete")}clear(){return Oe(this,Q,Mo).call(this,"delete")}},w=new WeakMap,O=new WeakMap,D=new WeakMap,F=new WeakMap,M=new WeakMap,N=new WeakMap,K=new WeakMap,se=new WeakMap,oe=new WeakMap,fe=new WeakMap,$=new WeakMap,ie=new WeakMap,ae=new WeakMap,Z=new WeakMap,pe=new WeakMap,ce=new WeakMap,ue=new WeakMap,Ee=new WeakMap,ne=new WeakMap,de=new WeakMap,j=new WeakMap,he=new WeakMap,be=new WeakMap,Q=new WeakSet,Po=function(){let f=new h(q(this,w)),g=new h(q(this,w));Re(this,de,f),Re(this,ne,g),Re(this,le,(L,Y,we=t.now())=>{if(g[L]=Y!==0?we:0,f[L]=Y,Y!==0&&this.ttlAutopurge){let ve=setTimeout(()=>{q(this,ee).call(this,L)&&Oe(this,Q,wr).call(this,q(this,fe)[L],"expire")},Y+1);ve.unref&&ve.unref()}}),Re(this,re,L=>{g[L]=f[L]!==0?t.now():0}),Re(this,z,(L,Y)=>{if(f[Y]){let we=f[Y],ve=g[Y];if(!we||!ve)return;L.ttl=we,L.start=ve,L.now=v||_();let xe=L.now-ve;L.remainingTTL=we-xe}});let v=0,_=()=>{let L=t.now();if(this.ttlResolution>0){v=L;let Y=setTimeout(()=>v=0,this.ttlResolution);Y.unref&&Y.unref()}return L};this.getRemainingTTL=L=>{let Y=q(this,oe).get(L);if(Y===void 0)return 0;let we=f[Y],ve=g[Y];if(!we||!ve)return 1/0;let xe=(v||_())-ve;return we-xe},Re(this,ee,L=>{let Y=g[L],we=f[L];return!!we&&!!Y&&(v||_())-Y>we})},re=new WeakMap,z=new WeakMap,le=new WeakMap,ee=new WeakMap,_c=function(){let f=new h(q(this,w));Re(this,se,0),Re(this,Ee,f),Re(this,A,g=>{Re(this,se,q(this,se)-f[g]),f[g]=0}),Re(this,W,(g,v,_,L)=>{if(Oe(this,Q,ze).call(this,v))return 0;if(!s(_))if(L){if(typeof L!="function")throw new TypeError("sizeCalculation must be a function");if(_=L(v,g),!s(_))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return _}),Re(this,P,(g,v,_)=>{if(f[g]=v,q(this,O)){let L=q(this,O)-f[g];for(;q(this,se)>L;)Oe(this,Q,oi).call(this,!0)}Re(this,se,q(this,se)+f[g]),_&&(_.entrySize=v,_.totalCalculatedSize=q(this,se))})},A=new WeakMap,P=new WeakMap,W=new WeakMap,yr=function*({allowStale:f=this.allowStale}={}){if(q(this,K))for(let g=q(this,pe);!(!Oe(this,Q,Ro).call(this,g)||((f||!q(this,ee).call(this,g))&&(yield g),g===q(this,Z)));)g=q(this,ae)[g]},br=function*({allowStale:f=this.allowStale}={}){if(q(this,K))for(let g=q(this,Z);!(!Oe(this,Q,Ro).call(this,g)||((f||!q(this,ee).call(this,g))&&(yield g),g===q(this,pe)));)g=q(this,ie)[g]},Ro=function(f){return f!==void 0&&q(this,oe).get(q(this,fe)[f])===f},oi=function(f){var L,Y;let g=q(this,Z),v=q(this,fe)[g],_=q(this,$)[g];return q(this,he)&&Oe(this,Q,ze).call(this,_)?_.__abortController.abort(new Error("evicted")):(q(this,j)||q(this,be))&&(q(this,j)&&((L=q(this,D))==null||L.call(this,_,v,"evict")),q(this,be)&&((Y=q(this,ue))==null||Y.push([_,v,"evict"]))),q(this,A).call(this,g),f&&(q(this,fe)[g]=void 0,q(this,$)[g]=void 0,q(this,ce).push(g)),q(this,K)===1?(Re(this,Z,Re(this,pe,0)),q(this,ce).length=0):Re(this,Z,q(this,ie)[g]),q(this,oe).delete(v),Wn(this,K)._--,g},ai=function(f,g,v,_){let L=g===void 0?void 0:q(this,$)[g];if(Oe(this,Q,ze).call(this,L))return L;let Y=new n,{signal:we}=v;we==null||we.addEventListener("abort",()=>Y.abort(we.reason),{signal:Y.signal});let ve={signal:Y.signal,options:v,context:_},xe=(Ye,it=!1)=>{let{aborted:Me}=Y.signal,Ve=v.ignoreFetchAbort&&Ye!==void 0;if(v.status&&(Me&&!it?(v.status.fetchAborted=!0,v.status.fetchError=Y.signal.reason,Ve&&(v.status.fetchAbortIgnored=!0)):v.status.fetchResolved=!0),Me&&!Ve&&!it)return Pe(Y.signal.reason);let ut=_t;return q(this,$)[g]===_t&&(Ye===void 0?ut.__staleWhileFetching?q(this,$)[g]=ut.__staleWhileFetching:Oe(this,Q,wr).call(this,f,"fetch"):(v.status&&(v.status.fetchUpdated=!0),this.set(f,Ye,ve.options))),Ye},Ce=Ye=>(v.status&&(v.status.fetchRejected=!0,v.status.fetchError=Ye),Pe(Ye)),Pe=Ye=>{let{aborted:it}=Y.signal,Me=it&&v.allowStaleOnFetchAbort,Ve=Me||v.allowStaleOnFetchRejection,ut=Ve||v.noDeleteOnFetchRejection,nt=_t;if(q(this,$)[g]===_t&&(!ut||nt.__staleWhileFetching===void 0?Oe(this,Q,wr).call(this,f,"fetch"):Me||(q(this,$)[g]=nt.__staleWhileFetching)),Ve)return v.status&&nt.__staleWhileFetching!==void 0&&(v.status.returnedStale=!0),nt.__staleWhileFetching;if(nt.__returned===nt)throw Ye},jt=(Ye,it)=>{var Ve;let Me=(Ve=q(this,M))==null?void 0:Ve.call(this,f,L,ve);Me&&Me instanceof Promise&&Me.then(ut=>Ye(ut===void 0?void 0:ut),it),Y.signal.addEventListener("abort",()=>{(!v.ignoreFetchAbort||v.allowStaleOnFetchAbort)&&(Ye(void 0),v.allowStaleOnFetchAbort&&(Ye=ut=>xe(ut,!0)))})};v.status&&(v.status.fetchDispatched=!0);let _t=new Promise(jt).then(xe,Ce),Tt=Object.assign(_t,{__abortController:Y,__staleWhileFetching:L,__returned:void 0});return g===void 0?(this.set(f,Tt,{...ve.options,status:void 0}),g=q(this,oe).get(f)):q(this,$)[g]=Tt,Tt},ze=function(f){if(!q(this,he))return!1;let g=f;return!!g&&g instanceof Promise&&g.hasOwnProperty("__staleWhileFetching")&&g.__abortController instanceof n},Uo=function(f,g){q(this,ae)[g]=f,q(this,ie)[f]=g},_n=function(f){f!==q(this,pe)&&(f===q(this,Z)?Re(this,Z,q(this,ie)[f]):Oe(this,Q,Uo).call(this,q(this,ae)[f],q(this,ie)[f]),Oe(this,Q,Uo).call(this,q(this,pe),f),Re(this,pe,f))},wr=function(f,g){var _,L,Y,we;let v=!1;if(q(this,K)!==0){let ve=q(this,oe).get(f);if(ve!==void 0)if(v=!0,q(this,K)===1)Oe(this,Q,Mo).call(this,g);else{q(this,A).call(this,ve);let xe=q(this,$)[ve];if(Oe(this,Q,ze).call(this,xe)?xe.__abortController.abort(new Error("deleted")):(q(this,j)||q(this,be))&&(q(this,j)&&((_=q(this,D))==null||_.call(this,xe,f,g)),q(this,be)&&((L=q(this,ue))==null||L.push([xe,f,g]))),q(this,oe).delete(f),q(this,fe)[ve]=void 0,q(this,$)[ve]=void 0,ve===q(this,pe))Re(this,pe,q(this,ae)[ve]);else if(ve===q(this,Z))Re(this,Z,q(this,ie)[ve]);else{let Ce=q(this,ae)[ve];q(this,ie)[Ce]=q(this,ie)[ve];let Pe=q(this,ie)[ve];q(this,ae)[Pe]=q(this,ae)[ve]}Wn(this,K)._--,q(this,ce).push(ve)}}if(q(this,be)&&((Y=q(this,ue))!=null&&Y.length)){let ve=q(this,ue),xe;for(;xe=ve==null?void 0:ve.shift();)(we=q(this,F))==null||we.call(this,...xe)}return v},Mo=function(f){var g,v,_;for(let L of Oe(this,Q,br).call(this,{allowStale:!0})){let Y=q(this,$)[L];if(Oe(this,Q,ze).call(this,Y))Y.__abortController.abort(new Error("deleted"));else{let we=q(this,fe)[L];q(this,j)&&((g=q(this,D))==null||g.call(this,Y,we,f)),q(this,be)&&((v=q(this,ue))==null||v.push([Y,we,f]))}}if(q(this,oe).clear(),q(this,$).fill(void 0),q(this,fe).fill(void 0),q(this,de)&&q(this,ne)&&(q(this,de).fill(0),q(this,ne).fill(0)),q(this,Ee)&&q(this,Ee).fill(0),Re(this,Z,0),Re(this,pe,0),q(this,ce).length=0,Re(this,se,0),Re(this,K,0),q(this,be)&&q(this,ue)){let L=q(this,ue),Y;for(;Y=L==null?void 0:L.shift();)(_=q(this,F))==null||_.call(this,...Y)}},G);e.LRUCache=m}),dr=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(l=0){this.iteratorType=l}equals(l){return this.o===l.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=r;var a=class extends r{};e.Container=a}),Wp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=dr(),r=class extends t.Base{constructor(l=[]){super(),this.S=[];let n=this;l.forEach(function(i){n.push(i)})}clear(){this.i=0,this.S=[]}push(l){return this.S.push(l),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},a=r;e.default=a}),Hp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=dr(),r=class extends t.Base{constructor(l=[]){super(),this.j=0,this.q=[];let n=this;l.forEach(function(i){n.push(i)})}clear(){this.q=[],this.i=this.j=0}push(l){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let i=this.i;for(let o=0;o<i;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=l}else this.q[this.j+this.i]=l;return++this.i}pop(){if(this.i===0)return;let l=this.q[this.j++];return this.i-=1,l}front(){if(this.i!==0)return this.q[this.j]}},a=r;e.default=a}),$p=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=dr(),r=class extends t.Base{constructor(l=[],n=function(o,s){return o>s?-1:o<s?1:0},i=!0){if(super(),this.v=n,Array.isArray(l))this.C=i?[...l]:l;else{this.C=[];let s=this;l.forEach(function(u){s.C.push(u)})}this.i=this.C.length;let o=this.i>>1;for(let s=this.i-1>>1;s>=0;--s)this.k(s,o)}m(l){let n=this.C[l];for(;l>0;){let i=l-1>>1,o=this.C[i];if(this.v(o,n)<=0)break;this.C[l]=o,l=i}this.C[l]=n}k(l,n){let i=this.C[l];for(;l<n;){let o=l<<1|1,s=o+1,u=this.C[o];if(s<this.i&&this.v(u,this.C[s])>0&&(o=s,u=this.C[s]),this.v(u,i)>=0)break;this.C[l]=u,l=o}this.C[l]=i}clear(){this.i=0,this.C.length=0}push(l){this.C.push(l),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let l=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),l}top(){return this.C[0]}find(l){return this.C.indexOf(l)>=0}remove(l){let n=this.C.indexOf(l);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(l){let n=this.C.indexOf(l);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},a=r;e.default=a}),ma=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=dr(),r=class extends t.Container{},a=r;e.default=a}),pr=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),Ec=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=dr(),r=pr(),a=class extends t.ContainerIterator{constructor(l,n){super(n),this.o=l,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(l){this.container.setElementByPos(this.o,l)}};e.RandomIterator=a}),qp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=a(ma()),r=Ec();function a(o){return o&&o.t?o:{default:o}}var l=class Sc extends r.RandomIterator{constructor(s,u,h){super(s,h),this.container=u}copy(){return new Sc(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(o=[],s=!0){if(super(),Array.isArray(o))this.J=s?[...o]:o,this.i=o.length;else{this.J=[];let u=this;o.forEach(function(h){u.pushBack(h)})}}clear(){this.i=0,this.J.length=0}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let s=0;for(let u=0;u<this.i;++u)this.J[u]!==o&&(this.J[s++]=this.J[u]);return this.i=this.J.length=s,this.i}eraseElementByIterator(o){let s=o.o;return o=o.next(),this.eraseElementByPos(s),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,s){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=s}insert(o,s,u=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(u).fill(s)),this.i+=u,this.i}find(o){for(let s=0;s<this.i;++s)if(this.J[s]===o)return new l(s,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let s=1;s<this.i;++s)this.J[s]!==this.J[s-1]&&(this.J[o++]=this.J[s]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let s=0;s<this.i;++s)o(this.J[s],s,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},i=n;e.default=i}),Vp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(ma()),r=dr(),a=pr();function l(s){return s&&s.t?s:{default:s}}var n=class Ac extends r.ContainerIterator{constructor(u,h,d,m){super(m),this.o=u,this.h=h,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l=u}copy(){return new Ac(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(s=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;s.forEach(function(h){u.pushBack(h)})}V(s){let{L:u,B:h}=s;u.B=h,h.L=u,s===this.p&&(this.p=h),s===this._&&(this._=u),this.i-=1}G(s,u){let h=u.B,d={l:s,L:u,B:h};u.B=d,h.L=d,u===this.h&&(this.p=d),h===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u=this.p;for(;s--;)u=u.B;return u.l}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u=this.p;for(;s--;)u=u.B;return this.V(u),this.i}eraseElementByValue(s){let u=this.p;for(;u!==this.h;)u.l===s&&this.V(u),u=u.B;return this.i}eraseElementByIterator(s){let u=s.o;return u===this.h&&(0,a.throwIteratorAccessError)(),s=s.next(),this.V(u),s}pushBack(s){return this.G(s,this._),this.i}popBack(){if(this.i===0)return;let s=this._.l;return this.V(this._),s}pushFront(s){return this.G(s,this.h),this.i}popFront(){if(this.i===0)return;let s=this.p.l;return this.V(this.p),s}setElementByPos(s,u){if(s<0||s>this.i-1)throw new RangeError;let h=this.p;for(;s--;)h=h.B;h.l=u}insert(s,u,h=1){if(s<0||s>this.i)throw new RangeError;if(h<=0)return this.i;if(s===0)for(;h--;)this.pushFront(u);else if(s===this.i)for(;h--;)this.pushBack(u);else{let d=this.p;for(let y=1;y<s;++y)d=d.B;let m=d.B;for(this.i+=h;h--;)d.B={l:u,L:d},d.B.L=d,d=d.B;d.B=m,m.L=d}return this.i}find(s){let u=this.p;for(;u!==this.h;){if(u.l===s)return new n(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let s=this.p,u=this._,h=0;for(;h<<1<this.i;){let d=s.l;s.l=u.l,u.l=d,s=s.B,u=u.L,h+=1}}unique(){if(this.i<=1)return this.i;let s=this.p;for(;s!==this.h;){let u=s;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;s.B=u.B,s.B.L=s,s=s.B}return this.i}sort(s){if(this.i<=1)return;let u=[];this.forEach(function(d){u.push(d)}),u.sort(s);let h=this.p;u.forEach(function(d){h.l=d,h=h.B})}merge(s){let u=this;if(this.i===0)s.forEach(function(h){u.pushBack(h)});else{let h=this.p;s.forEach(function(d){for(;h!==u.h&&h.l<=d;)h=h.B;u.G(d,h.L)})}return this.i}forEach(s){let u=this.p,h=0;for(;u!==this.h;)s(u.l,h++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let s=this.p;for(;s!==this.h;)yield s.l,s=s.B}).bind(this)()}},o=i;e.default=o}),Kp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=a(ma()),r=Ec();function a(o){return o&&o.t?o:{default:o}}var l=class Tc extends r.RandomIterator{constructor(s,u,h){super(s,h),this.container=u}copy(){return new Tc(this.o,this.container,this.iteratorType)}},n=class extends t.default{constructor(o=[],s=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=s,this.P=Math.max(Math.ceil(u/this.F),1);for(let m=0;m<this.P;++m)this.A.push(new Array(this.F));let h=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(h>>1),this.D=this.N=this.F-u%this.F>>1;let d=this;o.forEach(function(m){d.pushBack(m)})}T(){let o=[],s=Math.max(this.P>>1,1);for(let u=0;u<s;++u)o[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)o[o.length]=this.A[u];for(let u=0;u<this.R;++u)o[o.length]=this.A[u];o[o.length]=[...this.A[this.R]],this.j=s,this.R=o.length-1;for(let u=0;u<s;++u)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let s=this.D+o+1,u=s%this.F,h=u-1,d=this.j+(s-u)/this.F;return u===0&&(d-=1),d%=this.P,h<0&&(h+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:h}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new l(0,this)}end(){return new l(this.i,this)}rBegin(){return new l(this.i-1,this,1)}rEnd(){return new l(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:s,curNodePointerIndex:u}=this.O(o);return this.A[s][u]}setElementByPos(o,s){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:h}=this.O(o);this.A[u][h]=s}insert(o,s,u=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;u--;)this.pushFront(s);else if(o===this.i)for(;u--;)this.pushBack(s);else{let h=[];for(let d=o;d<this.i;++d)h.push(this.getElementByPos(d));this.cut(o-1);for(let d=0;d<u;++d)this.pushBack(s);for(let d=0;d<h.length;++d)this.pushBack(h[d])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:s,curNodePointerIndex:u}=this.O(o);return this.R=s,this.N=u,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let s=[];for(let h=o+1;h<this.i;++h)s.push(this.getElementByPos(h));this.cut(o),this.popBack();let u=this;s.forEach(function(h){u.pushBack(h)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let s=[];for(let h=0;h<this.i;++h){let d=this.getElementByPos(h);d!==o&&s.push(d)}let u=s.length;for(let h=0;h<u;++h)this.setElementByPos(h,s[h]);return this.cut(u-1)}eraseElementByIterator(o){let s=o.o;return this.eraseElementByPos(s),o=o.next(),o}find(o){for(let s=0;s<this.i;++s)if(this.getElementByPos(s)===o)return new l(s,this);return this.end()}reverse(){let o=0,s=this.i-1;for(;o<s;){let u=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(s)),this.setElementByPos(s,u),o+=1,s-=1}}unique(){if(this.i<=1)return this.i;let o=1,s=this.getElementByPos(0);for(let u=1;u<this.i;++u){let h=this.getElementByPos(u);h!==s&&(s=h,this.setElementByPos(o++,h))}for(;this.i>o;)this.popBack();return this.i}sort(o){let s=[];for(let u=0;u<this.i;++u)s.push(this.getElementByPos(u));s.sort(o);for(let u=0;u<this.i;++u)this.setElementByPos(u,s[u])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(s){o.push(s)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let s=0;s<this.P;++s)this.A.push(new Array(this.F));for(let s=0;s<o.length;++s)this.pushBack(o[s])}forEach(o){for(let s=0;s<this.i;++s)o(this.getElementByPos(s),s,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},i=n;e.default=i}),zp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(a,l){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=a,this.l=l}L(){let a=this;if(a.ee===1&&a.tt.tt===a)a=a.W;else if(a.U)for(a=a.U;a.W;)a=a.W;else{let l=a.tt;for(;l.U===a;)a=l,l=a.tt;a=l}return a}B(){let a=this;if(a.W){for(a=a.W;a.U;)a=a.U;return a}else{let l=a.tt;for(;l.W===a;)a=l,l=a.tt;return a.W!==l?l:a}}te(){let a=this.tt,l=this.W,n=l.U;return a.tt===this?a.tt=l:a.U===this?a.U=l:a.W=l,l.tt=a,l.U=this,this.tt=l,this.W=n,n&&(n.tt=this),l}se(){let a=this.tt,l=this.U,n=l.W;return a.tt===this?a.tt=l:a.U===this?a.U=l:a.W=l,l.tt=a,l.W=this,this.tt=l,this.U=n,n&&(n.tt=this),l}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let a=super.te();return this.ie(),a.ie(),a}se(){let a=super.se();return this.ie(),a.ie(),a}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r}),Ic=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=zp(),r=dr(),a=pr(),l=class extends r.Container{constructor(i=function(s,u){return s<u?-1:s>u?1:0},o=!1){super(),this.Y=void 0,this.v=i,o?(this.re=t.TreeNodeEnableIndex,this.M=function(s,u,h){let d=this.ne(s,u,h);if(d){let m=d.tt;for(;m!==this.h;)m.rt+=1,m=m.tt;let y=this.he(d);if(y){let{parentNode:b,grandParent:I,curNode:k}=y;b.ie(),I.ie(),k.ie()}}return this.i},this.V=function(s){let u=this.fe(s);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=t.TreeNode,this.M=function(s,u,h){let d=this.ne(s,u,h);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(i,o){let s=this.h;for(;i;){let u=this.v(i.u,o);if(u<0)i=i.W;else if(u>0)s=i,i=i.U;else return i}return s}Z(i,o){let s=this.h;for(;i;)this.v(i.u,o)<=0?i=i.W:(s=i,i=i.U);return s}$(i,o){let s=this.h;for(;i;){let u=this.v(i.u,o);if(u<0)s=i,i=i.W;else if(u>0)i=i.U;else return i}return s}rr(i,o){let s=this.h;for(;i;)this.v(i.u,o)<0?(s=i,i=i.W):i=i.U;return s}ue(i){for(;;){let o=i.tt;if(o===this.h)return;if(i.ee===1){i.ee=0;return}if(i===o.U){let s=o.W;if(s.ee===1)s.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(s.W&&s.W.ee===1){s.ee=o.ee,o.ee=0,s.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else s.U&&s.U.ee===1?(s.ee=1,s.U.ee=0,s.se()):(s.ee=1,i=o)}else{let s=o.U;if(s.ee===1)s.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(s.U&&s.U.ee===1){s.ee=o.ee,o.ee=0,s.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else s.W&&s.W.ee===1?(s.ee=1,s.W.ee=0,s.te()):(s.ee=1,i=o)}}}fe(i){if(this.i===1)return this.clear(),this.h;let o=i;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[i.u,o.u]=[o.u,i.u],[i.l,o.l]=[o.l,i.l],i=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let s=o.tt;return o===s.U?s.U=void 0:s.W=void 0,this.i-=1,this.Y.ee=0,s}oe(i,o){return i===void 0?!1:this.oe(i.U,o)||o(i)?!0:this.oe(i.W,o)}he(i){for(;;){let o=i.tt;if(o.ee===0)return;let s=o.tt;if(o===s.U){let u=s.W;if(u&&u.ee===1){if(u.ee=o.ee=0,s===this.Y)return;s.ee=1,i=s;continue}else if(i===o.W){if(i.ee=0,i.U&&(i.U.tt=o),i.W&&(i.W.tt=s),o.W=i.U,s.U=i.W,i.U=o,i.W=s,s===this.Y)this.Y=i,this.h.tt=i;else{let h=s.tt;h.U===s?h.U=i:h.W=i}return i.tt=s.tt,o.tt=i,s.tt=i,s.ee=1,{parentNode:o,grandParent:s,curNode:i}}else o.ee=0,s===this.Y?this.Y=s.se():s.se(),s.ee=1}else{let u=s.U;if(u&&u.ee===1){if(u.ee=o.ee=0,s===this.Y)return;s.ee=1,i=s;continue}else if(i===o.U){if(i.ee=0,i.U&&(i.U.tt=s),i.W&&(i.W.tt=o),s.W=i.U,o.U=i.W,i.U=s,i.W=o,s===this.Y)this.Y=i,this.h.tt=i;else{let h=s.tt;h.U===s?h.U=i:h.W=i}return i.tt=s.tt,o.tt=i,s.tt=i,s.ee=1,{parentNode:o,grandParent:s,curNode:i}}else o.ee=0,s===this.Y?this.Y=s.te():s.te(),s.ee=1}return}}ne(i,o,s){if(this.Y===void 0){this.i+=1,this.Y=new this.re(i,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,h=this.h.U,d=this.v(h.u,i);if(d===0){h.l=o;return}else if(d>0)h.U=new this.re(i,o),h.U.tt=h,u=h.U,this.h.U=u;else{let m=this.h.W,y=this.v(m.u,i);if(y===0){m.l=o;return}else if(y<0)m.W=new this.re(i,o),m.W.tt=m,u=m.W,this.h.W=u;else{if(s!==void 0){let b=s.o;if(b!==this.h){let I=this.v(b.u,i);if(I===0){b.l=o;return}else if(I>0){let k=b.L(),U=this.v(k.u,i);if(U===0){k.l=o;return}else U<0&&(u=new this.re(i,o),k.W===void 0?(k.W=u,u.tt=k):(b.U=u,u.tt=b))}}}if(u===void 0)for(u=this.Y;;){let b=this.v(u.u,i);if(b>0){if(u.U===void 0){u.U=new this.re(i,o),u.U.tt=u,u=u.U;break}u=u.U}else if(b<0){if(u.W===void 0){u.W=new this.re(i,o),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=o;return}}}}return this.i+=1,u}I(i,o){for(;i;){let s=this.v(i.u,o);if(s<0)i=i.W;else if(s>0)i=i.U;else return i}return i||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(i,o){let s=i.o;if(s===this.h&&(0,a.throwIteratorAccessError)(),this.i===1)return s.u=o,!0;if(s===this.h.U)return this.v(s.B().u,o)>0?(s.u=o,!0):!1;if(s===this.h.W)return this.v(s.L().u,o)<0?(s.u=o,!0):!1;let u=s.L().u;if(this.v(u,o)>=0)return!1;let h=s.B().u;return this.v(h,o)<=0?!1:(s.u=o,!0)}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o=0,s=this;return this.oe(this.Y,function(u){return i===o?(s.V(u),!0):(o+=1,!1)}),this.i}eraseElementByKey(i){if(this.i===0)return!1;let o=this.I(this.Y,i);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(i){let o=i.o;o===this.h&&(0,a.throwIteratorAccessError)();let s=o.W===void 0;return i.iteratorType===0?s&&i.next():(!s||o.U===void 0)&&i.next(),this.V(o),i}forEach(i){let o=0;for(let s of this)i(s,o++,this)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o,s=0;for(let u of this){if(s===i){o=u;break}s+=1}return o}getHeight(){if(this.i===0)return 0;let i=function(o){return o?Math.max(i(o.U),i(o.W))+1:0};return i(this.Y)}},n=l;e.default=n}),xc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=dr(),r=pr(),a=class extends t.ContainerIterator{constructor(n,i,o){super(o),this.o=n,this.h=i,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,i=this.h.tt;if(n===this.h)return i?i.rt-1:0;let o=0;for(n.U&&(o+=n.U.rt);n!==i;){let s=n.tt;n===s.W&&(o+=1,s.U&&(o+=s.U.rt)),n=s}return o}},l=a;e.default=l}),Gp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(Ic()),r=l(xc()),a=pr();function l(s){return s&&s.t?s:{default:s}}var n=class Oc extends r.default{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new Oc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(s=[],u,h){super(u,h);let d=this;s.forEach(function(m){d.insert(m)})}*K(s){s!==void 0&&(yield*this.K(s.U),yield s.u,yield*this.K(s.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(s,u){return this.M(s,void 0,u)}find(s){let u=this.I(this.Y,s);return new n(u,this.h,this)}lowerBound(s){let u=this.X(this.Y,s);return new n(u,this.h,this)}upperBound(s){let u=this.Z(this.Y,s);return new n(u,this.h,this)}reverseLowerBound(s){let u=this.$(this.Y,s);return new n(u,this.h,this)}reverseUpperBound(s){let u=this.rr(this.Y,s);return new n(u,this.h,this)}union(s){let u=this;return s.forEach(function(h){u.insert(h)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=i;e.default=o}),Yp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=l(Ic()),r=l(xc()),a=pr();function l(s){return s&&s.t?s:{default:s}}var n=class kc extends r.default{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let u=this;return new Proxy([],{get(h,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(h,d,m){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=m,!0}})}copy(){return new kc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.default{constructor(s=[],u,h){super(u,h);let d=this;s.forEach(function(m){d.setElement(m[0],m[1])})}*K(s){s!==void 0&&(yield*this.K(s.U),yield[s.u,s.l],yield*this.K(s.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let s=this.h.U;return[s.u,s.l]}back(){if(this.i===0)return;let s=this.h.W;return[s.u,s.l]}lowerBound(s){let u=this.X(this.Y,s);return new n(u,this.h,this)}upperBound(s){let u=this.Z(this.Y,s);return new n(u,this.h,this)}reverseLowerBound(s){let u=this.$(this.Y,s);return new n(u,this.h,this)}reverseUpperBound(s){let u=this.rr(this.Y,s);return new n(u,this.h,this)}setElement(s,u,h){return this.M(s,u,h)}find(s){let u=this.I(this.Y,s);return new n(u,this.h,this)}getElementByKey(s){return this.I(this.Y,s).l}union(s){let u=this;return s.forEach(function(h){u.setElement(h[0],h[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=i;e.default=o}),Cc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(r){let a=typeof r;return a==="object"&&r!==null||a==="function"}}),Pc=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=dr(),r=l(Cc()),a=pr();function l(o){return o&&o.t?o:{default:o}}var n=class extends t.ContainerIterator{constructor(o,s,u){super(u),this.o=o,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=n;var i=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:s,B:u}=o;s.B=u,u.L=s,o===this.p&&(this.p=u),o===this._&&(this._=s),this.i-=1}M(o,s,u){u===void 0&&(u=(0,r.default)(o));let h;if(u){let d=o[this.HASH_TAG];if(d!==void 0)return this.H[d].l=s,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),h={u:o,l:s,L:this._,B:this.h},this.H.push(h)}else{let d=this.g[o];if(d)return d.l=s,this.i;h={u:o,l:s,L:this._,B:this.h},this.g[o]=h}return this.i===0?(this.p=h,this.h.B=h):this._.B=h,this._=h,this.h.L=h,++this.i}I(o,s){if(s===void 0&&(s=(0,r.default)(o)),s){let u=o[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(s){delete s.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,s){let u;if(s===void 0&&(s=(0,r.default)(o)),s){let h=o[this.HASH_TAG];if(h===void 0)return!1;delete o[this.HASH_TAG],u=this.H[h],delete this.H[h]}else{if(u=this.g[o],u===void 0)return!1;delete this.g[o]}return this.V(u),!0}eraseElementByIterator(o){let s=o.o;return s===this.h&&(0,a.throwIteratorAccessError)(),this.V(s),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let s=this.p;for(;o--;)s=s.B;return this.V(s),this.i}};e.HashContainer=i}),Qp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pc(),r=pr(),a=class Rc extends t.HashContainerIterator{constructor(o,s,u,h){super(o,s,h),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new Rc(this.o,this.h,this.container,this.iteratorType)}},l=class extends t.HashContainer{constructor(i=[]){super();let o=this;i.forEach(function(s){o.insert(s)})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(i,o){return this.M(i,void 0,o)}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let o=this.p;for(;i--;)o=o.B;return o.u}find(i,o){let s=this.I(i,o);return new a(s,this.h,this)}forEach(i){let o=0,s=this.p;for(;s!==this.h;)i(s.u,o++,this),s=s.B}[Symbol.iterator](){return(function*(){let i=this.p;for(;i!==this.h;)yield i.u,i=i.B}).bind(this)()}},n=l;e.default=n}),Jp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pc(),r=l(Cc()),a=pr();function l(s){return s&&s.t?s:{default:s}}var n=class Uc extends t.HashContainerIterator{constructor(u,h,d,m){super(u,h,m),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let u=this;return new Proxy([],{get(h,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(h,d,m){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=m,!0}})}copy(){return new Uc(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(s=[]){super();let u=this;s.forEach(function(h){u.setElement(h[0],h[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(s,u,h){return this.M(s,u,h)}getElementByKey(s,u){if(u===void 0&&(u=(0,r.default)(s)),u){let d=s[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let h=this.g[s];return h?h.l:void 0}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u=this.p;for(;s--;)u=u.B;return[u.u,u.l]}find(s,u){let h=this.I(s,u);return new n(h,this.h,this)}forEach(s){let u=0,h=this.p;for(;h!==this.h;)s([h.u,h.l],u++,this),h=h.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield[s.u,s.l],s=s.B}).bind(this)()}},o=i;e.default=o}),Xp=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return l.default}});var t=d(Wp()),r=d(Hp()),a=d($p()),l=d(qp()),n=d(Vp()),i=d(Kp()),o=d(Gp()),s=d(Yp()),u=d(Qp()),h=d(Jp());function d(m){return m&&m.t?m:{default:m}}}),Zp=_e((e,t)=>{ge(),ye(),me();var r=Xp().OrderedSet,a=cr()("number-allocator:trace"),l=cr()("number-allocator:error");function n(o,s){this.low=o,this.high=s}n.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},n.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function i(o,s){if(!(this instanceof i))return new i(o,s);this.min=o,this.max=s,this.ss=new r([],(u,h)=>u.compare(h)),a("Create"),this.clear()}i.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},i.prototype.alloc=function(){if(this.ss.size()===0)return a("alloc():empty"),null;let o=this.ss.begin(),s=o.pointer.low,u=o.pointer.high,h=s;return h+1<=u?this.ss.updateKeyByIterator(o,new n(s+1,u)):this.ss.eraseElementByPos(0),a("alloc():"+h),h},i.prototype.use=function(o){let s=new n(o,o),u=this.ss.lowerBound(s);if(!u.equals(this.ss.end())){let h=u.pointer.low,d=u.pointer.high;return u.pointer.equals(s)?(this.ss.eraseElementByIterator(u),a("use():"+o),!0):h>o?!1:h===o?(this.ss.updateKeyByIterator(u,new n(h+1,d)),a("use():"+o),!0):d===o?(this.ss.updateKeyByIterator(u,new n(h,d-1)),a("use():"+o),!0):(this.ss.updateKeyByIterator(u,new n(o+1,d)),this.ss.insert(new n(h,o-1)),a("use():"+o),!0)}return a("use():failed"),!1},i.prototype.free=function(o){if(o<this.min||o>this.max){l("free():"+o+" is out of range");return}let s=new n(o,o),u=this.ss.upperBound(s);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(s);return}u.pre();let h=u.pointer.high;u.pointer.high+1===o?this.ss.updateKeyByIterator(u,new n(h,o)):this.ss.insert(s)}else if(u.equals(this.ss.begin()))if(o+1===u.pointer.low){let h=u.pointer.high;this.ss.updateKeyByIterator(u,new n(o,h))}else this.ss.insert(s);else{let h=u.pointer.low,d=u.pointer.high;u.pre();let m=u.pointer.low;u.pointer.high+1===o?o+1===h?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new n(m,d))):this.ss.updateKeyByIterator(u,new n(m,o)):o+1===h?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new n(o,d))):this.ss.insert(s)}a("free():"+o)},i.prototype.clear=function(){a("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},i.prototype.intervalCount=function(){return this.ss.size()},i.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},t.exports=i}),Mc=_e((e,t)=>{ge(),ye(),me();var r=Zp();t.exports.NumberAllocator=r}),eg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=Fp(),r=Mc(),a=class{constructor(l){l>0&&(this.aliasToTopic=new t.LRUCache({max:l}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,l),this.max=l,this.length=0)}put(l,n){if(n===0||n>this.max)return!1;let i=this.aliasToTopic.get(n);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(n,l),this.topicToAlias[l]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(l){return this.aliasToTopic.get(l)}getAliasByTopic(l){let n=this.topicToAlias[l];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=a}),tg=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=Li(),a=t(eg()),l=fn(),n=(i,o)=>{i.log("_handleConnack");let{options:s}=i,u=s.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(i.connackTimer),delete i.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){i.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(i.topicAliasSend=new a.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&s.keepalive&&(s.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(s.properties||(s.properties={}),s.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(u===0)i.reconnecting=!1,i._onConnect(o);else if(u>0){let h=new l.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);i.emit("error",h),i.options.reconnectOnConnackError&&i._cleanUp(!0)}};e.default=n}),rg=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(r,a,l)=>{r.log("handling pubrel packet");let n=typeof l<"u"?l:r.noop,{messageId:i}=a,o={cmd:"pubcomp",messageId:i};r.incomingStore.get(a,(s,u)=>{s?r._sendPacket(o,n):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,h=>{if(h)return n(h);r.incomingStore.del(u,r.noop),r._sendPacket(o,n)}))})};e.default=t}),ng=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Np()),a=t(Dp()),l=t(tg()),n=t(Li()),i=t(rg()),o=(s,u,h)=>{let{options:d}=s;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<u.length)return s.emit("error",new Error(`exceeding packets size ${u.cmd}`)),s.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),s;switch(s.log("_handlePacket :: emitting packetreceive"),s.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(s,u,h);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":s.reschedulePing(),(0,n.default)(s,u),h();break;case"pubrel":s.reschedulePing(),(0,i.default)(s,u,h);break;case"connack":(0,l.default)(s,u),h();break;case"auth":s.reschedulePing(),(0,a.default)(s,u),h();break;case"pingresp":s.log("_handlePacket :: received pingresp"),s.reschedulePing(!0),h();break;case"disconnect":s.emit("disconnect",u),h();break;default:s.log("_handlePacket :: unknown command"),h();break}};e.default=o}),ig=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((zr(),$e(kr))),a=fn(),l=class{};e.TypedEventEmitter=l,(0,a.applyMixin)(l,r.default)}),Ni=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var n;return typeof window<"u"?typeof navigator<"u"&&((n=navigator.userAgent)===null||n===void 0?void 0:n.toLowerCase().indexOf(" electron/"))>-1&&je!=null&&je.versions?!Object.prototype.hasOwnProperty.call(je.versions,"electron"):typeof window.document<"u":!1},r=()=>{var n,i;return!!(typeof self=="object"&&!((i=(n=self==null?void 0:self.constructor)===null||n===void 0?void 0:n.name)===null||i===void 0)&&i.includes("WorkerGlobalScope"))},a=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l=t()||r()||a();e.isWebWorker=r(),e.isReactNativeBrowser=a(),e.default=l}),sg=_e((e,t)=>{ge(),ye(),me(),function(r,a){typeof e=="object"&&typeof t<"u"?a(e):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.fastUniqueNumbers={}))}(e,function(r){var a=function(y){return function(b){var I=y(b);return b.add(I),I}},l=function(y){return function(b,I){return y.set(b,I),I}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,i=536870912,o=i*2,s=function(y,b){return function(I){var k=b.get(I),U=k===void 0?I.size:k<o?k+1:0;if(!I.has(U))return y(I,U);if(I.size<i){for(;I.has(U);)U=Math.floor(Math.random()*o);return y(I,U)}if(I.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;I.has(U);)U=Math.floor(Math.random()*n);return y(I,U)}},u=new WeakMap,h=l(u),d=s(h,u),m=a(d);r.addUniqueNumber=m,r.generateUniqueNumber=d})}),og=_e((e,t)=>{ge(),ye(),me(),function(r,a){typeof e=="object"&&typeof t<"u"?a(e,sg()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.workerTimersBroker={},r.fastUniqueNumbers))}(e,function(r,a){var l=function(o){return o.method!==void 0&&o.method==="call"},n=function(o){return o.error===null&&typeof o.id=="number"},i=function(o){var s=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),h=new Map,d=new Worker(o);d.addEventListener("message",function(k){var U=k.data;if(l(U)){var w=U.params,O=w.timerId,D=w.timerType;if(D==="interval"){var F=s.get(O);if(typeof F=="number"){var M=h.get(F);if(M===void 0||M.timerId!==O||M.timerType!==D)throw new Error("The timer is in an undefined state.")}else if(typeof F<"u")F();else throw new Error("The timer is in an undefined state.")}else if(D==="timeout"){var N=u.get(O);if(typeof N=="number"){var K=h.get(N);if(K===void 0||K.timerId!==O||K.timerType!==D)throw new Error("The timer is in an undefined state.")}else if(typeof N<"u")N(),u.delete(O);else throw new Error("The timer is in an undefined state.")}}else if(n(U)){var se=U.id,oe=h.get(se);if(oe===void 0)throw new Error("The timer is in an undefined state.");var fe=oe.timerId,$=oe.timerType;h.delete(se),$==="interval"?s.delete(fe):u.delete(fe)}else{var ie=U.error.message;throw new Error(ie)}});var m=function(k){var U=a.generateUniqueNumber(h);h.set(U,{timerId:k,timerType:"interval"}),s.set(k,U),d.postMessage({id:U,method:"clear",params:{timerId:k,timerType:"interval"}})},y=function(k){var U=a.generateUniqueNumber(h);h.set(U,{timerId:k,timerType:"timeout"}),u.set(k,U),d.postMessage({id:U,method:"clear",params:{timerId:k,timerType:"timeout"}})},b=function(k){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=a.generateUniqueNumber(s);return s.set(w,function(){k(),typeof s.get(w)=="function"&&d.postMessage({id:null,method:"set",params:{delay:U,now:performance.now(),timerId:w,timerType:"interval"}})}),d.postMessage({id:null,method:"set",params:{delay:U,now:performance.now(),timerId:w,timerType:"interval"}}),w},I=function(k){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=a.generateUniqueNumber(u);return u.set(w,k),d.postMessage({id:null,method:"set",params:{delay:U,now:performance.now(),timerId:w,timerType:"timeout"}}),w};return{clearInterval:m,clearTimeout:y,setInterval:b,setTimeout:I}};r.load=i})}),ag=_e((e,t)=>{ge(),ye(),me(),function(r,a){typeof e=="object"&&typeof t<"u"?a(e,og()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.workerTimers={},r.workerTimersBroker))}(e,function(r,a){var l=function(d,m){var y=null;return function(){if(y!==null)return y;var b=new Blob([m],{type:"application/javascript; charset=utf-8"}),I=URL.createObjectURL(b);return y=d(I),setTimeout(function(){return URL.revokeObjectURL(I)}),y}},n=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,i=l(a.load,n),o=function(d){return i().clearInterval(d)},s=function(d){return i().clearTimeout(d)},u=function(){var d;return(d=i()).setInterval.apply(d,arguments)},h=function(){var d;return(d=i()).setTimeout.apply(d,arguments)};r.clearInterval=o,r.clearTimeout=s,r.setInterval=u,r.setTimeout=h})}),lg=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(u,h,d,m){m===void 0&&(m=d);var y=Object.getOwnPropertyDescriptor(h,d);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(u,m,y)}:function(u,h,d,m){m===void 0&&(m=d),u[m]=h[d]}),r=e&&e.__setModuleDefault||(Object.create?function(u,h){Object.defineProperty(u,"default",{enumerable:!0,value:h})}:function(u,h){u.default=h}),a=e&&e.__importStar||function(){var u=function(h){return u=Object.getOwnPropertyNames||function(d){var m=[];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(m[m.length]=y);return m},u(h)};return function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var m=u(h),y=0;y<m.length;y++)m[y]!=="default"&&t(d,h,m[y]);return r(d,h),d}}();Object.defineProperty(e,"__esModule",{value:!0});var l=a(Ni()),n=ag(),i={set:n.setInterval,clear:n.clearInterval},o={set:(u,h)=>setInterval(u,h),clear:u=>clearInterval(u)},s=u=>{switch(u){case"native":return o;case"worker":return i;case"auto":default:return l.default&&!l.isWebWorker&&!l.isReactNativeBrowser?i:o}};e.default=s}),Bc=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(lg()),a=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(l,n){this.destroyed=!1,this.client=l,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,r.default)(n),this.setKeepalive(l.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(l){if(l*=1e3,isNaN(l)||l<=0||l>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${l}`);this._keepalive=l,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${l}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let l=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+l,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=a}),Bo=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(F,M,N,K){K===void 0&&(K=N);var se=Object.getOwnPropertyDescriptor(M,N);(!se||("get"in se?!M.__esModule:se.writable||se.configurable))&&(se={enumerable:!0,get:function(){return M[N]}}),Object.defineProperty(F,K,se)}:function(F,M,N,K){K===void 0&&(K=N),F[K]=M[N]}),r=e&&e.__setModuleDefault||(Object.create?function(F,M){Object.defineProperty(F,"default",{enumerable:!0,value:M})}:function(F,M){F.default=M}),a=e&&e.__importStar||function(){var F=function(M){return F=Object.getOwnPropertyNames||function(N){var K=[];for(var se in N)Object.prototype.hasOwnProperty.call(N,se)&&(K[K.length]=se);return K},F(M)};return function(M){if(M&&M.__esModule)return M;var N={};if(M!=null)for(var K=F(M),se=0;se<K.length;se++)K[se]!=="default"&&t(N,M,K[se]);return r(N,M),N}}(),l=e&&e.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0});var n=l(mp()),i=l(Up()),o=l(yc()),s=Yr(),u=l(Bp()),h=a(Lp()),d=l(cr()),m=l(bc()),y=l(ng()),b=fn(),I=ig(),k=l(Bc()),U=a(Ni()),w=globalThis.setImmediate||((...F)=>{let M=F.shift();(0,b.nextTick)(()=>{M(...F)})}),O={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},D=class Lo extends I.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(M,N){super(),this.options=N||{};for(let K in O)typeof this.options[K]>"u"?this.options[K]=O[K]:this.options[K]=N[K];this.log=this.options.log||(0,d.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Lo.VERSION),U.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",U.default?"browser":"node"),this.log("MqttClient :: options.protocol",N.protocol),this.log("MqttClient :: options.protocolVersion",N.protocolVersion),this.log("MqttClient :: options.username",N.username),this.log("MqttClient :: options.keepalive",N.keepalive),this.log("MqttClient :: options.reconnectPeriod",N.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",N.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",N.properties?N.properties.topicAliasMaximum:void 0),this.options.clientId=typeof N.clientId=="string"?N.clientId:Lo.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=N.protocolVersion===5&&N.customHandleAcks?N.customHandleAcks:(...K)=>{K[3](null,0)},this.options.writeCache||(i.default.writeToStream.cacheNumbers=!1),this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=N.outgoingStore||new m.default,this.incomingStore=N.incomingStore||new m.default,this.queueQoSZero=N.queueQoSZero===void 0?!0:N.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,N.properties&&N.properties.topicAliasMaximum>0&&(N.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new n.default(N.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:K}=this,se=()=>{let oe=K.shift();this.log("deliver :: entry %o",oe);let fe=null;if(!oe){this._resubscribe();return}fe=oe.packet,this.log("deliver :: call _sendPacket for %o",fe);let $=!0;fe.messageId&&fe.messageId!==0&&(this.messageIdProvider.register(fe.messageId)||($=!1)),$?this._sendPacket(fe,ie=>{oe.cb&&oe.cb(ie),se()}):(this.log("messageId: %d has already used. The message is skipped and removed.",fe.messageId),se())};this.log("connect :: sending queued packets"),se()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(M,N){N()}handleMessage(M,N){N()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var M;let N=new s.Writable,K=i.default.parser(this.options),se=null,oe=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),K.on("packet",Z=>{this.log("parser :: on packet push to packets array."),oe.push(Z)});let fe=()=>{this.log("work :: getting next packet in queue");let Z=oe.shift();if(Z)this.log("work :: packet pulled from queue"),(0,y.default)(this,Z,$);else{this.log("work :: no packets in queue");let pe=se;se=null,this.log("work :: done flag is %s",!!pe),pe&&pe()}},$=()=>{if(oe.length)(0,b.nextTick)(fe);else{let Z=se;se=null,Z()}};N._write=(Z,pe,ce)=>{se=ce,this.log("writable stream :: parsing buffer"),K.parse(Z),fe()};let ie=Z=>{this.log("streamErrorHandler :: error",Z.message),Z.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Z)):this.noop(Z)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(N),this.stream.on("error",ie),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ae={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ae.will=Object.assign(Object.assign({},this.options.will),{payload:(M=this.options.will)===null||M===void 0?void 0:M.payload})),this.topicAliasRecv&&(ae.properties||(ae.properties={}),this.topicAliasRecv&&(ae.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ae),K.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let Z=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Z)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(M,N,K,se){this.log("publish :: message `%s` to topic `%s`",N,M);let{options:oe}=this;typeof K=="function"&&(se=K,K=null),K=K||{},K=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),K);let{qos:fe,retain:$,dup:ie,properties:ae,cbStorePut:Z}=K;if(this._checkDisconnecting(se))return this;let pe=()=>{let ce=0;if((fe===1||fe===2)&&(ce=this._nextId(),ce===null))return this.log("No messageId left"),!1;let ue={cmd:"publish",topic:M,payload:N,qos:fe,retain:$,messageId:ce,dup:ie};switch(oe.protocolVersion===5&&(ue.properties=ae),this.log("publish :: qos",fe),fe){case 1:case 2:this.outgoing[ue.messageId]={volatile:!1,cb:se||this.noop},this.log("MqttClient:publish: packet cmd: %s",ue.cmd),this._sendPacket(ue,void 0,Z);break;default:this.log("MqttClient:publish: packet cmd: %s",ue.cmd),this._sendPacket(ue,se,Z);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!pe())&&this._storeProcessingQueue.push({invoke:pe,cbStorePut:K.cbStorePut,callback:se}),this}publishAsync(M,N,K){return new Promise((se,oe)=>{this.publish(M,N,K,(fe,$)=>{fe?oe(fe):se($)})})}subscribe(M,N,K){let se=this.options.protocolVersion;typeof N=="function"&&(K=N),K=K||this.noop;let oe=!1,fe=[];typeof M=="string"?(M=[M],fe=M):Array.isArray(M)?fe=M:typeof M=="object"&&(oe=M.resubscribe,delete M.resubscribe,fe=Object.keys(M));let $=h.validateTopics(fe);if($!==null)return w(K,new Error(`Invalid topic ${$}`)),this;if(this._checkDisconnecting(K))return this.log("subscribe: discconecting true"),this;let ie={qos:0};se===5&&(ie.nl=!1,ie.rap=!1,ie.rh=0),N=Object.assign(Object.assign({},ie),N);let ae=N.properties,Z=[],pe=(Ee,ne)=>{if(ne=ne||N,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Ee)||this._resubscribeTopics[Ee].qos<ne.qos||oe){let de={topic:Ee,qos:ne.qos};se===5&&(de.nl=ne.nl,de.rap=ne.rap,de.rh=ne.rh,de.properties=ae),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",de.topic,de.qos),Z.push(de)}};if(Array.isArray(M)?M.forEach(Ee=>{this.log("subscribe: array topic %s",Ee),pe(Ee)}):Object.keys(M).forEach(Ee=>{this.log("subscribe: object topic %s, %o",Ee,M[Ee]),pe(Ee,M[Ee])}),!Z.length)return K(null,[]),this;let ce=(Ee,ne)=>{let de={cmd:"subscribe",subscriptions:Ee,messageId:ne};if(ae&&(de.properties=ae),this.options.resubscribe){this.log("subscribe :: resubscribe true");let he=[];Ee.forEach(be=>{if(this.options.reconnectPeriod>0){let Q={qos:be.qos};se===5&&(Q.nl=be.nl||!1,Q.rap=be.rap||!1,Q.rh=be.rh||0,Q.properties=be.properties),this._resubscribeTopics[be.topic]=Q,he.push(be.topic)}}),this.messageIdToTopic[de.messageId]=he}let j=new Promise((he,be)=>{this.outgoing[de.messageId]={volatile:!0,cb(Q,Ae){if(!Q){let{granted:re}=Ae;for(let z=0;z<re.length;z+=1)Ee[z].qos=re[z]}Q?be(new b.ErrorWithSubackPacket(Q.message,Ae)):he(Ae)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(de),j},ue=()=>{var Ee;let ne=(Ee=this.options.subscribeBatchSize)!==null&&Ee!==void 0?Ee:Z.length,de=[];for(let j=0;j<Z.length;j+=ne){let he=Z.slice(j,j+ne),be=this._nextId();if(be===null)return this.log("No messageId left"),!1;de.push(ce(he,be))}return Promise.all(de).then(j=>{K(null,Z,j.at(-1))}).catch(j=>{K(j,Z,j.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ue())&&this._storeProcessingQueue.push({invoke:ue,callback:K}),this}subscribeAsync(M,N){return new Promise((K,se)=>{this.subscribe(M,N,(oe,fe)=>{oe?se(oe):K(fe)})})}unsubscribe(M,N,K){typeof M=="string"&&(M=[M]),typeof N=="function"&&(K=N),K=K||this.noop;let se=h.validateTopics(M);if(se!==null)return w(K,new Error(`Invalid topic ${se}`)),this;if(this._checkDisconnecting(K))return this;let oe=()=>{let fe=this._nextId();if(fe===null)return this.log("No messageId left"),!1;let $={cmd:"unsubscribe",messageId:fe,unsubscriptions:[]};return typeof M=="string"?$.unsubscriptions=[M]:Array.isArray(M)&&($.unsubscriptions=M),this.options.resubscribe&&$.unsubscriptions.forEach(ie=>{delete this._resubscribeTopics[ie]}),typeof N=="object"&&N.properties&&($.properties=N.properties),this.outgoing[$.messageId]={volatile:!0,cb:K},this.log("unsubscribe: call _sendPacket"),this._sendPacket($),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,callback:K}),this}unsubscribeAsync(M,N){return new Promise((K,se)=>{this.unsubscribe(M,N,(oe,fe)=>{oe?se(oe):K(fe)})})}end(M,N,K){this.log("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(K=K||N,N=M,M=!1),typeof N!="object"&&(K=K||N,N=null),this.log("end :: cb? %s",!!K),(!K||typeof K!="function")&&(K=this.noop);let se=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(fe=>{this.outgoingStore.close($=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),K){let ie=fe||$;this.log("end :: closeStores: invoking callback with args"),K(ie)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},oe=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,M),this._cleanUp(M,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,b.nextTick)(se)},N)};return this.disconnecting?(K(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,oe,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),oe()),this)}endAsync(M,N){return new Promise((K,se)=>{this.end(M,N,oe=>{oe?se(oe):K()})})}removeOutgoingMessage(M){if(this.outgoing[M]){let{cb:N}=this.outgoing[M];this._removeOutgoingAndStoreMessage(M,()=>{N(new Error("Message removed"))})}return this}reconnect(M){this.log("client reconnect");let N=()=>{M?(this.options.incomingStore=M.incomingStore,this.options.outgoingStore=M.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=N:N(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(M=>{this.outgoing[M].volatile&&typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(M=>{typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_removeTopicAliasAndRecoverTopicName(M){let N;M.properties&&(N=M.properties.topicAlias);let K=M.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",N,K),K.length===0){if(typeof N>"u")return new Error("Unregistered Topic Alias");if(K=this.topicAliasSend.getTopicByAlias(N),typeof K>"u")return new Error("Unregistered Topic Alias");M.topic=K}N&&delete M.properties.topicAlias}_checkDisconnecting(M){return this.disconnecting&&(M&&M!==this.noop?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(M,N,K={}){if(N&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",N)),this.log("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let se=Object.assign({cmd:"disconnect"},K);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(se,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),w(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),N&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",N),N())}_storeAndSend(M,N,K){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",M.cmd);let se=M,oe;if(se.cmd==="publish"&&(se=(0,u.default)(M),oe=this._removeTopicAliasAndRecoverTopicName(se),oe))return N&&N(oe);this.outgoingStore.put(se,fe=>{if(fe)return N&&N(fe);K(),this._writePacket(M,N)})}_applyTopicAlias(M){if(this.options.protocolVersion===5&&M.cmd==="publish"){let N;M.properties&&(N=M.properties.topicAlias);let K=M.topic.toString();if(this.topicAliasSend)if(N){if(K.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",K,N),!this.topicAliasSend.put(K,N)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,N),new Error("Sending Topic Alias out of range")}else K.length!==0&&(this.options.autoAssignTopicAlias?(N=this.topicAliasSend.getAliasByTopic(K),N?(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",K,N)):(N=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(K,N),M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",K,N))):this.options.autoUseTopicAlias&&(N=this.topicAliasSend.getAliasByTopic(K),N&&(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:N}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",K,N))));else if(N)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,N),new Error("Sending Topic Alias out of range")}}_noop(M){this.log("noop ::",M)}_writePacket(M,N){this.log("_writePacket :: packet: %O",M),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",M),this.log("_writePacket :: writing to stream");let K=i.default.writeToStream(M,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",K),!K&&N&&N!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",N)):N&&(this.log("_writePacket :: invoking cb"),N())}_sendPacket(M,N,K,se){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),K=K||this.noop,N=N||this.noop;let oe=this._applyTopicAlias(M);if(oe){N(oe);return}if(!this.connected){if(M.cmd==="auth"){this._writePacket(M,N);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,N,K);return}if(se){this._writePacket(M,N);return}switch(M.cmd){case"publish":break;case"pubrel":this._storeAndSend(M,N,K);return;default:this._writePacket(M,N);return}switch(M.qos){case 2:case 1:this._storeAndSend(M,N,K);break;case 0:default:this._writePacket(M,N);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(M,N,K){this.log("_storePacket :: packet: %o",M),this.log("_storePacket :: cb? %s",!!N),K=K||this.noop;let se=M;if(se.cmd==="publish"){se=(0,u.default)(M);let fe=this._removeTopicAliasAndRecoverTopicName(se);if(fe)return N&&N(fe)}let oe=se.qos||0;oe===0&&this.queueQoSZero||se.cmd!=="publish"?this.queue.push({packet:se,cb:N}):oe>0?(N=this.outgoing[se.messageId]?this.outgoing[se.messageId].cb:null,this.outgoingStore.put(se,fe=>{if(fe)return N&&N(fe);K()})):N&&N(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new k.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(M=!1){this.keepaliveManager&&this.options.keepalive&&(M||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let N=0;N<M.length;N++){let K={};K[M[N]]=this._resubscribeTopics[M[N]],K.resubscribe=!0,this.subscribe(K,{properties:K[M[N]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(M){if(this.disconnected){this.emit("connect",M);return}this.connackPacket=M,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let N=()=>{let K=this.outgoingStore.createStream(),se=()=>{K.destroy(),K=null,this._flushStoreProcessingQueue(),oe()},oe=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",se),K.on("error",$=>{oe(),this._flushStoreProcessingQueue(),this.removeListener("close",se),this.emit("error",$)});let fe=()=>{if(!K)return;let $=K.read(1),ie;if(!$){K.once("readable",fe);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[$.messageId]){fe();return}!this.disconnecting&&!this.reconnectTimer?(ie=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoing[$.messageId]={volatile:!1,cb(ae,Z){ie&&ie(ae,Z),fe()}},this._packetIdsDuringStoreProcessing[$.messageId]=!0,this.messageIdProvider.register($.messageId)?this._sendPacket($,void 0,void 0,!0):this.log("messageId: %d has already used.",$.messageId)):K.destroy&&K.destroy()};K.on("end",()=>{let $=!0;for(let ie in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ie]){$=!1;break}this.removeListener("close",se),$?(oe(),this._invokeAllStoreProcessingQueue(),this.emit("connect",M)):N()}),fe()};N()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(M,N){delete this.outgoing[M],this.outgoingStore.del({messageId:M},(K,se)=>{N(K,se),this.messageIdProvider.deallocate(M),this._invokeStoreProcessingQueue()})}};D.VERSION=b.MQTTJS_VERSION,e.default=D}),ug=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mc(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(a){return this.numberAllocator.use(a)}deallocate(a){this.numberAllocator.free(a)}clear(){this.numberAllocator.clear()}};e.default=r});function Lr(e){throw new RangeError(Nc[e])}function hl(e,t){let r=e.split("@"),a="";r.length>1&&(a=r[0]+"@",e=r[1]);let l=function(n,i){let o=[],s=n.length;for(;s--;)o[s]=i(n[s]);return o}((e=e.replace(Lc,".")).split("."),t).join(".");return a+l}function fl(e){let t=[],r=0,a=e.length;for(;r<a;){let l=e.charCodeAt(r++);if(l>=55296&&l<=56319&&r<a){let n=e.charCodeAt(r++);(64512&n)==56320?t.push(((1023&l)<<10)+(1023&n)+65536):(t.push(l),r--)}else t.push(l)}return t}var dl,pl,Lc,Nc,Bt,zn,ss,os,as,ls,vr,cg=wt(()=>{ge(),ye(),me(),dl=/^xn--/,pl=/[^\0-\x7E]/,Lc=/[\x2E\u3002\uFF0E\uFF61]/g,Nc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Bt=Math.floor,zn=String.fromCharCode,ss=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},os=function(e,t,r){let a=0;for(e=r?Bt(e/700):e>>1,e+=Bt(e/t);e>455;a+=36)e=Bt(e/35);return Bt(a+36*e/(e+38))},as=function(e){let t=[],r=e.length,a=0,l=128,n=72,i=e.lastIndexOf("-");i<0&&(i=0);for(let s=0;s<i;++s)e.charCodeAt(s)>=128&&Lr("not-basic"),t.push(e.charCodeAt(s));for(let s=i>0?i+1:0;s<r;){let u=a;for(let d=1,m=36;;m+=36){s>=r&&Lr("invalid-input");let y=(o=e.charCodeAt(s++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(y>=36||y>Bt((2147483647-a)/d))&&Lr("overflow"),a+=y*d;let b=m<=n?1:m>=n+26?26:m-n;if(y<b)break;let I=36-b;d>Bt(2147483647/I)&&Lr("overflow"),d*=I}let h=t.length+1;n=os(a-u,h,u==0),Bt(a/h)>2147483647-l&&Lr("overflow"),l+=Bt(a/h),a%=h,t.splice(a++,0,l)}var o;return String.fromCodePoint(...t)},ls=function(e){let t=[],r=(e=fl(e)).length,a=128,l=0,n=72;for(let s of e)s<128&&t.push(zn(s));let i=t.length,o=i;for(i&&t.push("-");o<r;){let s=2147483647;for(let h of e)h>=a&&h<s&&(s=h);let u=o+1;s-a>Bt((2147483647-l)/u)&&Lr("overflow"),l+=(s-a)*u,a=s;for(let h of e)if(h<a&&++l>2147483647&&Lr("overflow"),h==a){let d=l;for(let m=36;;m+=36){let y=m<=n?1:m>=n+26?26:m-n;if(d<y)break;let b=d-y,I=36-y;t.push(zn(ss(y+b%I,0))),d=Bt(b/I)}t.push(zn(ss(d,0))),n=os(l,u,o==i),l=0,++o}++l,++a}return t.join("")},vr={version:"2.1.0",ucs2:{decode:fl,encode:e=>String.fromCodePoint(...e)},decode:as,encode:ls,toASCII:function(e){return hl(e,function(t){return pl.test(t)?"xn--"+ls(t):t})},toUnicode:function(e){return hl(e,function(t){return dl.test(t)?as(t.slice(4).toLowerCase()):t})}},vr.decode,vr.encode,vr.toASCII,vr.toUnicode,vr.ucs2,vr.version});function hg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var gl,Jr,ml,Ft,fg=wt(()=>{ge(),ye(),me(),gl=function(e,t,r,a){t=t||"&",r=r||"=";var l={};if(typeof e!="string"||e.length===0)return l;var n=/\+/g;e=e.split(t);var i=1e3;a&&typeof a.maxKeys=="number"&&(i=a.maxKeys);var o=e.length;i>0&&o>i&&(o=i);for(var s=0;s<o;++s){var u,h,d,m,y=e[s].replace(n,"%20"),b=y.indexOf(r);b>=0?(u=y.substr(0,b),h=y.substr(b+1)):(u=y,h=""),d=decodeURIComponent(u),m=decodeURIComponent(h),hg(l,d)?Array.isArray(l[d])?l[d].push(m):l[d]=[l[d],m]:l[d]=m}return l},Jr=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ml=function(e,t,r,a){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(l){var n=encodeURIComponent(Jr(l))+r;return Array.isArray(e[l])?e[l].map(function(i){return n+encodeURIComponent(Jr(i))}).join(t):n+encodeURIComponent(Jr(e[l]))}).join(t):a?encodeURIComponent(Jr(a))+r+encodeURIComponent(Jr(e)):""},Ft={},Ft.decode=Ft.parse=gl,Ft.encode=Ft.stringify=ml,Ft.decode,Ft.encode,Ft.parse,Ft.stringify});function No(){throw new Error("setTimeout has not been defined")}function jo(){throw new Error("clearTimeout has not been defined")}function jc(e){if(er===setTimeout)return setTimeout(e,0);if((er===No||!er)&&setTimeout)return er=setTimeout,setTimeout(e,0);try{return er(e,0)}catch{try{return er.call(null,e,0)}catch{return er.call(this||qr,e,0)}}}function dg(){Vr&&Wr&&(Vr=!1,Wr.length?Vt=Wr.concat(Vt):Pn=-1,Vt.length&&Dc())}function Dc(){if(!Vr){var e=jc(dg);Vr=!0;for(var t=Vt.length;t;){for(Wr=Vt,Vt=[];++Pn<t;)Wr&&Wr[Pn].run();Pn=-1,t=Vt.length}Wr=null,Vr=!1,function(r){if(tr===clearTimeout)return clearTimeout(r);if((tr===jo||!tr)&&clearTimeout)return tr=clearTimeout,clearTimeout(r);try{tr(r)}catch{try{return tr.call(null,r)}catch{return tr.call(this||qr,r)}}}(e)}}function yl(e,t){(this||qr).fun=e,(this||qr).array=t}function Qt(){}var bl,er,tr,qr,tt,Wr,Vt,Vr,Pn,Xe,pg=wt(()=>{ge(),ye(),me(),qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,tt=bl={},function(){try{er=typeof setTimeout=="function"?setTimeout:No}catch{er=No}try{tr=typeof clearTimeout=="function"?clearTimeout:jo}catch{tr=jo}}(),Vt=[],Vr=!1,Pn=-1,tt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Vt.push(new yl(e,t)),Vt.length!==1||Vr||jc(Dc)},yl.prototype.run=function(){(this||qr).fun.apply(null,(this||qr).array)},tt.title="browser",tt.browser=!0,tt.env={},tt.argv=[],tt.version="",tt.versions={},tt.on=Qt,tt.addListener=Qt,tt.once=Qt,tt.off=Qt,tt.removeListener=Qt,tt.removeAllListeners=Qt,tt.emit=Qt,tt.prependListener=Qt,tt.prependOnceListener=Qt,tt.listeners=function(e){return[]},tt.binding=function(e){throw new Error("process.binding is not supported")},tt.cwd=function(){return"/"},tt.chdir=function(e){throw new Error("process.chdir is not supported")},tt.umask=function(){return 0},Xe=bl,Xe.addListener,Xe.argv,Xe.binding,Xe.browser,Xe.chdir,Xe.cwd,Xe.emit,Xe.env,Xe.listeners,Xe.nextTick,Xe.off,Xe.on,Xe.once,Xe.prependListener,Xe.prependOnceListener,Xe.removeAllListeners,Xe.removeListener,Xe.title,Xe.umask,Xe.version,Xe.versions});function gg(){if(Do)return li;Do=!0;var e=li={},t,r;function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=a}catch{t=a}try{typeof clearTimeout=="function"?r=clearTimeout:r=l}catch{r=l}})();function n(I){if(t===setTimeout)return setTimeout(I,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(I,0);try{return t(I,0)}catch{try{return t.call(null,I,0)}catch{return t.call(this||Dr,I,0)}}}function i(I){if(r===clearTimeout)return clearTimeout(I);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(I);try{return r(I)}catch{try{return r.call(null,I)}catch{return r.call(this||Dr,I)}}}var o=[],s=!1,u,h=-1;function d(){!s||!u||(s=!1,u.length?o=u.concat(o):h=-1,o.length&&m())}function m(){if(!s){var I=n(d);s=!0;for(var k=o.length;k;){for(u=o,o=[];++h<k;)u&&u[h].run();h=-1,k=o.length}u=null,s=!1,i(I)}}e.nextTick=function(I){var k=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)k[U-1]=arguments[U];o.push(new y(I,k)),o.length===1&&!s&&n(m)};function y(I,k){(this||Dr).fun=I,(this||Dr).array=k}y.prototype.run=function(){(this||Dr).fun.apply(null,(this||Dr).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(I){return[]},e.binding=function(I){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(I){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},li}var li,Do,Dr,Qe,Fc=wt(()=>{ge(),ye(),me(),li={},Do=!1,Dr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Qe=gg(),Qe.platform="browser",Qe.addListener,Qe.argv,Qe.binding,Qe.browser,Qe.chdir,Qe.cwd,Qe.emit,Qe.env,Qe.listeners,Qe.nextTick,Qe.off,Qe.on,Qe.once,Qe.prependListener,Qe.prependOnceListener,Qe.removeAllListeners,Qe.removeListener,Qe.title,Qe.umask,Qe.version,Qe.versions});function mg(){if(Fo)return ui;Fo=!0;var e=Qe;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var o="",s=0,u=-1,h=0,d,m=0;m<=n.length;++m){if(m<n.length)d=n.charCodeAt(m);else{if(d===47)break;d=47}if(d===47){if(!(u===m-1||h===1))if(u!==m-1&&h===2){if(o.length<2||s!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var y=o.lastIndexOf("/");if(y!==o.length-1){y===-1?(o="",s=0):(o=o.slice(0,y),s=o.length-1-o.lastIndexOf("/")),u=m,h=0;continue}}else if(o.length===2||o.length===1){o="",s=0,u=m,h=0;continue}}i&&(o.length>0?o+="/..":o="..",s=2)}else o.length>0?o+="/"+n.slice(u+1,m):o=n.slice(u+1,m),s=m-u-1;u=m,h=0}else d===46&&h!==-1?++h:h=-1}return o}function a(n,i){var o=i.dir||i.root,s=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+s:o+n+s:s}var l={resolve:function(){for(var n="",i=!1,o,s=arguments.length-1;s>=-1&&!i;s--){var u;s>=0?u=arguments[s]:(o===void 0&&(o=e.cwd()),u=o),t(u),u.length!==0&&(n=u+"/"+n,i=u.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,o=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&o&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var o=arguments[i];t(o),o.length>0&&(n===void 0?n=o:n+="/"+o)}return n===void 0?".":l.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=l.resolve(n),i=l.resolve(i),n===i))return"";for(var o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var s=n.length,u=s-o,h=1;h<i.length&&i.charCodeAt(h)===47;++h);for(var d=i.length,m=d-h,y=u<m?u:m,b=-1,I=0;I<=y;++I){if(I===y){if(m>y){if(i.charCodeAt(h+I)===47)return i.slice(h+I+1);if(I===0)return i.slice(h+I)}else u>y&&(n.charCodeAt(o+I)===47?b=I:I===0&&(b=0));break}var k=n.charCodeAt(o+I),U=i.charCodeAt(h+I);if(k!==U)break;k===47&&(b=I)}var w="";for(I=o+b+1;I<=s;++I)(I===s||n.charCodeAt(I)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+i.slice(h+b):(h+=b,i.charCodeAt(h)===47&&++h,i.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),o=i===47,s=-1,u=!0,h=n.length-1;h>=1;--h)if(i=n.charCodeAt(h),i===47){if(!u){s=h;break}}else u=!1;return s===-1?o?"/":".":o&&s===1?"//":n.slice(0,s)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var o=0,s=-1,u=!0,h;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var d=i.length-1,m=-1;for(h=n.length-1;h>=0;--h){var y=n.charCodeAt(h);if(y===47){if(!u){o=h+1;break}}else m===-1&&(u=!1,m=h+1),d>=0&&(y===i.charCodeAt(d)?--d===-1&&(s=h):(d=-1,s=m))}return o===s?s=m:s===-1&&(s=n.length),n.slice(o,s)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!u){o=h+1;break}}else s===-1&&(u=!1,s=h+1);return s===-1?"":n.slice(o,s)}},extname:function(n){t(n);for(var i=-1,o=0,s=-1,u=!0,h=0,d=n.length-1;d>=0;--d){var m=n.charCodeAt(d);if(m===47){if(!u){o=d+1;break}continue}s===-1&&(u=!1,s=d+1),m===46?i===-1?i=d:h!==1&&(h=1):i!==-1&&(h=-1)}return i===-1||s===-1||h===0||h===1&&i===s-1&&i===o+1?"":n.slice(i,s)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return a("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var o=n.charCodeAt(0),s=o===47,u;s?(i.root="/",u=1):u=0;for(var h=-1,d=0,m=-1,y=!0,b=n.length-1,I=0;b>=u;--b){if(o=n.charCodeAt(b),o===47){if(!y){d=b+1;break}continue}m===-1&&(y=!1,m=b+1),o===46?h===-1?h=b:I!==1&&(I=1):h!==-1&&(I=-1)}return h===-1||m===-1||I===0||I===1&&h===m-1&&h===d+1?m!==-1&&(d===0&&s?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(d,m)):(d===0&&s?(i.name=n.slice(1,h),i.base=n.slice(1,m)):(i.name=n.slice(d,h),i.base=n.slice(d,m)),i.ext=n.slice(h,m)),d>0?i.dir=n.slice(0,d-1):s&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return l.posix=l,ui=l,ui}var ui,Fo,Wo,yg=wt(()=>{ge(),ye(),me(),Fc(),ui={},Fo=!1,Wo=mg()}),Wc={};cn(Wc,{URL:()=>sh,Url:()=>eh,default:()=>We,fileURLToPath:()=>Hc,format:()=>th,parse:()=>ih,pathToFileURL:()=>$c,resolve:()=>rh,resolveObject:()=>nh});function Pt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function yn(e,t,r){if(e&&Lt.isObject(e)&&e instanceof Pt)return e;var a=new Pt;return a.parse(e,t,r),a}function bg(){if(Ho)return ci;Ho=!0;var e=Xe;function t(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,i){for(var o="",s=0,u=-1,h=0,d,m=0;m<=n.length;++m){if(m<n.length)d=n.charCodeAt(m);else{if(d===47)break;d=47}if(d===47){if(!(u===m-1||h===1))if(u!==m-1&&h===2){if(o.length<2||s!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var y=o.lastIndexOf("/");if(y!==o.length-1){y===-1?(o="",s=0):(o=o.slice(0,y),s=o.length-1-o.lastIndexOf("/")),u=m,h=0;continue}}else if(o.length===2||o.length===1){o="",s=0,u=m,h=0;continue}}i&&(o.length>0?o+="/..":o="..",s=2)}else o.length>0?o+="/"+n.slice(u+1,m):o=n.slice(u+1,m),s=m-u-1;u=m,h=0}else d===46&&h!==-1?++h:h=-1}return o}function a(n,i){var o=i.dir||i.root,s=i.base||(i.name||"")+(i.ext||"");return o?o===i.root?o+s:o+n+s:s}var l={resolve:function(){for(var n="",i=!1,o,s=arguments.length-1;s>=-1&&!i;s--){var u;s>=0?u=arguments[s]:(o===void 0&&(o=e.cwd()),u=o),t(u),u.length!==0&&(n=u+"/"+n,i=u.charCodeAt(0)===47)}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(t(n),n.length===0)return".";var i=n.charCodeAt(0)===47,o=n.charCodeAt(n.length-1)===47;return n=r(n,!i),n.length===0&&!i&&(n="."),n.length>0&&o&&(n+="/"),i?"/"+n:n},isAbsolute:function(n){return t(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,i=0;i<arguments.length;++i){var o=arguments[i];t(o),o.length>0&&(n===void 0?n=o:n+="/"+o)}return n===void 0?".":l.normalize(n)},relative:function(n,i){if(t(n),t(i),n===i||(n=l.resolve(n),i=l.resolve(i),n===i))return"";for(var o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var s=n.length,u=s-o,h=1;h<i.length&&i.charCodeAt(h)===47;++h);for(var d=i.length,m=d-h,y=u<m?u:m,b=-1,I=0;I<=y;++I){if(I===y){if(m>y){if(i.charCodeAt(h+I)===47)return i.slice(h+I+1);if(I===0)return i.slice(h+I)}else u>y&&(n.charCodeAt(o+I)===47?b=I:I===0&&(b=0));break}var k=n.charCodeAt(o+I),U=i.charCodeAt(h+I);if(k!==U)break;k===47&&(b=I)}var w="";for(I=o+b+1;I<=s;++I)(I===s||n.charCodeAt(I)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+i.slice(h+b):(h+=b,i.charCodeAt(h)===47&&++h,i.slice(h))},_makeLong:function(n){return n},dirname:function(n){if(t(n),n.length===0)return".";for(var i=n.charCodeAt(0),o=i===47,s=-1,u=!0,h=n.length-1;h>=1;--h)if(i=n.charCodeAt(h),i===47){if(!u){s=h;break}}else u=!1;return s===-1?o?"/":".":o&&s===1?"//":n.slice(0,s)},basename:function(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');t(n);var o=0,s=-1,u=!0,h;if(i!==void 0&&i.length>0&&i.length<=n.length){if(i.length===n.length&&i===n)return"";var d=i.length-1,m=-1;for(h=n.length-1;h>=0;--h){var y=n.charCodeAt(h);if(y===47){if(!u){o=h+1;break}}else m===-1&&(u=!1,m=h+1),d>=0&&(y===i.charCodeAt(d)?--d===-1&&(s=h):(d=-1,s=m))}return o===s?s=m:s===-1&&(s=n.length),n.slice(o,s)}else{for(h=n.length-1;h>=0;--h)if(n.charCodeAt(h)===47){if(!u){o=h+1;break}}else s===-1&&(u=!1,s=h+1);return s===-1?"":n.slice(o,s)}},extname:function(n){t(n);for(var i=-1,o=0,s=-1,u=!0,h=0,d=n.length-1;d>=0;--d){var m=n.charCodeAt(d);if(m===47){if(!u){o=d+1;break}continue}s===-1&&(u=!1,s=d+1),m===46?i===-1?i=d:h!==1&&(h=1):i!==-1&&(h=-1)}return i===-1||s===-1||h===0||h===1&&i===s-1&&i===o+1?"":n.slice(i,s)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return a("/",n)},parse:function(n){t(n);var i={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return i;var o=n.charCodeAt(0),s=o===47,u;s?(i.root="/",u=1):u=0;for(var h=-1,d=0,m=-1,y=!0,b=n.length-1,I=0;b>=u;--b){if(o=n.charCodeAt(b),o===47){if(!y){d=b+1;break}continue}m===-1&&(y=!1,m=b+1),o===46?h===-1?h=b:I!==1&&(I=1):h!==-1&&(I=-1)}return h===-1||m===-1||I===0||I===1&&h===m-1&&h===d+1?m!==-1&&(d===0&&s?i.base=i.name=n.slice(1,m):i.base=i.name=n.slice(d,m)):(d===0&&s?(i.name=n.slice(1,h),i.base=n.slice(1,m)):(i.name=n.slice(d,h),i.base=n.slice(d,m)),i.ext=n.slice(h,m)),d>0?i.dir=n.slice(0,d-1):s&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};return l.posix=l,ci=l,ci}function wg(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return vi?vg(e):_g(e)}function vg(e){let t=e.hostname,r=e.pathname;for(let a=0;a<r.length;a++)if(r[a]==="%"){let l=r.codePointAt(a+2)||32;if(r[a+1]==="2"&&l===102||r[a+1]==="5"&&l===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Gc,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let a=r.codePointAt(1)|32,l=r[2];if(a<Kc||a>zc||l!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function _g(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let a=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&a===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Eg(e){let t=$o.resolve(e),r=e.charCodeAt(e.length-1);(r===Vc||vi&&r===qc)&&t[t.length-1]!==$o.sep&&(t+="/");let a=new URL("file://");return t.includes("%")&&(t=t.replace(Yc,"%25")),!vi&&t.includes("\\")&&(t=t.replace(Qc,"%5C")),t.includes(`
`)&&(t=t.replace(Jc,"%0A")),t.includes("\r")&&(t=t.replace(Xc,"%0D")),t.includes("	")&&(t=t.replace(Zc,"%09")),a.pathname=t,a}function Hc(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return _i?Sg(e):Ag(e)}function Sg(e){let t=e.hostname,r=e.pathname;for(let a=0;a<r.length;a++)if(r[a]==="%"){let l=r.codePointAt(a+2)||32;if(r[a+1]==="2"&&l===102||r[a+1]==="5"&&l===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(ch,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let a=r.codePointAt(1)|32,l=r[2];if(a<lh||a>uh||l!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Ag(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let a=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&a===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function $c(e){let t=Wo.resolve(e),r=e.charCodeAt(e.length-1);(r===ah||_i&&r===oh)&&t[t.length-1]!==Wo.sep&&(t+="/");let a=new URL("file://");return t.includes("%")&&(t=t.replace(hh,"%25")),!_i&&t.includes("\\")&&(t=t.replace(fh,"%5C")),t.includes(`
`)&&(t=t.replace(dh,"%0A")),t.includes("\r")&&(t=t.replace(ph,"%0D")),t.includes("	")&&(t=t.replace(gh,"%09")),a.pathname=t,a}var We,wl,Lt,vl,_l,El,Sl,Gn,us,cs,hs,Al,Tl,Yn,Nr,Qn,ci,Ho,$o,Il,qc,Vc,Kc,zc,vi,Gc,Yc,Qc,Jc,Xc,Zc,xl,eh,th,rh,nh,ih,sh,oh,ah,lh,uh,_i,ch,hh,fh,dh,ph,gh,Tg=wt(()=>{ge(),ye(),me(),cg(),fg(),pg(),yg(),Fc(),We={},wl=vr,Lt={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},We.parse=yn,We.resolve=function(e,t){return yn(e,!1,!0).resolve(t)},We.resolveObject=function(e,t){return e?yn(e,!1,!0).resolveObject(t):t},We.format=function(e){return Lt.isString(e)&&(e=yn(e)),e instanceof Pt?e.format():Pt.prototype.format.call(e)},We.Url=Pt,vl=/^([a-z0-9.+-]+:)/i,_l=/:[0-9]*$/,El=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sl=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Gn=["'"].concat(Sl),us=["%","/","?",";","#"].concat(Gn),cs=["/","?","#"],hs=/^[+a-z0-9A-Z_-]{0,63}$/,Al=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tl={javascript:!0,"javascript:":!0},Yn={javascript:!0,"javascript:":!0},Nr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Qn=Ft,Pt.prototype.parse=function(e,t,r){if(!Lt.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),l=a!==-1&&a<e.indexOf("#")?"?":"#",n=e.split(l);n[0]=n[0].replace(/\\/g,"/");var i=e=n.join(l);if(i=i.trim(),!r&&e.split("#").length===1){var o=El.exec(i);if(o)return this.path=i,this.href=i,this.pathname=o[1],o[2]?(this.search=o[2],this.query=t?Qn.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var s=vl.exec(i);if(s){var u=(s=s[0]).toLowerCase();this.protocol=u,i=i.substr(s.length)}if(r||s||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=i.substr(0,2)==="//";!h||s&&Yn[s]||(i=i.substr(2),this.slashes=!0)}if(!Yn[s]&&(h||s&&!Nr[s])){for(var d,m,y=-1,b=0;b<cs.length;b++)(I=i.indexOf(cs[b]))!==-1&&(y===-1||I<y)&&(y=I);for((m=y===-1?i.lastIndexOf("@"):i.lastIndexOf("@",y))!==-1&&(d=i.slice(0,m),i=i.slice(m+1),this.auth=decodeURIComponent(d)),y=-1,b=0;b<us.length;b++){var I;(I=i.indexOf(us[b]))!==-1&&(y===-1||I<y)&&(y=I)}y===-1&&(y=i.length),this.host=i.slice(0,y),i=i.slice(y),this.parseHost(),this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k)for(var U=this.hostname.split(/\./),w=(b=0,U.length);b<w;b++){var O=U[b];if(O&&!O.match(hs)){for(var D="",F=0,M=O.length;F<M;F++)O.charCodeAt(F)>127?D+="x":D+=O[F];if(!D.match(hs)){var N=U.slice(0,b),K=U.slice(b+1),se=O.match(Al);se&&(N.push(se[1]),K.unshift(se[2])),K.length&&(i="/"+K.join(".")+i),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=wl.toASCII(this.hostname));var oe=this.port?":"+this.port:"",fe=this.hostname||"";this.host=fe+oe,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!Tl[u])for(b=0,w=Gn.length;b<w;b++){var $=Gn[b];if(i.indexOf($)!==-1){var ie=encodeURIComponent($);ie===$&&(ie=escape($)),i=i.split($).join(ie)}}var ae=i.indexOf("#");ae!==-1&&(this.hash=i.substr(ae),i=i.slice(0,ae));var Z=i.indexOf("?");if(Z!==-1?(this.search=i.substr(Z),this.query=i.substr(Z+1),t&&(this.query=Qn.parse(this.query)),i=i.slice(0,Z)):t&&(this.search="",this.query={}),i&&(this.pathname=i),Nr[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){oe=this.pathname||"";var pe=this.search||"";this.path=oe+pe}return this.href=this.format(),this},Pt.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",l=!1,n="";this.host?l=e+this.host:this.hostname&&(l=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&Lt.isObject(this.query)&&Object.keys(this.query).length&&(n=Qn.stringify(this.query));var i=this.search||n&&"?"+n||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Nr[t])&&l!==!1?(l="//"+(l||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):l||(l=""),a&&a.charAt(0)!=="#"&&(a="#"+a),i&&i.charAt(0)!=="?"&&(i="?"+i),t+l+(r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(i=i.replace("#","%23"))+a},Pt.prototype.resolve=function(e){return this.resolveObject(yn(e,!1,!0)).format()},Pt.prototype.resolveObject=function(e){if(Lt.isString(e)){var t=new Pt;t.parse(e,!1,!0),e=t}for(var r=new Pt,a=Object.keys(this),l=0;l<a.length;l++){var n=a[l];r[n]=this[n]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var i=Object.keys(e),o=0;o<i.length;o++){var s=i[o];s!=="protocol"&&(r[s]=e[s])}return Nr[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Nr[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Yn[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var I=r.pathname&&r.pathname.charAt(0)==="/",k=e.host||e.pathname&&e.pathname.charAt(0)==="/",U=k||I||r.host&&e.pathname,w=U,O=r.pathname&&r.pathname.split("/")||[],D=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Nr[r.protocol]);if(D&&(r.hostname="",r.port=null,r.host&&(O[0]===""?O[0]=r.host:O.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===""?m[0]=e.host:m.unshift(e.host)),e.host=null),U=U&&(m[0]===""||O[0]==="")),k)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,O=m;else if(m.length)O||(O=[]),O.pop(),O=O.concat(m),r.search=e.search,r.query=e.query;else if(!Lt.isNullOrUndefined(e.search))return D&&(r.hostname=r.host=O.shift(),(se=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=se.shift(),r.host=r.hostname=se.shift())),r.search=e.search,r.query=e.query,Lt.isNull(r.pathname)&&Lt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var F=O.slice(-1)[0],M=(r.host||e.host||O.length>1)&&(F==="."||F==="..")||F==="",N=0,K=O.length;K>=0;K--)(F=O[K])==="."?O.splice(K,1):F===".."?(O.splice(K,1),N++):N&&(O.splice(K,1),N--);if(!U&&!w)for(;N--;N)O.unshift("..");!U||O[0]===""||O[0]&&O[0].charAt(0)==="/"||O.unshift(""),M&&O.join("/").substr(-1)!=="/"&&O.push("");var se,oe=O[0]===""||O[0]&&O[0].charAt(0)==="/";return D&&(r.hostname=r.host=oe?"":O.length?O.shift():"",(se=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=se.shift(),r.host=r.hostname=se.shift())),(U=U||r.host&&O.length)&&!oe&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),Lt.isNull(r.pathname)&&Lt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Pt.prototype.parseHost=function(){var e=this.host,t=_l.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},We.Url,We.format,We.resolve,We.resolveObject,ci={},Ho=!1,$o=bg(),Il=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=Eg,We.fileURLToPath=wg,We.Url,We.format,We.resolve,We.resolveObject,We.URL,qc=92,Vc=47,Kc=97,zc=122,vi=Il==="win32",Gc=/\//g,Yc=/%/g,Qc=/\\/g,Jc=/\n/g,Xc=/\r/g,Zc=/\t/g,xl=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=$c,We.fileURLToPath=Hc,eh=We.Url,th=We.format,rh=We.resolve,nh=We.resolveObject,ih=We.parse,sh=We.URL,oh=92,ah=47,lh=97,uh=122,_i=xl==="win32",ch=/\//g,hh=/%/g,fh=/\\/g,dh=/\n/g,ph=/\r/g,gh=/\t/g}),Ig=_e((e,t)=>{ge(),ye(),me(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),ya=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=a;var t=Yr(),r=(ot(),$e(st));function a(n,i){let o=new Array(n.length);for(let s=0;s<n.length;s++)typeof n[s].chunk=="string"?o[s]=r.Buffer.from(n[s].chunk,"utf8"):o[s]=n[s].chunk;this._write(r.Buffer.concat(o),"binary",i)}var l=class extends t.Duplex{constructor(n,i,o){super({objectMode:!0}),this.proxy=i,this.socket=o,this.writeQueue=[],n.objectMode||(this._writev=a.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",s=>{!this.destroyed&&this.readable&&this.push(s)})}_read(n){this.proxy.read(n)}_write(n,i,o){this.isSocketOpen?this.writeToProxy(n,i,o):this.writeQueue.push({chunk:n,encoding:i,cb:o})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,i){this.writeQueue=[],this.proxy.destroy(),i(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,i,o){this.proxy.write(n,i)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:i,cb:o}=this.writeQueue.shift();this.writeToProxy(n,i,o)}}};e.BufferedDuplex=l}),Jn=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(ot(),$e(st)),a=t(Ig()),l=t(cr()),n=Yr(),i=t(Ni()),o=ya(),s=(0,l.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function h(U,w){let O=`${U.protocol}://${U.hostname}:${U.port}${U.path}`;return typeof U.transformWsUrl=="function"&&(O=U.transformWsUrl(O,U,w)),O}function d(U){let w=U;return U.port||(U.protocol==="wss"?w.port=443:w.port=80),U.path||(w.path="/"),U.wsOptions||(w.wsOptions={}),!i.default&&!U.forceNativeWebSocket&&U.protocol==="wss"&&u.forEach(O=>{Object.prototype.hasOwnProperty.call(U,O)&&!Object.prototype.hasOwnProperty.call(U.wsOptions,O)&&(w.wsOptions[O]=U[O])}),w}function m(U){let w=d(U);if(w.hostname||(w.hostname=w.host),!w.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let O=new URL(document.URL);w.hostname=O.hostname,w.port||(w.port=Number(O.port))}return w.objectMode===void 0&&(w.objectMode=!(w.binary===!0||w.binary===void 0)),w}function y(U,w,O){s("createWebSocket"),s(`protocol: ${O.protocolId} ${O.protocolVersion}`);let D=O.protocolId==="MQIsdp"&&O.protocolVersion===3?"mqttv3.1":"mqtt";s(`creating new Websocket for url: ${w} and protocol: ${D}`);let F;return O.createWebsocket?F=O.createWebsocket(w,[D],O):F=new a.default(w,[D],O.wsOptions),F}function b(U,w){let O=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt",D=h(w,U),F;return w.createWebsocket?F=w.createWebsocket(D,[O],w):F=new WebSocket(D,[O]),F.binaryType="arraybuffer",F}var I=(U,w)=>{s("streamBuilder");let O=d(w);O.hostname=O.hostname||O.host||"localhost";let D=h(O,U),F=y(U,D,O),M=a.default.createWebSocketStream(F,O.wsOptions);return M.url=D,F.on("close",()=>{M.destroy()}),M};e.streamBuilder=I;var k=(U,w)=>{s("browserStreamBuilder");let O,D=m(w).browserBufferSize||1024*512,F=w.browserBufferTimeout||1e3,M=!w.objectMode,N=b(U,w),K=oe(w,Z,pe);w.objectMode||(K._writev=o.writev.bind(K)),K.on("close",()=>{N.close()});let se=typeof N.addEventListener<"u";N.readyState===N.OPEN?(O=K,O.socket=N):(O=new o.BufferedDuplex(w,K,N),se?N.addEventListener("open",fe):N.onopen=fe),se?(N.addEventListener("close",$),N.addEventListener("error",ie),N.addEventListener("message",ae)):(N.onclose=$,N.onerror=ie,N.onmessage=ae);function oe(ce,ue,Ee){let ne=new n.Transform({objectMode:ce.objectMode});return ne._write=ue,ne._flush=Ee,ne}function fe(){s("WebSocket onOpen"),O instanceof o.BufferedDuplex&&O.socketReady()}function $(ce){s("WebSocket onClose",ce),O.end(),O.destroy()}function ie(ce){s("WebSocket onError",ce);let ue=new Error("WebSocket error");ue.event=ce,O.destroy(ue)}async function ae(ce){if(!K||K.destroyed||!K.readable)return;let{data:ue}=ce;ue instanceof ArrayBuffer?ue=r.Buffer.from(ue):ue instanceof Blob?ue=r.Buffer.from(await new Response(ue).arrayBuffer()):ue=r.Buffer.from(ue,"utf8"),K.push(ue)}function Z(ce,ue,Ee){if(N.bufferedAmount>D){setTimeout(Z,F,ce,ue,Ee);return}M&&typeof ce=="string"&&(ce=r.Buffer.from(ce,"utf8"));try{N.send(ce)}catch(ne){return Ee(ne)}Ee()}function pe(ce){N.close(),ce()}return O};e.browserStreamBuilder=k}),ba={};cn(ba,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>mh,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var mh,yh=wt(()=>{ge(),ye(),me(),mh={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),bh=_e((e,t)=>{ge(),ye(),me(),t.exports={}}),Ol=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((yh(),$e(ba))),a=t(cr()),l=t(bh()),n=(0,a.default)("mqttjs:tcp"),i=(o,s)=>{if(s.port=s.port||1883,s.hostname=s.hostname||s.host||"localhost",s.socksProxy)return(0,l.default)(s.hostname,s.port,s.socksProxy,{timeout:s.socksTimeout});let{port:u,path:h}=s,d=s.hostname;return n("port %d and host %s",u,d),r.default.createConnection({port:u,host:d,path:h})};e.default=i}),wh={};cn(wh,{default:()=>vh});var vh,xg=wt(()=>{ge(),ye(),me(),vh={}}),kl=_e(e=>{ge(),ye(),me();var t=e&&e.__rest||function(h,d){var m={};for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.indexOf(y)<0&&(m[y]=h[y]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,y=Object.getOwnPropertySymbols(h);b<y.length;b++)d.indexOf(y[b])<0&&Object.prototype.propertyIsEnumerable.call(h,y[b])&&(m[y[b]]=h[y[b]]);return m},r=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var a=r((xg(),$e(wh))),l=r((yh(),$e(ba))),n=r(cr()),i=r(bh()),o=(0,n.default)("mqttjs:tls");function s(h){let{host:d,port:m,socksProxy:y}=h,b=t(h,["host","port","socksProxy"]);return a.default.connect(y?Object.assign(Object.assign({},b),{socket:(0,i.default)(d,m,y,{timeout:h.socksTimeout})}):h)}var u=(h,d)=>{d.port=d.port||8883,d.host=d.hostname||d.host||"localhost",l.default.isIP(d.host)===0&&(d.servername=d.host),d.rejectUnauthorized=d.rejectUnauthorized!==!1,delete d.path,o("port %d host %s rejectUnauthorized %b",d.port,d.host,d.rejectUnauthorized);let m=s(d);m.on("secureConnect",()=>{d.rejectUnauthorized&&!m.authorized?m.emit("error",new Error("TLS not authorized")):m.removeListener("error",y)});function y(b){d.rejectUnauthorized&&h.emit("error",b),m.end()}return m.on("error",y),m};e.default=u}),Cl=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(ot(),$e(st)),r=Yr(),a=ya(),l,n,i;function o(){let m=new r.Transform;return m._write=(y,b,I)=>{l.send({data:y.buffer,success(){I()},fail(k){I(new Error(k))}})},m._flush=y=>{l.close({success(){y()}})},m}function s(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function u(m,y){let b=m.protocol==="wxs"?"wss":"ws",I=`${b}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(I=`${b}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(I=m.transformWsUrl(I,m,y)),I}function h(){l.onOpen(()=>{i.socketReady()}),l.onMessage(m=>{let{data:y}=m;y instanceof ArrayBuffer?y=t.Buffer.from(y):y=t.Buffer.from(y,"utf8"),n.push(y)}),l.onClose(()=>{i.emit("close"),i.end(),i.destroy()}),l.onError(m=>{let y=new Error(m.errMsg);i.destroy(y)})}var d=(m,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let b=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";s(y);let I=u(y,m);l=wx.connectSocket({url:I,protocols:[b]}),n=o(),i=new a.BufferedDuplex(y,n,l),i._destroy=(U,w)=>{l.close({success(){w&&w(U)}})};let k=i.destroy;return i.destroy=(U,w)=>(i.destroy=k,setTimeout(()=>{l.close({fail(){i._destroy(U,w)}})},0),i),h(),i};e.default=d}),Pl=_e(e=>{ge(),ye(),me(),Object.defineProperty(e,"__esModule",{value:!0});var t=(ot(),$e(st)),r=Yr(),a=ya(),l,n,i,o=!1;function s(){let y=new r.Transform;return y._write=(b,I,k)=>{l.sendSocketMessage({data:b.buffer,success(){k()},fail(){k(new Error)}})},y._flush=b=>{l.closeSocket({success(){b()}})},y}function u(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function h(y,b){let I=y.protocol==="alis"?"wss":"ws",k=`${I}://${y.hostname}${y.path}`;return y.port&&y.port!==80&&y.port!==443&&(k=`${I}://${y.hostname}:${y.port}${y.path}`),typeof y.transformWsUrl=="function"&&(k=y.transformWsUrl(k,y,b)),k}function d(){o||(o=!0,l.onSocketOpen(()=>{i.socketReady()}),l.onSocketMessage(y=>{if(typeof y.data=="string"){let b=t.Buffer.from(y.data,"base64");n.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{let I=b.result;I instanceof ArrayBuffer?I=t.Buffer.from(I):I=t.Buffer.from(I,"utf8"),n.push(I)}),b.readAsArrayBuffer(y.data)}}),l.onSocketClose(()=>{i.end(),i.destroy()}),l.onSocketError(y=>{i.destroy(y)}))}var m=(y,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let I=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";u(b);let k=h(b,y);return l=b.my,l.connectSocket({url:k,protocols:I}),n=s(),i=new a.BufferedDuplex(b,n,l),d(),i};e.default=m}),Og=_e(e=>{ge(),ye(),me();var t=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=h;var r=t(cr()),a=t((Tg(),$e(Wc))),l=t(Bo()),n=t(Ni());typeof(je==null?void 0:je.nextTick)!="function"&&(je.nextTick=setImmediate);var i=(0,r.default)("mqttjs"),o=null;function s(d){let m;d.auth&&(m=d.auth.match(/^(.+):(.+)$/),m?(d.username=m[1],d.password=m[2]):d.username=d.auth)}function u(d,m){var y,b,I;if(i("connecting to an MQTT broker..."),typeof d=="object"&&!m&&(m=d,d=""),m=m||{},d&&typeof d=="string"){let w=a.default.parse(d,!0),O={};if(w.port!=null&&(O.port=Number(w.port)),O.host=w.hostname,O.query=w.query,O.auth=w.auth,O.protocol=w.protocol,O.path=w.path,m=Object.assign(Object.assign({},O),m),!m.protocol)throw new Error("Missing protocol");m.protocol=m.protocol.replace(/:$/,"")}if(m.unixSocket=m.unixSocket||((y=m.protocol)===null||y===void 0?void 0:y.includes("+unix")),m.unixSocket?m.protocol=m.protocol.replace("+unix",""):!(!((b=m.protocol)===null||b===void 0)&&b.startsWith("ws"))&&!(!((I=m.protocol)===null||I===void 0)&&I.startsWith("wx"))&&delete m.path,s(m),m.query&&typeof m.query.clientId=="string"&&(m.clientId=m.query.clientId),n.default||m.unixSocket?m.socksProxy=void 0:m.socksProxy===void 0&&typeof je<"u"&&(m.socksProxy=je.env.MQTTJS_SOCKS_PROXY),m.cert&&m.key)if(m.protocol){if(["mqtts","wss","wxs","alis"].indexOf(m.protocol)===-1)switch(m.protocol){case"mqtt":m.protocol="mqtts";break;case"ws":m.protocol="wss";break;case"wx":m.protocol="wxs";break;case"ali":m.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${m.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(o||(o={},!n.default&&!m.forceNativeWebSocket?(o.ws=Jn().streamBuilder,o.wss=Jn().streamBuilder,o.mqtt=Ol().default,o.tcp=Ol().default,o.ssl=kl().default,o.tls=o.ssl,o.mqtts=kl().default):(o.ws=Jn().browserStreamBuilder,o.wss=Jn().browserStreamBuilder,o.wx=Cl().default,o.wxs=Cl().default,o.ali=Pl().default,o.alis=Pl().default)),!o[m.protocol]){let w=["mqtts","wss"].indexOf(m.protocol)!==-1;m.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((O,D)=>w&&D%2===0?!1:typeof o[O]=="function")[0]}if(m.clean===!1&&!m.clientId)throw new Error("Missing clientId for unclean clients");m.protocol&&(m.defaultProtocol=m.protocol);function k(w){return m.servers&&((!w._reconnectCount||w._reconnectCount===m.servers.length)&&(w._reconnectCount=0),m.host=m.servers[w._reconnectCount].host,m.port=m.servers[w._reconnectCount].port,m.protocol=m.servers[w._reconnectCount].protocol?m.servers[w._reconnectCount].protocol:m.defaultProtocol,m.hostname=m.host,w._reconnectCount++),i("calling streambuilder for",m.protocol),o[m.protocol](w,m)}let U=new l.default(k,m);return U.on("error",()=>{}),U}function h(d,m,y=!0){return new Promise((b,I)=>{let k=u(d,m),U={connect:O=>{w(),b(k)},end:()=>{w(),b(k)},error:O=>{w(),k.end(),I(O)}};y===!1&&(U.close=()=>{U.error(new Error("Couldn't connect to server"))});function w(){Object.keys(U).forEach(O=>{k.off(O,U[O])})}Object.keys(U).forEach(O=>{k.on(O,U[O])})})}e.default=u}),Rl=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(y,b,I,k){k===void 0&&(k=I);var U=Object.getOwnPropertyDescriptor(b,I);(!U||("get"in U?!b.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return b[I]}}),Object.defineProperty(y,k,U)}:function(y,b,I,k){k===void 0&&(k=I),y[k]=b[I]}),r=e&&e.__setModuleDefault||(Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b}),a=e&&e.__importStar||function(){var y=function(b){return y=Object.getOwnPropertyNames||function(I){var k=[];for(var U in I)Object.prototype.hasOwnProperty.call(I,U)&&(k[k.length]=U);return k},y(b)};return function(b){if(b&&b.__esModule)return b;var I={};if(b!=null)for(var k=y(b),U=0;U<k.length;U++)k[U]!=="default"&&t(I,b,k[U]);return r(I,b),I}}(),l=e&&e.__exportStar||function(y,b){for(var I in y)I!=="default"&&!Object.prototype.hasOwnProperty.call(b,I)&&t(b,y,I)},n=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var i=n(Bo());e.MqttClient=i.default;var o=n(yc());e.DefaultMessageIdProvider=o.default;var s=n(ug());e.UniqueMessageIdProvider=s.default;var u=n(bc());e.Store=u.default;var h=a(Og());e.connect=h.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return h.connectAsync}});var d=n(Bc());e.KeepaliveManager=d.default,e.Client=i.default,l(Bo(),e),l(fn(),e);var m=Li();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return m.ReasonCodes}})}),kg=_e(e=>{ge(),ye(),me();var t=e&&e.__createBinding||(Object.create?function(i,o,s,u){u===void 0&&(u=s);var h=Object.getOwnPropertyDescriptor(o,s);(!h||("get"in h?!o.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,u,h)}:function(i,o,s,u){u===void 0&&(u=s),i[u]=o[s]}),r=e&&e.__setModuleDefault||(Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o}),a=e&&e.__importStar||function(){var i=function(o){return i=Object.getOwnPropertyNames||function(s){var u=[];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(u[u.length]=h);return u},i(o)};return function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var u=i(o),h=0;h<u.length;h++)u[h]!=="default"&&t(s,o,u[h]);return r(s,o),s}}(),l=e&&e.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0});var n=a(Rl());e.default=n,l(Rl(),e)});const Cg=kg();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/class Pg{constructor(t){Ie(this,"url");Ie(this,"topicInterestTimestamps",new Map);Ie(this,"topicCryptoKeys",new Map);Ie(this,"queue",new op(100));Ie(this,"client");this.url=t,this.client=Cg.connect(this.url,{protocolVersion:4}),this.client.on("connect",()=>{console.log("Connected to MQTT server")}),this.client.on("message",async(r,a)=>{const l=Uint8Array.from(a);if(this.topicCryptoKeys.has(r)){const n=l.slice(0,12),i=l.slice(12,l.length),o=this.topicCryptoKeys.get(r),s=await crypto.subtle.importKey("raw",o,"AES-GCM",!1,["decrypt"]),u=await crypto.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:32},s,i),h=new Uint8Array(u),d=h[0];this.queue.enqueue(h.slice(d+1,h.length))}}),this.client.on("error",r=>{console.error("MQTT error:",r)}),this.client.on("reconnect",()=>{console.log("Reconnecting to MQTT server");for(const r of this.topicInterestTimestamps.keys()){const a=this.topicInterestTimestamps.get(r);a&&a>Date.now()-1e3*60*65&&this.client.subscribe(r)}}),this.client.on("disconnect",()=>{console.log("Disconnected from MQTT server")})}async*listen(){yield await this.queue.dequeue()}async routingIdToHexKey(t){const r=await crypto.subtle.digest("SHA-256",t.slice(0,16));return new Uint8Array(r.slice(0,8)).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),"")}async send(t){const r=t.slice(dt.ROUTING_ID_OFFSET,dt.ROUTING_ID_OFFSET+dt.ROUTING_ID_LENGTH);if(t.length<38)return;const a=t[dt.PATH_LOSS_OFFSET],n=`lazymesh_route_${await this.routingIdToHexKey(r)}`;a==0&&(this.topicInterestTimestamps.has(n)||this.client.subscribe(n),this.topicInterestTimestamps.set(n,Date.now()),this.client.subscribe(n)),this.topicCryptoKeys.set(n,r);const i=new Uint8Array(12);crypto.getRandomValues(i);const o=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]),s=new Uint8Array(t.length+1);s[0]=0,s.set(t,1);const u=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:i,tagLength:32},o,s)),h=new Uint8Array([...i,...u]);this.client.publish(n,h)}}const Rg={class:"sidebar w-18rem"},Ug={class:"tool-bar"},Mg=["onClick"],Bg=["onClick"],Lg={class:"stacked-form"},Ng=sa({__name:"Sidebar",setup(e){du(()=>{const o=localStorage.getItem("userState");if(o){const s=JSON.parse(o);sr.value=s.username,Ht.value=s.channels}});function t(){const o=rl.value;localStorage.setItem("userState",JSON.stringify(o))}function r(){const o=prompt("Enter JSON state:");if(o){const s=JSON.parse(o);sr.value=s.username,Ht.value=s.channels,t()}}function a(){const o=rl.value,s=JSON.stringify(o);alert(s)}function l(o){confirm(`Delete channel ${o}?`)&&(Ht.value=Ht.value.filter(s=>s.name!==o),t())}function n(o){const s=prompt("Enter new channel name:");s&&(Ht.value[o].name=s,t())}function i(){const o=prompt("Enter channel name:"),s=prompt("Enter channel password:");if(o&&s){if(Ht.value.some(u=>u.name===o)){alert("Channel name already in use");return}Ht.value.push({name:o,password:s}),t()}}return(o,s)=>(Ot(),Rt("div",Rg,[s[2]||(s[2]=Ge("h2",null,"Channels",-1)),Ge("ul",null,[(Ot(!0),Rt(St,null,xn(Kr(Ht),(u,h)=>(Ot(),Rt("div",{key:h},[Ge("h3",null,_r(u.name),1),Ge("div",Ug,[Ge("button",{onClick:d=>l(u.name)},"Remove",8,Mg),Ge("button",{onClick:d=>n(h)}," Rename ",8,Bg)])]))),128))]),Ge("div",Lg,[Ge("label",null,[s[1]||(s[1]=yi("Username: ")),uu(Ge("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>lt(sr)?sr.value=u:null),type:"text",placeholder:"Username",onChange:t},null,544),[[ju,Kr(sr)]])])]),Ge("div",{class:"tool-bar"},[Ge("button",{onClick:r},"Import"),Ge("button",{onClick:a},"Export"),Ge("button",{onClick:i},"Add Channel")])]))}}),jg={class:"flex-row"},Dg=sa({__name:"App",setup(e){const t=new Qd,r=new Pg("wss://test.mosquitto.org:8081");t.setTransport(r);async function a(){await t.run()}return window.setInterval(a,100),(l,n)=>(Ot(),Rt("main",jg,[or(Ng),(Ot(!0),Rt(St,null,xn(Kr(Ht),i=>(Ot(),od(sp,{password:i.password,name:i.name,node:Kr(t)},null,8,["password","name","node"]))),256))]))}}),Fg=Fu(Dg,[["__scopeId","data-v-5a2cd739"]]);$d(Fg).mount("#app");
